window.VERSION = "0.0.3";var pmb_im={controllers:angular.module("pmb_im.controllers",[]),services:angular.module("pmb_im.services",[])};pmb_im.app=angular.module("pmb_im",["ionic","ionic.wizard","ion-autocomplete","leaflet-directive","pmb_im.controllers","pmb_im.services","ngCordova","ionic-cache-src"]).constant("ApiImEndpoint",{url:"http://www.montevideo.gub.uy"}).constant("ApiDataEndpoint",{url:"/data"}).run(["$ionicPlatform","$rootScope","$cordovaKeyboard",function(e,n,t){n.VERSION=window.VERSION,e.ready(function(){window.cordova&&window.cordova.plugins.Keyboard&&cordova.plugins.Keyboard.hideKeyboardAccessoryBar(!0),ionic.Platform.isFullScreen=!1,window.StatusBar&&StatusBar.styleDefault()})}]).config(["$stateProvider","$urlRouterProvider","$compileProvider","$ionicConfigProvider",function(e,n,t,o){t.debugInfoEnabled(!1),e.state("app",{cache:!1,url:"/app","abstract":!0,templateUrl:"templates/menu.html",controller:"MapController"}).state("app.map",{cache:!1,url:"/map/",views:{menuContent:{templateUrl:"templates/map.html",controller:"PMBCtrl"}}}).state("app.intro",{cache:!1,url:"/intro",views:{menuContent:{templateUrl:"templates/intro.html",controller:"IntroCtrl"}}}),n.otherwise("/app/intro")}]),pmb_im.controllers.controller("AutoCompleteCtrl",["$scope","leafletData","locationAPI",function(e,n,t){e.ionAutocompleteElement=angular.element(document.getElementsByClassName("ion-autocomplete")),e.ionAutocompleteElement.bind("touchend click focus",e.onClick),e.onClick=function(){e.ionAutocompleteElement.controller("ionAutocomplete").showModal()},e.searchLocation=function(e){if(e)return t.searchLocationByStr(e)}}]),pmb_im.controllers.controller("IntroCtrl",["$scope","$state","$cordovaGeolocation","$stateParams","$ionicPlatform","$ionicPopup","LocationsService","DBService",function(e,n,t,o,a,r,i,l){var c=l.initDB();c.info().then(console.log.bind(console)),e.geolocate=function(){var e=!1;ionic.Platform.ready(function(){var o=(ionic.Platform.device(),{timeout:3500,enableHighAccuracy:!0,maximumAge:6e4});t.getCurrentPosition(o).then(function(t){e=!0,i.save_initial_position(t),n.go("app.map")},function(e){n.go("app.map")})})},e.$on("$ionicView.enter",function(){e.geolocate()})}]),pmb_im.controllers.controller("MapController",["$scope","$sce","_","$cordovaFile","$cordovaGeolocation","$compile","$state","$stateParams","$ionicModal","$ionicPopup","leafletData","ConfigService","ContactService","PMBService","LocationsService","ContainerService","MapService","FaqService","CategoriesService","AuthService","UserService","DBService","$timeout","$location","ErrorService","$ionicSlideBoxDelegate","$ionicScrollDelegate","PopUpService","$ionicPlatform","ConnectivityService","$cordovaInAppBrowser","$interval","$cordovaKeyboard","NewsService",function(n,t,o,a,r,i,c,u,s,m,d,p,_,f,h,g,v,y,w,b,k,E,C,S,B,I,M,$,P,x,R,A,N,T){n.featureReports={},n.baseURL=p.baseURL,n.user_cached_image="",n.report_detail_id=null,n.one_value_popup=null,n.abuse_name=null,n.abuse_email=null,n.abuse_subject=null,n.abuse_message=null,n.actualSliderIndex=0,n.$on("$ionicView.beforeEnter",function(){E.initDB(),n.set_network_events(),n.find_me(),n.walkthrough()}),P.onHardwareBackButton(function(){e.stopPropagation(),n.hide_special_divs}),n.openWebsite=function(e){var n={location:"no",clearcache:"yes",toolbar:"no"};R.open(e,"_blank",n).then(function(e){})["catch"](function(e){})},n.set_network_events=function(){n.create_online_map(),n.addPinsLayer(),n.map.center={lat:-34.901113,lng:-56.164531,zoom:18}},n.create_online_map=function(){return null==n.map&&void(n.map={defaults:{tileLayer:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",minZoom:10,maxZoom:18,zoomControlPosition:"topleft"},markers:{},events:{map:{enable:["context"],logic:"emit"}}})},n.clickOnMenuIcon=function(){var e=document.getElementById("nav-icon-lines"),t=document.getElementById("expanded_menu");n.toggleClassOnElement(e,"open"),n.toggleClassOnElement(t,"open")};n.toggleClassOnElement=function(e,n){if(e&&n){var t=e.className,o=t.indexOf(n);o==-1?t+=" "+n:t=t.substr(0,o)+t.substr(o+n.length),e.className=t}},n.next=function(){I.next(),n.actualSliderIndex=I.currentIndex()},n.previous=function(){I.previous(),n.actualSliderIndex=I.currentIndex()},n.scrollMe=function(e){S.hash(e);var n=M.$getByHandle("content");n.anchorScroll()},n.set_active_option=function(e){return!1},n.hide_special_divs=function(){var e=document.getElementById("container_details");e&&(e.className="");var n=document.getElementById("navigation_back");n&&(n.className="hidden");var t=document.getElementById("navigation_menu");t&&(t.className="")},n.addMapControls=function(){return!1},n.startReportFromCrosshairs=function(){},n.addPinsLayer=function(){if(null!=n.jsonLayer)return!1;var e=p.baseURL;onEachFeature=function(e,t){e.properties&&t.on("click",function(e){n.selected_container=g.build(e.target.feature.properties),n.selected_container.setLatLng(e.target.feature.geometry.coordinates[1],e.target.feature.geometry.coordinates[0]);var t=document.getElementById("container_details");t.className="open";var o=document.getElementById("navigation_back");o.className="";var a=document.getElementById("navigation_menu");a.className="hidden",n.goToCenter(n.selected_container.lon,n.selected_container.lat)})},l=new L.LayerJSON({url:e+"/datauy/get_containers_json/{bbox}",locAsGeoJSON:!0,minShift:5,precision:10,onEachFeature:onEachFeature}),d.getMap().then(function(e){null!=n.jsonLayer&&e.removeLayer(n.jsonLayer),n.jsonLayer=l,e.addLayer(l)}),n.lastMarkerLayer=null,l.on("dataloaded",function(e){n.reports=e.data.features}),l.on("layeradd",function(t){t.layer.eachLayer(function(t){var o="/img/pin-container.svg";t.feature.properties.pin_url&&(o=t.feature.properties.pin_url);var a=L.icon({iconUrl:e+o,iconSize:[29,34],iconAnchor:[8,8],popupAnchor:[0,-8]});t.setIcon(a),void 0===n.featureReports[t.feature.properties.GID]&&(n.featureReports[t.feature.properties.GID]=t)})})},n.goToCenter=function(e,t){var o={timeout:3e3,enableHighAccuracy:!0};r.getCurrentPosition(o).then(function(o){var a=o.coords.latitude,r=o.coords.longitude;n.getRoad(a,r,t,e)},function(n){t-=6e-4,v.centerMapOnCoords(t,e,17)})},n.lastRoad=null,n.nav_back=function(){n.hide_special_divs(),null!=n.lastRoad&&(n.lastRoad.spliceWaypoints(0,2),d.getMap().then(function(e){e.removeControl(n.lastRoad),n.lastRoad=null}))},n.walkthrough=function(){if(null!=n.walkthrough_modal)return!1;var e=E.getDoneWalkthrough();e.then(function(e){null!=e.status&&"done"==e.status||n.openWalkThroughModal()})["catch"](function(e){n.openWalkThroughModal()})},n.walkthroughFromMenu=function(){n.closeMainMenu(),n.openWalkThroughModal()},n.openWalkThroughModal=function(){s.fromTemplateUrl("templates/walkthrough.html",{scope:n,hardwareBackButtonClose:!1,animation:"slide-in-up"}).then(function(e){n.walkthrough_modal=e,n.walkthrough_modal.show()})},n.finishWalkthrough=function(){n.walkthrough_modal.hide(),n.walkthrough_modal.remove(),E.saveDoneWalkthrough()},n.subject="Feedback",n.toggleGroup=function(e){n.isGroupShown(e)?n.shownGroup=null:n.shownGroup=e},n.isGroupShown=function(e){return n.shownGroup===e},n.openProgramas=function(){n.main_menu_modal.hide(),n.main_menu_modal.remove(),s.fromTemplateUrl("templates/programas.html",{scope:n,hardwareBackButtonClose:!0,animation:"none"}).then(function(e){n.item_modal=e,n.item_modal.show()})},n.openAboutProyect=function(){n.main_menu_modal.hide(),n.main_menu_modal.remove(),s.fromTemplateUrl("templates/sobre_proyecto.html",{scope:n,hardwareBackButtonClose:!0,animation:"none"}).then(function(e){n.item_modal=e,n.item_modal.show()})},n.news=null,n.gotoLink=function(e){window.open(e,"_system")},n.openNews=function(){n.showDiv("menu-spinner"),T.all().then(function(e){n.news=e.data.items,null!=n.item_modal&&(n.item_modal.hide(),n.item_modal.remove()),n.hideDiv("menu-spinner"),n.main_menu_modal.hide(),n.main_menu_modal.remove(),s.fromTemplateUrl("templates/news.html",{scope:n,hardwareBackButtonClose:!0,animation:"none"}).then(function(e){n.item_modal=e,n.item_modal.show()})})},n.showDiv=function(e){var n=document.getElementById(e);n.classList.remove("hidden")},n.hideDiv=function(e,n){var t=document.getElementById(e);t.className=t.className+" hidden"},n.openContact=function(){n.subject="Feedback",null!=n.item_modal&&(n.item_modal.hide(),n.item_modal.remove()),n.main_menu_modal.hide(),n.main_menu_modal.remove(),s.fromTemplateUrl("templates/contact.html",{scope:n,hardwareBackButtonClose:!0,animation:"none"}).then(function(e){n.item_modal=e,n.item_modal.show()})},n.openContactSuccess=function(){n.item_modal.hide(),n.item_modal.remove(),s.fromTemplateUrl("templates/contact_success.html",{scope:n,hardwareBackButtonClose:!0,animation:"none"}).then(function(e){n.item_modal=e,n.item_modal.show()})},n.send_contact_request=function(){var e=document.getElementById("contact_nombre"),t=document.getElementById("contact_email"),o=document.getElementById("contact_select"),a=document.getElementById("contact_mensaje"),r=document.getElementById("contact_error_label");if(B.check_field(e,"notNull",r)&&B.check_field(t,"notNull",r)&&B.check_field(t,"email",r)&&B.check_field(o,"select",r)&&B.check_field(a,"notNull",r))_.send_contact(e.value,t.value,o[o.selectedIndex].value,a.value).then(function(e){B.http_data_response_is_successful_ajax(e)&&n.openContactSuccess()});else{var i=document.getElementById("contact_error");i.className="contact_error"}},n.openMainMenuFromItem=function(){n.item_modal.hide(),n.item_modal.remove(),s.fromTemplateUrl("templates/main_menu.html",{scope:n,hardwareBackButtonClose:!0,animation:"none"}).then(function(e){n.main_menu_modal=e,n.main_menu_modal.show()})},n.openMainMenu=function(){s.fromTemplateUrl("templates/main_menu.html",{scope:n,hardwareBackButtonClose:!0,animation:"none"}).then(function(e){n.main_menu_modal=e,n.main_menu_modal.show()})},n.closeMainMenu=function(){n.main_menu_modal.hide(),n.main_menu_modal.remove()},n.getRoad=function(e,t,o,a){d.getMap().then(function(r){r.closePopup();var i=L.icon({iconUrl:"./img/me.svg",iconSize:[29,34],iconAnchor:[8,8],popupAnchor:[0,-8]});null!=n.now_marker&&r.removeLayer(n.now_marker),n.now_marker=L.marker([e,t],{icon:i}).addTo(r),null!=n.lastRoad&&(n.lastRoad.spliceWaypoints(0,2),r.removeControl(n.lastRoad),n.lastRoad=null),n.lastRoad=L.Routing.control({waypoints:[L.latLng(e,t),L.latLng(o,a)],language:"es",router:L.Routing.mapbox("pk.eyJ1IjoibGl0b3hwZXJhbG9jYSIsImEiOiJjajNhdHUzbTMwMTQwMnFwaGRidmc2emZ5In0.dED4D4_LBjRc-sGa5zt5Yg"),createMarker:function(e,n,t){return null},lineOptions:{styles:[{color:"#4c4c4c",opacity:1,weight:5}]},fitSelectedRoutes:!1}).addTo(r),o-=8e-4,v.centerMapOnCoords(o,a,17)})},n.model=[],n.externalModel=[],n.selectedItems=[],n.preselectedSearchItems=[],n.clickedValueModel="",n.removedValueModel="",n.itemsRemoved=function(e){n.removedValueModel=e},n.user_options=function(){var e=document.getElementById("user-options-menu");if("block"==e.style.display)e.style.display="none";else{var t=k.name;null==t?n.show_anonymous_menu():n.show_user_menu()}},n.show_anonymous_menu=function(){var e=document.getElementById("user-options-menu"),t="<div id='auth_options'><div class='nonauth-link' ng-click='show_login_modal()'>Iniciar sesión</div>";t+="<div class='nonauth-link' ng-click='show_sign_up_modal()'>Registrarse</div></div>",e.innerHTML=t,i(e)(n),e.style.height="120px",e.style.width="150px",e.style.display="block"},n.show_user_menu=function(){var e=document.getElementById("user-options-menu"),t=k.name+"<div id='auth_options'><div class='user-logged-link' ng-click='show_edit_profile_modal()'>Mi perfil</div>";t+="<div class='user-logged-link' ng-click='list_offline_reports_menu()'>Reportes pendientes</div>",t+="<div class='user-logged-link' ng-click='sign_out()'>Cerrar sesión</div></div>",e.innerHTML=t,i(e)(n),e.style.height="160px",e.style.width="200px",e.style.display="block"},n.create_field_array=function(e,n,t){var o=new Array;return o.name=e,o.type=n,o.value=t,o},n.sign_in=function(e,t){if(x.isOnline()){document.getElementById("spinner-inside-modal").style.display="block";var o=new Array;o.push(n.create_field_array("Email","email",e)),o.push(n.create_field_array("Contraseña","notNull",t)),B.check_fields(o,"error_container")?b.sign_in(t,e).then(function(o){B.http_response_is_successful(o,"error_container")?(k.save_user_data(o.data.name,e,t,o.data.identity_document,o.data.phone,o.data.picture_url),E.saveUser(o.data.name,e,t,o.data.identity_document,o.data.phone,o.data.picture_url),document.getElementById("spinner-inside-modal").style.display="none",n.close_login_modal(),n.set_user_picture(1)):document.getElementById("spinner-inside-modal").style.display="none"},function(e){document.getElementById("spinner-inside-modal").style.display="none",B.show_error_message("error_container",e.statusText)}):document.getElementById("spinner-inside-modal").style.display="none"}else $.show_alert("Sin conexión a internet","Para iniciar sesión debe estar conectado a internet")},n.sign_in_ajax=function(e,t){b.sign_in(t,e).then(function(o){return B.http_response_is_successful_ajax(o)?(k.save_user_data(o.data.name,e,t,o.data.identity_document,o.data.phone,o.data.picture_url),E.saveUser(o.data.name,e,t,o.data.identity_document,o.data.phone,o.data.picture_url),n.set_user_picture(1),1):0},function(e){return 0})},n.sign_out=function(){k.erase_user_data(),E.eraseUser(),document.getElementById("spinner").style.display="none",n.set_user_picture(0),document.getElementById("user-options-menu").style.display="none"},n.check_user_logged=function(){return!1},n.set_offline_user=function(){},n.set_user_picture=function(e){},n.search_street=function(){n.hide_special_divs(),document.getElementById("search-textbox").parentNode.click()},n.find_me=function(){n.set_active_option("button-find-me"),n.hide_special_divs();var e={timeout:3e3,enableHighAccuracy:!0};r.getCurrentPosition(e).then(function(e){var t=18,o=L.icon({iconUrl:"./img/me.svg",iconSize:[29,34],iconAnchor:[8,8],popupAnchor:[0,-8]});d.getMap().then(function(a){null!=n.now_marker&&a.removeLayer(n.now_marker),n.now_marker=L.marker([e.coords.latitude,e.coords.longitude],{icon:o}).addTo(a),v.centerMapOnCoords(e.coords.latitude,e.coords.longitude,t)})},function(e){})}}]),pmb_im.controllers.controller("PMBCtrl",["$scope","$state","leafletData","PMBService","ContainerService","locationAPI","MapService","_","Loader","LocationsService",function(e,n,t,o,a,r,i,l,c,u){e.reportButton={text:"Reportar",state:"unConfirmed"},e.$on("$ionicView.afterEnter",function(){document.getElementById("spinner").style.display="none";t.getMap();""!=u.initial_lat?i.centerMapOnCoords(u.initial_lat,u.initial_lng,18):i.centerMapOnCoords(-34.901113,-56.164531,16)}),e.searchMode="calle.lugar",e.location={calle:null,esquina:null,lugar:null};var s={tipo:null,pathParams:[]};e.$on("$stateChangeSuccess",function(){e.ionAutocompleteElement=angular.element(document.getElementsByClassName("ion-autocomplete")),e.ionAutocompleteElement.bind("touchend click focus",e.onClick)}),e.initReport=function(){var n,o=L.icon({iconUrl:"img/pin@x2.png",iconSize:[70,110],iconAnchor:[-18,55]});"unConfirmed"==e.reportButton.state&&(e.reportButton.text="Confirmar",e.reportButton.state="about2Confirm",t.getMap().then(function(t){n=new L.marker(t.getCenter(),{icon:o,clickable:!1}).addTo(t),ReportService._new(),ReportService.current.setLatLng(t.getCenter()),e.ionAutocompleteElement=angular.element(document.getElementsByClassName("ion-autocomplete")),e.ionAutocompleteElement.bind("touchend click focus",e.onClick)}))},e.isNumeric=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},e.searchLocation=function(n){var t;if(n&&n.length>=2){if("calle.lugar"==e.searchMode)t=r.searchLocationByStr(n);else{if(e.isNumeric(n.trim())){var o=[],a={descTipo:"NUMERO",nombre:n,codigo:n};return o[0]=a,o}t=r.searchEsquinaByStr({calle:e.selectedItem.codigo,esquina:n})}return t}return[]},e.onClick=function(){e.ionAutocompleteElement.controller("ionAutocomplete").showModal()},e.itemsClicked=function(n){if(e.clickedValueModel=n,e.selectedItem=n.item,e.ionAutocompleteElementSearch=angular.element(document.getElementsByClassName("ion-autocomplete-search")),"esquina.numero"==e.searchMode){s.pathParams=[],e.location.esquina=e.selectedItem,s.pathParams.push(e.location.calle.codigo),s.pathParams.push(e.location.esquina.codigo);var t="";e.isNumeric(e.selectedItem.nombre)?s.tipo="DIRECCION":(s.tipo="ESQUINA",t="esquina"),r.getLocationGeom(s).then(function(n){i.goToPlace(angular.extend({nombre:e.location.calle.nombre+" "+t+" "+e.selectedItem.nombre,geom:n.geoJSON},n),e),e.searchMode="calle.lugar",e.ionAutocompleteElementSearch.attr("placeholder","Buscar calle"),e.externalModel=[]})}else e.location.calle=e.selectedItem,e.searchMode="esquina.numero",e.ionAutocompleteElementSearch.attr("placeholder","Esquina o número"),e.ionAutocompleteElement.controller("ionAutocomplete").showModal(),e.preselectedSearchItems=[]},e.itemsCanceled=function(n){var t=parseInt(n.searchQuery);Number.isInteger(t)&&(s.tipo="DIRECCION",s.pathParams.push(e.location.calle.codigo),s.pathParams.push(t),r.getLocationGeom(s).then(function(n){i.goToPlace(angular.extend({nombre:e.selectedItem.nombre+" "+t},n),e),e.searchMode="calle.lugar"},function(n){c.showAlert("Error","No existe esa direccion").then(function(n){e.ionAutocompleteElement.controller("ionAutocomplete").showModal()})}))}}]),pmb_im.services.factory("AuthService",["$http","$cordovaFileTransfer","ConfigService",function(e,n,t){var o=t.baseURL+"/auth/ajax/";return{sign_in:function(n,t){return e.get(o+"sign_in",{params:{password_sign_in:n,email:t}})},sign_out:function(n,t){return e.get(o+"sign_out",{params:{password_sign_in:n,email:t}})},create_user:function(n,t,a,r,i){return e.get(o+"create_user",{params:{form_email:n,name:t,password_register:a,identity_document:r,phone:i}})},change_password:function(n,t,a,r,i){return e.get(o+"create_user",{params:{login_email:n,name:t,password_register:a,identity_document:r,phone:i}})},edit_user:function(t,a,r,i,l,c,u){if(null!=u&&""!=u){var s={fileKey:"photo",params:{email:t,password_sign_in:a,name:r,new_email:i,identity_document:l,phone:c}},m=!0;return n.upload(o+"edit_user",u,s,m)}return e.get(o+"edit_user",{params:{email:t,password_sign_in:a,name:r,new_email:i,identity_document:l,phone:c}})}}}]),pmb_im.services.factory("CategoriesService",["$http","LocationsService","ConfigService","DBService",function(e,n,t,o){var a=t.baseURL+"/report/new/ajax";return{all:function(){return e.get(a,{params:{lat:n.new_report_lat,lon:n.new_report_lng,format:"json"}})},getCachedCategories:function(){return o.getCategories()}}}]),pmb_im.services.factory("ConfigService",["$http",function(e){var n={};return n.baseURL="http://dondereciclo.development.datauy.org",n}]),pmb_im.services.factory("ConnectivityService",["$cordovaNetwork",function(e){return{isOnline:function(){return ionic.Platform.isWebView()?e.isOnline():navigator.onLine},isOffline:function(){return ionic.Platform.isWebView()?!e.isOnline():!navigator.onLine}}}]),pmb_im.services.factory("ContactService",["$http","ConfigService",function(e,n){var t=n.baseURL+"/datauy/contact/";return{send_contact:function(n,o,a,r){return e.get(t+n+"/"+o+"/"+a+"/"+r,{params:{}})}}}]),pmb_im.services.factory("ContainerService",["$http","leafletData","ConfigService",function(e,n,t){function o(e){angular.extend(this,e)}var a=t.baseURL+"/report/ajax/";return o.getById=function(n){var t=a+n;return e.get(t).then(function(e){return e})},o._default=function(){var e={lat:0,lon:0,title:null,detail:null,may_show_name:1,category:null,phone:null,pc:"",file:null,name:null,email:null,submit_sign_in:1,password_sign_in:null,remember_me:1};return new o(e)},o._all=[],o.current={},o._new=function(){return o._default()},o.build=function(e){return new o(e)},o.prototype.setLatLng=function(e,n){this.lat=e,this.lon=n},o}]),pmb_im.services.factory("DBService",["$q",function(e){function n(e,n,t,o,r,i){var l={_id:"user-logged",name:e,email:n,password:t,identity_document:o,phone:r,picture_url:i};a().then(function(e){return l._rev=e._rev,f.put(l)})["catch"](function(e){return f.put(l)})}function t(){var e={_id:"done-walkthrough",status:"done"};return f.put(e)}function o(){return f.get("done-walkthrough")}function a(){return f.get("user-logged")}function r(){f.get("user-logged").then(function(e){return f.remove(e)})}function i(){return f=new PouchDB("pmb_local_db")}function l(e){var n=new Date,t="report_"+n.getFullYear()+(n.getMonth()+1)+n.getDate()+n.getMilliseconds();return e._id=t,f.put(e)}function c(e){return f.put(e)}function u(){return f.get("categories-list")}function s(e){u().then(function(n){return e._rev=n._rev,f.put(e)})["catch"](function(n){return e._id="categories-list",f.put(e)})}function m(e){return f.get(e)}function d(){return f.allDocs({include_docs:!0,attachments:!1,startkey:"report_",endkey:"report_￿"})}function p(e){f.get(e).then(function(e){return f.remove(e)})}function _(e){return f.remove(e)}var f;return{initDB:i,saveUser:n,getUser:a,eraseUser:r,saveReport:l,getReport:m,getAllReports:d,updateReport:c,deleteReport:p,deleteGivenReport:_,getCategories:u,saveCategories:s,getDoneWalkthrough:o,saveDoneWalkthrough:t}}]),pmb_im.services.factory("ErrorService",["$http","$ionicPopup","ValidationService",function(e,n,t){return{http_response_is_successful:function(e,n){var t=document.getElementById(n);return 0==e.data.result?(t.innerHTML="<h3>"+e.data.message+"</h3>",t.style.display="block",!1):(t.style.display="none",!0)},http_response_is_successful_ajax:function(e){return 0!=e.data.result},http_response_is_successful_popup:function(e){if(0==e.data.result){var t=n.alert({title:"Error",template:e.data.message});return t.then(function(e){return!1}),!1}return!0},http_data_response_is_successful:function(e,n){var t=document.getElementById(n);return 0==e.result?(t.innerHTML="<h3>"+e.message+"</h3>",t.style.display="block",!1):(t.style.display="none",!0)},http_data_response_is_successful_ajax:function(e){return 0!=e.result},show_error_message:function(e,n){var t=document.getElementById(e);return t.innerHTML="<h3>"+n+"</h3>",t.style.display="block",!1},show_error_message_popup:function(e){var t=n.alert({title:"Error",template:e});return t.then(function(e){return!1}),!1},check_fields:function(e,n){var o="";if(e.forEach(function(e){"notNull"==e.type&&(t.validate_not_empty(e.value)||(o=o+'<h3>- El campo "'+e.name+'" no puede estar vacío.</h3>')),"email"==e.type&&(t.validate_email(e.value)||(o=o+'<h3>- El campo "'+e.name+'" no es una dirección de correo válida.</h3>')),"iddoc_uy"==e.type&&(t.validate_iddoc_uy(e.value)||(o=o+'<h3>- El campo "'+e.name+'" no es una cédula uruguaya válida.</h3>')),"two_words"==e.type&&(t.validate_two_words(e.value)||(o=o+'<h3>- El campo "'+e.name+'" debe contener al menos dos palabras.</h3>'))}),""==o)return!0;var a=document.getElementById(n);return a.innerHTML=o,a.style.display="block",!1},check_field:function(e,n,o){var a=!0;return"notNull"==n&&(t.validate_not_empty(e.value)||(a=!1,o.innerHTML="Debes completar<br/>el campo "+e.name)),"email"==n&&(t.validate_email(e.value)||(a=!1,o.innerHTML="El campo "+e.name+"<br/>no es un email válido")),"iddoc_uy"==n&&(t.validate_iddoc_uy(e.value)||(a=!1)),"two_words"==n&&(t.validate_two_words(e.value)||(a=!1)),"textarea"==n&&(t.validate_not_empty(e.innerHTML)||(a=!1,o.innerHTML="Debes completar<br/>el campo "+e.name)),"select"==n&&(t.validate_not_minusone(e[e.selectedIndex].value)||(a=!1,o.innerHTML="Debes elegir valor<br/>para el campo "+e.name)),a?e.style.borderColor="#979797":e.style.borderColor="red",a}}}]),pmb_im.services.factory("FaqService",["$http","ConfigService",function(e,n){var t=n.baseURL+"/faq";return{all:function(){return e.get(t,{params:{ajax:"1"}})}}}]),pmb_im.services.factory("Loader",["$ionicLoading","$timeout","$ionicPopup",function(e,n,t){var o={showLoading:function(n){n=n||"Loading...",e.show({template:n})},hideLoading:function(){e.hide()},toggleLoadingWithMessage:function(e,t){var o=this;o.showLoading(e),n(function(){o.hideLoading()},t||3e3)},confirmPopup:function(e,n){var o=t.confirm({title:e,template:n});return o},showAlert:function(e,n){var o=t.alert({title:e,template:n});return o}};return o}]),pmb_im.services.factory("LocationsService",[function(){var e={};return e.initial_lat="",e.initial_lng="",e.new_report_lat="",e.new_report_lng="",e.save_initial_position=function(n){e.initial_lat=n.coords.latitude,e.initial_lng=n.coords.longitude},e.save_new_report_position=function(n,t){e.new_report_lat=n,e.new_report_lng=t},e.savedLocations=[],e}]),pmb_im.services.factory("MapService",["leafletData","$compile",function(e,n){proj4.defs("EPSG:32721","+proj=utm +zone=21 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs");var t={};return t.goToPlace=function(n,t){var o={properties:{nombre:n.nombre},crs:{type:"name",properties:{name:"urn:ogc:def:crs:EPSG::32721"}}};o=angular.extend(o,n.geom),e.getMap().then(function(e){var n;L.Proj.geoJson(o,{pointToLayer:function(e,t){return n=t,L.marker(t)}});e.setView(n,18)})},t.centerMapOnCoords=function(n,t,o){e.getMap().then(function(e){e.setView(new L.LatLng(n,t),o)})},t}]),pmb_im.services.factory("NewsService",["$http","ConfigService",function(e,n){var t=n.baseURL+"/datauy/news";return{all:function(){return e.get(t,{params:{}})}}}]),pmb_im.services.factory("PMBService",["$http","leafletData","$cordovaFileTransfer","ConfigService",function(e,n,t,o){var a=o.baseURL,r={report:function(n){if(n.file){var o={fileKey:"photo",fileName:"image.jpeg",chunkedMode:!1,mimeType:"image/jpeg",params:n};o.headers={Connection:"Close"};var r=!0;return t.upload(a+"/report/new/mobile",n.file,o,r)}return e.get(a+"/report/new/mobile",{params:n})},subscribe:function(n,t){return e.get(a+"/alert/subscribe_ajax",{params:{rznvy:n,id:t,type:"updates"}})},abuse:function(n,t,o,r,i){return e.get(a+"/contact/submit_ajax",{params:{em:n,id:t,name:o,subject:r,message:i}})},hide:function(n){var t="/report/delete_ajax/"+n;return e.get(a+t,{params:{}})},comment:function(n,t,o,r,i,l,c){return e.get(a+"/report/update_ajax",{params:{submit_update:1,id:n,may_show_name:i,add_alert:l,fixed:c,update:t,name:o,form_rznvy:r}})}};return r}]),pmb_im.services.factory("PopUpService",["$ionicPopup","ValidationService",function(e,n){return{show_alert:function(n,t){var o=e.alert({title:n,template:t});return o.then(function(e){return!0}),!0},confirmPopup:function(n,t){var o=e.confirm({title:n,template:t});return o},askForOneValuePopUp:function(t,o,a,r,i){$scope=t;var l=e.show({template:r+': <input type="text" id="one_value_popup"><div id="error_container_inside"></div>',title:o,subTitle:a,scope:$scope,buttons:[{text:"Cancelar"},{text:"<b>Enviar</b>",type:"button-positive",onTap:function(e){var t="",o=document.getElementById("one_value_popup").value;if("notNull"==i&&(n.validate_not_empty(o)||(t=t+'<h3>- El campo "'+r+'" no puede estar vacío.</h3>')),"email"==i&&(n.validate_email(o)||(t=t+'<h3>- El campo "'+r+'" no es una dirección de correo válida.</h3>')),"iddoc_uy"==i&&(n.validate_iddoc_uy(o)||(t=t+'<h3>- El campo "'+r+'" no es una cédula uruguaya válida.</h3>')),"two_words"==i&&(n.validate_two_words(o)||(t=t+'<h3>- El campo "'+r+'" debe contener al menos dos palabras.</h3>')),""==t)return o;var a=document.getElementById("error_container_inside");a.innerHTML=t,a.style.display="block",e.preventDefault()}}]});return l}}}]),pmb_im.services.factory("locationAPI",["$http","$q","ApiImEndpoint","ApiDataEndpoint",function(e,n,t,o){var a="ubicacionesRestProd",r={};return r.searchLocationByStr=function(n){return e.get(t.url+"/"+a+"/calles",{method:"GET",params:{nombre:n}})},r.searchEsquinaByStr=function(n){return e.get(t.url+"/"+a+"/cruces/"+n.calle+"/",{params:{nombre:n.esquina}})},r.getLocationGeom=function(n){for(var o=t.url+"/"+a+r.getParamPathByTipo(n.tipo),i=0;i<n.pathParams.length;i++)o+="/"+n.pathParams[i];return e.get(o).then(function(e){return e.data})},r.getParamPathByTipo=function(e){var n={ESQUINA:"/esquina",DIRECCION:"/direccion"};return n[e]},r}]),pmb_im.services.factory("_",[function(){return window._}]),pmb_im.services.factory("UserService",["$http",function(e){var n={};return n.name=null,n.email=null,n.password=null,n.identity_document=null,n.phone="",n.picture_url="url(./img/icon-user-anonymous.png)",n.save_user_data=function(e,t,o,a,r,i){n.name=e,n.email=t,n.password=o,n.identity_document=a,n.phone=r,n.picture_url=i},n.erase_user_data=function(){n.name=null,n.email=null,n.password=null,n.identity_document=null,n.phone=null,n.picture_url=null},n.get_user_data=function(){},n.add_photo=function(e){n.picture_url=e},n.isLogged=function(){return null!=n.name&&""!=n.name},n}]),pmb_im.services.factory("ValidationService",["$http","$ionicPopup",function(e,n){return{validate_not_minusone:function(e){return e!=-1},validate_not_empty:function(e){return null!=e&&"undefined"!=e&&""!=e},validate_two_words:function(e){if(null!=e&&"undefined"!=e&&""!=e){var n=e.split(" ").filter(function(e){return""!==e});return n.length>1}return!1},validate_email:function(e){if(null!=e&&"undefined"!=e&&""!=e){var n=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return n.test(e)}return!1},validate_iddoc_uy:function(e){if(null!=e&&"undefined"!=e&&""!=e){e=e.replace(/\D/g,"");var n=e[e.length-1],t=0,o=0;if(e.length<=6)for(o=e.length;o<7;o++)e="0"+e;for(o=0;o<7;o++)t+=parseInt("2987634"[o])*parseInt(e[o])%10;var a;return a=t%10===0?0:10-t%10,n==a}return!1}}}]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImNvbnRyb2xsZXJzL2F1dG9jb21wbHRlLmN0cmwuanMiLCJjb250cm9sbGVycy9pbnRyby5jdHJsLmpzIiwiY29udHJvbGxlcnMvbWFwLmN0cmwuanMiLCJjb250cm9sbGVycy9wbWIuY3RybC5qcyIsInNlcnZpY2VzL2F1dGguc2VydmljZXMuanMiLCJzZXJ2aWNlcy9jYXRlZ29yaWVzLnNlcnZpY2UuanMiLCJzZXJ2aWNlcy9jb25maWcuc2VydmljZXMuanMiLCJzZXJ2aWNlcy9jb25uZWN0aXZpdHkuc2VydmljZXMuanMiLCJzZXJ2aWNlcy9jb250YWN0LnNlcnZpY2VzLmpzIiwic2VydmljZXMvY29udGFpbmVyLnNlcnZpY2UuanMiLCJzZXJ2aWNlcy9kYi5zZXJ2aWNlcy5qcyIsInNlcnZpY2VzL2Vycm9yLnNlcnZpY2VzLmpzIiwic2VydmljZXMvZmFxLnNlcnZpY2UuanMiLCJzZXJ2aWNlcy9sb2FkZXIuc2VydmljZXMuanMiLCJzZXJ2aWNlcy9sb2NhdGlvbnNTZXJ2aWNlLmpzIiwic2VydmljZXMvbWFwLnNlcnZpY2VzLmpzIiwic2VydmljZXMvbmV3cy5zZXJ2aWNlLmpzIiwic2VydmljZXMvcG1iLnNlcnZpY2UuanMiLCJzZXJ2aWNlcy9wb3B1cC5zZXJ2aWNlcy5qcyIsInNlcnZpY2VzL3ViaWNhY2lvbmVzLnNlcnZpY2VzLmpzIiwic2VydmljZXMvdW5kZXJzY29yZS5zZXJ2aWNlLmpzIiwic2VydmljZXMvdXNlci5zZXJ2aWNlcy5qcyIsInNlcnZpY2VzL3ZhbGlkYXRpb24uc2VydmljZXMuanMiXSwibmFtZXMiOlsicG1iX2ltIiwiY29udHJvbGxlcnMiLCJhbmd1bGFyIiwibW9kdWxlIiwic2VydmljZXMiLCJhcHAiLCJjb25zdGFudCIsInVybCIsInJ1biIsIiRpb25pY1BsYXRmb3JtIiwiJHJvb3RTY29wZSIsIiRjb3Jkb3ZhS2V5Ym9hcmQiLCJWRVJTSU9OIiwid2luZG93IiwicmVhZHkiLCJjb3Jkb3ZhIiwicGx1Z2lucyIsIktleWJvYXJkIiwiaGlkZUtleWJvYXJkQWNjZXNzb3J5QmFyIiwiaW9uaWMiLCJQbGF0Zm9ybSIsImlzRnVsbFNjcmVlbiIsIlN0YXR1c0JhciIsInN0eWxlRGVmYXVsdCIsImNvbmZpZyIsIiRzdGF0ZVByb3ZpZGVyIiwiJHVybFJvdXRlclByb3ZpZGVyIiwiJGNvbXBpbGVQcm92aWRlciIsIiRpb25pY0NvbmZpZ1Byb3ZpZGVyIiwiZGVidWdJbmZvRW5hYmxlZCIsInN0YXRlIiwiY2FjaGUiLCJhYnN0cmFjdCIsInRlbXBsYXRlVXJsIiwiY29udHJvbGxlciIsInZpZXdzIiwibWVudUNvbnRlbnQiLCJvdGhlcndpc2UiLCIkc2NvcGUiLCJsZWFmbGV0RGF0YSIsImxvY2F0aW9uQVBJIiwiaW9uQXV0b2NvbXBsZXRlRWxlbWVudCIsImVsZW1lbnQiLCJkb2N1bWVudCIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJiaW5kIiwib25DbGljayIsInNob3dNb2RhbCIsInNlYXJjaExvY2F0aW9uIiwicXVlcnkiLCJzZWFyY2hMb2NhdGlvbkJ5U3RyIiwiJHN0YXRlIiwiJGNvcmRvdmFHZW9sb2NhdGlvbiIsIiRzdGF0ZVBhcmFtcyIsIiRpb25pY1BvcHVwIiwiTG9jYXRpb25zU2VydmljZSIsIkRCU2VydmljZSIsImRiIiwiaW5pdERCIiwiaW5mbyIsInRoZW4iLCJjb25zb2xlIiwibG9nIiwiZ2VvbG9jYXRlIiwibG9jYXRlZCIsInBvc09wdGlvbnMiLCJkZXZpY2UiLCJ0aW1lb3V0IiwiZW5hYmxlSGlnaEFjY3VyYWN5IiwibWF4aW11bUFnZSIsImdldEN1cnJlbnRQb3NpdGlvbiIsInBvc2l0aW9uIiwic2F2ZV9pbml0aWFsX3Bvc2l0aW9uIiwiZ28iLCJlcnIiLCIkb24iLCIkc2NlIiwiXyIsIiRjb3Jkb3ZhRmlsZSIsIiRjb21waWxlIiwiJGlvbmljTW9kYWwiLCJDb25maWdTZXJ2aWNlIiwiQ29udGFjdFNlcnZpY2UiLCJQTUJTZXJ2aWNlIiwiQ29udGFpbmVyU2VydmljZSIsIk1hcFNlcnZpY2UiLCJGYXFTZXJ2aWNlIiwiQ2F0ZWdvcmllc1NlcnZpY2UiLCJBdXRoU2VydmljZSIsIlVzZXJTZXJ2aWNlIiwiJHRpbWVvdXQiLCIkbG9jYXRpb24iLCJFcnJvclNlcnZpY2UiLCIkaW9uaWNTbGlkZUJveERlbGVnYXRlIiwiJGlvbmljU2Nyb2xsRGVsZWdhdGUiLCJQb3BVcFNlcnZpY2UiLCJDb25uZWN0aXZpdHlTZXJ2aWNlIiwiJGNvcmRvdmFJbkFwcEJyb3dzZXIiLCIkaW50ZXJ2YWwiLCJOZXdzU2VydmljZSIsImZlYXR1cmVSZXBvcnRzIiwiYmFzZVVSTCIsInVzZXJfY2FjaGVkX2ltYWdlIiwicmVwb3J0X2RldGFpbF9pZCIsIm9uZV92YWx1ZV9wb3B1cCIsImFidXNlX25hbWUiLCJhYnVzZV9lbWFpbCIsImFidXNlX3N1YmplY3QiLCJhYnVzZV9tZXNzYWdlIiwiYWN0dWFsU2xpZGVySW5kZXgiLCJzZXRfbmV0d29ya19ldmVudHMiLCJmaW5kX21lIiwid2Fsa3Rocm91Z2giLCJvbkhhcmR3YXJlQmFja0J1dHRvbiIsImUiLCJzdG9wUHJvcGFnYXRpb24iLCJoaWRlX3NwZWNpYWxfZGl2cyIsIm9wZW5XZWJzaXRlIiwib3B0aW9ucyIsImxvY2F0aW9uIiwiY2xlYXJjYWNoZSIsInRvb2xiYXIiLCJvcGVuIiwiZXZlbnQiLCJjcmVhdGVfb25saW5lX21hcCIsImFkZFBpbnNMYXllciIsIm1hcCIsImNlbnRlciIsImxhdCIsImxuZyIsInpvb20iLCJkZWZhdWx0cyIsInRpbGVMYXllciIsIm1pblpvb20iLCJtYXhab29tIiwiem9vbUNvbnRyb2xQb3NpdGlvbiIsIm1hcmtlcnMiLCJldmVudHMiLCJlbmFibGUiLCJsb2dpYyIsImNsaWNrT25NZW51SWNvbiIsImxpbmVzbWVudSIsImdldEVsZW1lbnRCeUlkIiwiZXhwYW5kZWRfbWVudSIsInRvZ2dsZUNsYXNzT25FbGVtZW50IiwiY2xhc3NOYW1lIiwiY2xhc3NTdHJpbmciLCJuYW1lSW5kZXgiLCJpbmRleE9mIiwic3Vic3RyIiwibGVuZ3RoIiwibmV4dCIsImN1cnJlbnRJbmRleCIsInByZXZpb3VzIiwic2Nyb2xsTWUiLCJhbmNob3JfaWQiLCJoYXNoIiwiaGFuZGxlIiwiJGdldEJ5SGFuZGxlIiwiYW5jaG9yU2Nyb2xsIiwic2V0X2FjdGl2ZV9vcHRpb24iLCJidXR0b25pZCIsImNvbnRhaW5lcl9kZXRhaWxzIiwibmF2YmFjayIsIm5hdmlnYXRpb25fbWVudSIsImFkZE1hcENvbnRyb2xzIiwic3RhcnRSZXBvcnRGcm9tQ3Jvc3NoYWlycyIsImpzb25MYXllciIsIm9uRWFjaEZlYXR1cmUiLCJmZWF0dXJlIiwibGF5ZXIiLCJwcm9wZXJ0aWVzIiwib24iLCJzZWxlY3RlZF9jb250YWluZXIiLCJidWlsZCIsInRhcmdldCIsInNldExhdExuZyIsImdlb21ldHJ5IiwiY29vcmRpbmF0ZXMiLCJjb250YWluZXJEZXRhaWxzIiwiYmFja01lbnUiLCJtZW51IiwiZ29Ub0NlbnRlciIsImxvbiIsImwiLCJMIiwiTGF5ZXJKU09OIiwibG9jQXNHZW9KU09OIiwibWluU2hpZnQiLCJwcmVjaXNpb24iLCJnZXRNYXAiLCJyZW1vdmVMYXllciIsImFkZExheWVyIiwibGFzdE1hcmtlckxheWVyIiwicmVwb3J0cyIsImRhdGEiLCJmZWF0dXJlcyIsImVhY2hMYXllciIsIl9sYXllciIsImljb24iLCJwaW5fdXJsIiwibWFya2VySWNvbiIsImljb25VcmwiLCJpY29uU2l6ZSIsImljb25BbmNob3IiLCJwb3B1cEFuY2hvciIsInNldEljb24iLCJ1bmRlZmluZWQiLCJHSUQiLCJsb25nVG8iLCJsYXRUbyIsImxhdEZyb20iLCJjb29yZHMiLCJsYXRpdHVkZSIsImxvbmdGcm9tIiwibG9uZ2l0dWRlIiwiZ2V0Um9hZCIsImNlbnRlck1hcE9uQ29vcmRzIiwibGFzdFJvYWQiLCJuYXZfYmFjayIsInNwbGljZVdheXBvaW50cyIsInJlbW92ZUNvbnRyb2wiLCJ3YWxrdGhyb3VnaF9tb2RhbCIsImRvbmVXYWxrdGhyb3VnaCIsImdldERvbmVXYWxrdGhyb3VnaCIsImRvYyIsInN0YXR1cyIsIm9wZW5XYWxrVGhyb3VnaE1vZGFsIiwid2Fsa3Rocm91Z2hGcm9tTWVudSIsImNsb3NlTWFpbk1lbnUiLCJmcm9tVGVtcGxhdGVVcmwiLCJzY29wZSIsImhhcmR3YXJlQmFja0J1dHRvbkNsb3NlIiwiYW5pbWF0aW9uIiwibW9kYWwiLCJzaG93IiwiZmluaXNoV2Fsa3Rocm91Z2giLCJoaWRlIiwicmVtb3ZlIiwic2F2ZURvbmVXYWxrdGhyb3VnaCIsInN1YmplY3QiLCJ0b2dnbGVHcm91cCIsImdyb3VwIiwiaXNHcm91cFNob3duIiwic2hvd25Hcm91cCIsIm9wZW5Qcm9ncmFtYXMiLCJtYWluX21lbnVfbW9kYWwiLCJpdGVtX21vZGFsIiwib3BlbkFib3V0UHJveWVjdCIsIm5ld3MiLCJnb3RvTGluayIsIm9wZW5OZXdzIiwic2hvd0RpdiIsImFsbCIsInJlc3BvbnNlIiwiaXRlbXMiLCJoaWRlRGl2IiwiZGl2SWQiLCJkaXYiLCJjbGFzc0xpc3QiLCJkaXZDbGFzcyIsIm9wZW5Db250YWN0Iiwib3BlbkNvbnRhY3RTdWNjZXNzIiwic2VuZF9jb250YWN0X3JlcXVlc3QiLCJuYW1lIiwiZW1haWwiLCJtZXNzYWdlIiwiZXJyb3JMYWJlbCIsImNoZWNrX2ZpZWxkIiwic2VuZF9jb250YWN0IiwidmFsdWUiLCJzZWxlY3RlZEluZGV4IiwiaHR0cF9kYXRhX3Jlc3BvbnNlX2lzX3N1Y2Nlc3NmdWxfYWpheCIsImVycm9yQ29udGFpbmVyIiwib3Blbk1haW5NZW51RnJvbUl0ZW0iLCJvcGVuTWFpbk1lbnUiLCJMYXRGcm9tIiwiTG9uZ0Zyb20iLCJjbG9zZVBvcHVwIiwibm93X21hcmtlciIsIm1hcmtlciIsImFkZFRvIiwiUm91dGluZyIsImNvbnRyb2wiLCJ3YXlwb2ludHMiLCJsYXRMbmciLCJsYW5ndWFnZSIsInJvdXRlciIsIm1hcGJveCIsImNyZWF0ZU1hcmtlciIsImkiLCJzdGFydCIsIm4iLCJsaW5lT3B0aW9ucyIsInN0eWxlcyIsImNvbG9yIiwib3BhY2l0eSIsIndlaWdodCIsImZpdFNlbGVjdGVkUm91dGVzIiwibW9kZWwiLCJleHRlcm5hbE1vZGVsIiwic2VsZWN0ZWRJdGVtcyIsInByZXNlbGVjdGVkU2VhcmNoSXRlbXMiLCJjbGlja2VkVmFsdWVNb2RlbCIsInJlbW92ZWRWYWx1ZU1vZGVsIiwiaXRlbXNSZW1vdmVkIiwiY2FsbGJhY2siLCJ1c2VyX29wdGlvbnMiLCJzdHlsZSIsImRpc3BsYXkiLCJzaG93X2Fub255bW91c19tZW51Iiwic2hvd191c2VyX21lbnUiLCJodG1sIiwiaW5uZXJIVE1MIiwiaGVpZ2h0Iiwid2lkdGgiLCJjcmVhdGVfZmllbGRfYXJyYXkiLCJ0eXBlIiwiZmllbGQiLCJBcnJheSIsInNpZ25faW4iLCJwYXNzd29yZCIsImlzT25saW5lIiwiZmllbGRzIiwicHVzaCIsImNoZWNrX2ZpZWxkcyIsInJlc3AiLCJodHRwX3Jlc3BvbnNlX2lzX3N1Y2Nlc3NmdWwiLCJzYXZlX3VzZXJfZGF0YSIsImlkZW50aXR5X2RvY3VtZW50IiwicGhvbmUiLCJwaWN0dXJlX3VybCIsInNhdmVVc2VyIiwiY2xvc2VfbG9naW5fbW9kYWwiLCJzZXRfdXNlcl9waWN0dXJlIiwic2hvd19lcnJvcl9tZXNzYWdlIiwic3RhdHVzVGV4dCIsInNob3dfYWxlcnQiLCJzaWduX2luX2FqYXgiLCJodHRwX3Jlc3BvbnNlX2lzX3N1Y2Nlc3NmdWxfYWpheCIsInNpZ25fb3V0IiwiZXJhc2VfdXNlcl9kYXRhIiwiZXJhc2VVc2VyIiwiY2hlY2tfdXNlcl9sb2dnZWQiLCJzZXRfb2ZmbGluZV91c2VyIiwiaGFzUGhvdG8iLCJzZWFyY2hfc3RyZWV0IiwicGFyZW50Tm9kZSIsImNsaWNrIiwiTG9hZGVyIiwicmVwb3J0QnV0dG9uIiwidGV4dCIsImluaXRpYWxfbGF0IiwiaW5pdGlhbF9sbmciLCJzZWFyY2hNb2RlIiwiY2FsbGUiLCJlc3F1aW5hIiwibHVnYXIiLCJsb2NhdGlvbkdlb21QYXJhbXMiLCJ0aXBvIiwicGF0aFBhcmFtcyIsImluaXRSZXBvcnQiLCJfcGluIiwiX3Bpbkljb24iLCJnZXRDZW50ZXIiLCJjbGlja2FibGUiLCJSZXBvcnRTZXJ2aWNlIiwiX25ldyIsImN1cnJlbnQiLCJpc051bWVyaWMiLCJpc05hTiIsInBhcnNlRmxvYXQiLCJpc0Zpbml0ZSIsInByb21pc2VTZWFyY2giLCJ0cmltIiwiaXRlbSIsImRlc2NUaXBvIiwibm9tYnJlIiwiY29kaWdvIiwic2VhcmNoRXNxdWluYUJ5U3RyIiwic2VsZWN0ZWRJdGVtIiwiaXRlbXNDbGlja2VkIiwiaW9uQXV0b2NvbXBsZXRlRWxlbWVudFNlYXJjaCIsInN0cl90aXBvIiwiZ2V0TG9jYXRpb25HZW9tIiwicmVzdWx0IiwiZ29Ub1BsYWNlIiwiZXh0ZW5kIiwiZ2VvbSIsImdlb0pTT04iLCJhdHRyIiwiaXRlbXNDYW5jZWxlZCIsIl9pdGVtIiwibnVtUHVlcnRhIiwicGFyc2VJbnQiLCJzZWFyY2hRdWVyeSIsIk51bWJlciIsImlzSW50ZWdlciIsImVycm9yIiwic2hvd0FsZXJ0IiwicmVzIiwiZmFjdG9yeSIsIiRodHRwIiwiJGNvcmRvdmFGaWxlVHJhbnNmZXIiLCJnZXQiLCJwYXJhbXMiLCJwYXNzd29yZF9zaWduX2luIiwiY3JlYXRlX3VzZXIiLCJmdWxsbmFtZSIsImlkX2RvYyIsInVzZXJfcGhvbmUiLCJmb3JtX2VtYWlsIiwicGFzc3dvcmRfcmVnaXN0ZXIiLCJjaGFuZ2VfcGFzc3dvcmQiLCJsb2dpbl9lbWFpbCIsImVkaXRfdXNlciIsIm5ld19lbWFpbCIsInVzZXJfcGljdHVyZV91cmwiLCJmaWxlS2V5IiwidHJ1c3RBbGxIb3N0cyIsInVwbG9hZCIsIm5ld19yZXBvcnRfbGF0IiwibmV3X3JlcG9ydF9sbmciLCJmb3JtYXQiLCJnZXRDYWNoZWRDYXRlZ29yaWVzIiwiZ2V0Q2F0ZWdvcmllcyIsIkNvbmZpZ09iaiIsIiRjb3Jkb3ZhTmV0d29yayIsImlzV2ViVmlldyIsIm5hdmlnYXRvciIsIm9uTGluZSIsImlzT2ZmbGluZSIsIkNvbnRhaW5lciIsIl9kYXRhIiwidGhpcyIsImdldEJ5SWQiLCJpZCIsIl9kZWZhdWx0IiwidGl0bGUiLCJkZXRhaWwiLCJtYXlfc2hvd19uYW1lIiwiY2F0ZWdvcnkiLCJwYyIsImZpbGUiLCJzdWJtaXRfc2lnbl9pbiIsInJlbWVtYmVyX21lIiwiX2FsbCIsInByb3RvdHlwZSIsIiRxIiwidXNlcl9uYW1lIiwidXNlcl9lbWFpbCIsInVzZXJfcGFzc3dvcmQiLCJ1c2VyX2lkX2RvYyIsInVzZXIiLCJfaWQiLCJnZXRVc2VyIiwiX3JldiIsIl9kYiIsInB1dCIsIlBvdWNoREIiLCJzYXZlUmVwb3J0IiwicmVwb3J0IiwiZGF0ZSIsIkRhdGUiLCJuZXdfcmVwb3J0X2lkIiwiZ2V0RnVsbFllYXIiLCJnZXRNb250aCIsImdldERhdGUiLCJnZXRNaWxsaXNlY29uZHMiLCJ1cGRhdGVSZXBvcnQiLCJzYXZlQ2F0ZWdvcmllcyIsImNhdGVnb3JpZXMiLCJnZXRSZXBvcnQiLCJyZXBvcnRJZCIsImdldEFsbFJlcG9ydHMiLCJhbGxEb2NzIiwiaW5jbHVkZV9kb2NzIiwiYXR0YWNobWVudHMiLCJzdGFydGtleSIsImVuZGtleSIsImRlbGV0ZVJlcG9ydCIsInJlcG9ydF9pZCIsImRlbGV0ZUdpdmVuUmVwb3J0IiwiVmFsaWRhdGlvblNlcnZpY2UiLCJqc29uUmVzdWx0IiwiZXJyb3JDb250YWluZXJJZCIsImVycm9yRGl2IiwiaHR0cF9yZXNwb25zZV9pc19zdWNjZXNzZnVsX3BvcHVwIiwiYWxlcnRQb3B1cCIsImFsZXJ0IiwidGVtcGxhdGUiLCJodHRwX2RhdGFfcmVzcG9uc2VfaXNfc3VjY2Vzc2Z1bCIsInNob3dfZXJyb3JfbWVzc2FnZV9wb3B1cCIsImVycm9ycyIsImZvckVhY2giLCJ2YWxpZGF0ZV9ub3RfZW1wdHkiLCJ2YWxpZGF0ZV9lbWFpbCIsInZhbGlkYXRlX2lkZG9jX3V5IiwidmFsaWRhdGVfdHdvX3dvcmRzIiwibGFiZWwiLCJvayIsInZhbGlkYXRlX25vdF9taW51c29uZSIsImJvcmRlckNvbG9yIiwiYWpheCIsIiRpb25pY0xvYWRpbmciLCJMT0FERVJBUEkiLCJzaG93TG9hZGluZyIsImhpZGVMb2FkaW5nIiwidG9nZ2xlTG9hZGluZ1dpdGhNZXNzYWdlIiwic2VsZiIsImNvbmZpcm1Qb3B1cCIsImNvbmZpcm0iLCJfdGl0bGUiLCJfdGVtcGxhdGUiLCJsb2NhdGlvbnNPYmoiLCJzYXZlX25ld19yZXBvcnRfcG9zaXRpb24iLCJzYXZlZExvY2F0aW9ucyIsInByb2o0IiwiZGVmcyIsIm1hcFNlcnZpY2UiLCJfcGxhY2UiLCJfZ2VvSnNvbiIsImNycyIsIl9sYXRsbmciLCJQcm9qIiwiZ2VvSnNvbiIsInBvaW50VG9MYXllciIsImxhdGxuZyIsInNldFZpZXciLCJMYXRMbmciLCJiYXNlIiwiZm9ybSIsImZpbGVOYW1lIiwiY2h1bmtlZE1vZGUiLCJtaW1lVHlwZSIsImhlYWRlcnMiLCJDb25uZWN0aW9uIiwic3Vic2NyaWJlIiwicnpudnkiLCJhYnVzZSIsImVtIiwiZGVsZXRlVVJMIiwiY29tbWVudCIsImFkZF9hbGVydCIsImZpeGVkIiwic3VibWl0X3VwZGF0ZSIsInVwZGF0ZSIsImZvcm1fcnpudnkiLCJhbGVydF90aXRsZSIsImFsZXJ0X21lc3NhZ2UiLCJhc2tGb3JPbmVWYWx1ZVBvcFVwIiwiZmllbGRfbmFtZSIsInZhbGlkYXRpb25UeXBlIiwibXlQb3B1cCIsInN1YlRpdGxlIiwiYnV0dG9ucyIsIm9uVGFwIiwicHJldmVudERlZmF1bHQiLCJBcGlJbUVuZHBvaW50IiwiQXBpRGF0YUVuZHBvaW50IiwicmVzdFByZWZmaXgiLCJfbG9jYXRpb24iLCJtZXRob2QiLCJnZXRQYXJhbVBhdGhCeVRpcG8iLCJfdGlwbyIsInJlc3RHZW9EYXRhU2VydmljZVBhdGgiLCJFU1FVSU5BIiwiRElSRUNDSU9OIiwiVXNlck9iaiIsImdldF91c2VyX2RhdGEiLCJhZGRfcGhvdG8iLCJpc0xvZ2dlZCIsInZhbHVlcyIsInNwbGl0IiwiZmlsdGVyIiwidiIsInJlIiwidGVzdCIsInJlcGxhY2UiLCJkaWciLCJhIl0sIm1h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LEVBQU14SCxPQUFRNEksRUFBSSxFQUFHQSxJQUMzQnBCLEVBQVEsSUFBTUEsQ0FHbEIsS0FBSW9CLEVBQUksRUFBR0EsRUFBSSxFQUFHQSxJQUNoQmtTLEdBQU0xTCxTQUFTLFVBQVV4RyxJQUFNd0csU0FBUzVILEVBQU1vQixJQUFPLEVBRXZELElBQUkrRixFQU1KLE9BSkVBLEdBRENtTSxFQUFFLEtBQU8sRUFDRCxFQUVBLEdBQUtBLEVBQUksR0FFakJELEdBQU9sTSxFQU1aLE9BQU8iLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gSW9uaWMgU3RhcnRlciBBcHBcblxuLy8gYW5ndWxhci5tb2R1bGUgaXMgYSBnbG9iYWwgcGxhY2UgZm9yIGNyZWF0aW5nLCByZWdpc3RlcmluZyBhbmQgcmV0cmlldmluZyBBbmd1bGFyIG1vZHVsZXNcbi8vICdwbWJfaW0nIGlzIHRoZSBuYW1lIG9mIHRoaXMgYW5ndWxhciBtb2R1bGUgZXhhbXBsZSAoYWxzbyBzZXQgaW4gYSA8Ym9keT4gYXR0cmlidXRlIGluIGluZGV4Lmh0bWwpXG4vLyB0aGUgMm5kIHBhcmFtZXRlciBpcyBhbiBhcnJheSBvZiAncmVxdWlyZXMnXG4vLyAnc3RhcnRlci5zZXJ2aWNlcycgaXMgZm91bmQgaW4gc2VydmljZXMuanNcbi8vICdzdGFydGVyLmNvbnRyb2xsZXJzJyBpcyBmb3VuZCBpbiBjb250cm9sbGVycy5qc1xudmFyIHBtYl9pbSA9IHtcbiAgY29udHJvbGxlcnM6IGFuZ3VsYXIubW9kdWxlKCdwbWJfaW0uY29udHJvbGxlcnMnLCBbXSksXG4gIHNlcnZpY2VzOiBhbmd1bGFyLm1vZHVsZSgncG1iX2ltLnNlcnZpY2VzJywgW10pXG59O1xuXG5wbWJfaW0uYXBwID0gYW5ndWxhci5tb2R1bGUoJ3BtYl9pbScsIFsnaW9uaWMnLCdpb25pYy53aXphcmQnLCdpb24tYXV0b2NvbXBsZXRlJywnbGVhZmxldC1kaXJlY3RpdmUnLCAncG1iX2ltLmNvbnRyb2xsZXJzJywgJ3BtYl9pbS5zZXJ2aWNlcycsICduZ0NvcmRvdmEnLCAnaW9uaWMtY2FjaGUtc3JjJ10pXG5cbi5jb25zdGFudCgnQXBpSW1FbmRwb2ludCcsIHtcbiAgdXJsOiAnaHR0cDovL3d3dy5tb250ZXZpZGVvLmd1Yi51eSdcbn0pXG5cbi5jb25zdGFudCgnQXBpRGF0YUVuZHBvaW50Jywge1xuICB1cmw6ICcvZGF0YSdcbn0pXG5cblxuLnJ1bihmdW5jdGlvbigkaW9uaWNQbGF0Zm9ybSwgJHJvb3RTY29wZSwgJGNvcmRvdmFLZXlib2FyZCkge1xuICAkcm9vdFNjb3BlLlZFUlNJT04gPSB3aW5kb3cuVkVSU0lPTjtcbiAgJGlvbmljUGxhdGZvcm0ucmVhZHkoZnVuY3Rpb24oKSB7XG4gICAgLy8gSGlkZSB0aGUgYWNjZXNzb3J5IGJhciBieSBkZWZhdWx0IChyZW1vdmUgdGhpcyB0byBzaG93IHRoZSBhY2Nlc3NvcnkgYmFyIGFib3ZlIHRoZSBrZXlib2FyZFxuICAgIC8vIGZvciBmb3JtIGlucHV0cylcbiAgICBpZiAod2luZG93LmNvcmRvdmEgJiYgd2luZG93LmNvcmRvdmEucGx1Z2lucy5LZXlib2FyZCkge1xuICAgICAgY29yZG92YS5wbHVnaW5zLktleWJvYXJkLmhpZGVLZXlib2FyZEFjY2Vzc29yeUJhcih0cnVlKTtcbiAgICAgIC8vY29yZG92YS5wbHVnaW5zLktleWJvYXJkLmRpc2FibGVTY3JvbGwoZmFsc2UpO1xuICAgIH1cbiAgICAvLyRjb3Jkb3ZhS2V5Ym9hcmQuaGlkZUFjY2Vzc29yeUJhcih0cnVlKVxuICAgIC8vJGNvcmRvdmFLZXlib2FyZC5kaXNhYmxlU2Nyb2xsKGZhbHNlKVxuICAgIGlvbmljLlBsYXRmb3JtLmlzRnVsbFNjcmVlbiA9IGZhbHNlO1xuICAgIGlmICh3aW5kb3cuU3RhdHVzQmFyKSB7XG4gICAgICAvLyBvcmcuYXBhY2hlLmNvcmRvdmEuc3RhdHVzYmFyIHJlcXVpcmVkXG4gICAgICBTdGF0dXNCYXIuc3R5bGVEZWZhdWx0KCk7XG4gICAgfVxuICB9KTtcbn0pXG5cbi5jb25maWcoZnVuY3Rpb24oJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlciwgJGNvbXBpbGVQcm92aWRlciwgJGlvbmljQ29uZmlnUHJvdmlkZXIpIHtcbiAgJGNvbXBpbGVQcm92aWRlci5kZWJ1Z0luZm9FbmFibGVkKGZhbHNlKTtcbiAgLy8kaW9uaWNDb25maWdQcm92aWRlci5zY3JvbGxpbmcuanNTY3JvbGxpbmcodHJ1ZSk7XG5cbiAgLy8gSW9uaWMgdXNlcyBBbmd1bGFyVUkgUm91dGVyIHdoaWNoIHVzZXMgdGhlIGNvbmNlcHQgb2Ygc3RhdGVzXG4gIC8vIExlYXJuIG1vcmUgaGVyZTogaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXItdWkvdWktcm91dGVyXG4gIC8vIFNldCB1cCB0aGUgdmFyaW91cyBzdGF0ZXMgd2hpY2ggdGhlIGFwcCBjYW4gYmUgaW4uXG4gIC8vIEVhY2ggc3RhdGUncyBjb250cm9sbGVyIGNhbiBiZSBmb3VuZCBpbiBjb250cm9sbGVycy5qc1xuICAkc3RhdGVQcm92aWRlclxuXG4uc3RhdGUoJ2FwcCcsIHtcbiAgICBjYWNoZTogZmFsc2UsXG4gICAgdXJsOiBcIi9hcHBcIixcbiAgICBhYnN0cmFjdDogdHJ1ZSxcbiAgICB0ZW1wbGF0ZVVybDogXCJ0ZW1wbGF0ZXMvbWVudS5odG1sXCIsXG4gICAgY29udHJvbGxlcjogJ01hcENvbnRyb2xsZXInXG4gIH0pXG5cbi5zdGF0ZSgnYXBwLm1hcCcsIHtcbiAgICBjYWNoZTogZmFsc2UsXG4gICAgdXJsOiBcIi9tYXAvXCIsXG4gICAgdmlld3M6IHtcbiAgICAgICdtZW51Q29udGVudCcgOntcbiAgICAgICAgdGVtcGxhdGVVcmw6IFwidGVtcGxhdGVzL21hcC5odG1sXCIsXG4gICAgICAgIGNvbnRyb2xsZXIgOiBcIlBNQkN0cmxcIlxuICAgICAgfVxuICAgIH1cbiAgfSlcblxuLnN0YXRlKCdhcHAuaW50cm8nLCB7XG4gIGNhY2hlOiBmYWxzZSxcbiAgdXJsOiBcIi9pbnRyb1wiLFxuICB2aWV3czoge1xuICAgICdtZW51Q29udGVudCcgOntcbiAgICAgIHRlbXBsYXRlVXJsOiBcInRlbXBsYXRlcy9pbnRyby5odG1sXCIsXG4gICAgICBjb250cm9sbGVyIDogXCJJbnRyb0N0cmxcIlxuICAgIH1cbiAgfVxufSlcblxuLy8gaWYgbm9uZSBvZiB0aGUgYWJvdmUgc3RhdGVzIGFyZSBtYXRjaGVkLCB1c2UgdGhpcyBhcyB0aGUgZmFsbGJhY2tcbiR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoJy9hcHAvaW50cm8nKTtcblxufSk7XG4iLCJwbWJfaW0uY29udHJvbGxlcnMuY29udHJvbGxlcignQXV0b0NvbXBsZXRlQ3RybCcsIFsnJHNjb3BlJywgJ2xlYWZsZXREYXRhJywgJ2xvY2F0aW9uQVBJJywgZnVuY3Rpb24oJHNjb3BlLCBsZWFmbGV0RGF0YSwgbG9jYXRpb25BUEkpIHtcblxuXG4gICRzY29wZS5pb25BdXRvY29tcGxldGVFbGVtZW50ID0gYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJpb24tYXV0b2NvbXBsZXRlXCIpKTtcbiAgJHNjb3BlLmlvbkF1dG9jb21wbGV0ZUVsZW1lbnQuYmluZCgndG91Y2hlbmQgY2xpY2sgZm9jdXMnLCAkc2NvcGUub25DbGljayk7XG5cbiAgJHNjb3BlLm9uQ2xpY2sgPSBmdW5jdGlvbigpIHtcblxuICAgICRzY29wZS5pb25BdXRvY29tcGxldGVFbGVtZW50LmNvbnRyb2xsZXIoJ2lvbkF1dG9jb21wbGV0ZScpLnNob3dNb2RhbCgpO1xuXG5cbiAgfTtcblxuXG5cbiAgJHNjb3BlLnNlYXJjaExvY2F0aW9uID0gZnVuY3Rpb24ocXVlcnkpIHtcbiAgICBpZiAocXVlcnkpIHtcbiAgICAgIC8vY29uc29sZS5sb2coXCJxdWVyeT0gXCIgKyBxdWVyeSk7XG4gICAgICByZXR1cm4gbG9jYXRpb25BUEkuc2VhcmNoTG9jYXRpb25CeVN0cihxdWVyeSk7XG5cbiAgICB9XG4gIH07XG5cblxufV0pO1xuIiwicG1iX2ltLmNvbnRyb2xsZXJzLmNvbnRyb2xsZXIoJ0ludHJvQ3RybCcsIFsnJHNjb3BlJywgJyRzdGF0ZScsXG4gICckY29yZG92YUdlb2xvY2F0aW9uJyxcbiAgJyRzdGF0ZVBhcmFtcycsXG4gICckaW9uaWNQbGF0Zm9ybScsXG4gICckaW9uaWNQb3B1cCcsXG4gICdMb2NhdGlvbnNTZXJ2aWNlJyxcbiAgJ0RCU2VydmljZScsXG4gIGZ1bmN0aW9uKCRzY29wZSwgJHN0YXRlLCAkY29yZG92YUdlb2xvY2F0aW9uLCAkc3RhdGVQYXJhbXMsICRpb25pY1BsYXRmb3JtLCAkaW9uaWNQb3B1cCwgTG9jYXRpb25zU2VydmljZSwgREJTZXJ2aWNlKSB7XG5cbiAgdmFyIGRiID0gREJTZXJ2aWNlLmluaXREQigpO1xuICBkYi5pbmZvKCkudGhlbihjb25zb2xlLmxvZy5iaW5kKGNvbnNvbGUpKTtcblxuICAkc2NvcGUuZ2VvbG9jYXRlID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgbG9jYXRlZCA9IGZhbHNlO1xuICAgICAgLypzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgIGlmKCFsb2NhdGVkKXtcbiAgICAgICAgICAkc3RhdGUuZ28oXCJhcHAubWFwXCIpO1xuICAgICAgICB9XG4gICAgICB9LCA0MDAwKTsqL1xuICAgICAgaW9uaWMuUGxhdGZvcm0ucmVhZHkoZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBkZXZpY2UgPSBpb25pYy5QbGF0Zm9ybS5kZXZpY2UoKTtcbiAgICAgICAgLy9hbGVydChkZXZpY2UucGxhdGZvcm0pO1xuICAgICAgICB2YXIgcG9zT3B0aW9ucyA9IHt0aW1lb3V0OiAzNTAwLCBlbmFibGVIaWdoQWNjdXJhY3k6IHRydWUsIG1heGltdW1BZ2U6NjAwMDB9O1xuICAgICAgICAkY29yZG92YUdlb2xvY2F0aW9uXG4gICAgICAgICAgLmdldEN1cnJlbnRQb3NpdGlvbihwb3NPcHRpb25zKVxuICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChwb3NpdGlvbikge1xuICAgICAgICAgICAgLy9hbGVydChcInNhbGlvIHBvciBlbCB0cnVlXCIpO1xuICAgICAgICAgICAgbG9jYXRlZCA9IHRydWU7XG4gICAgICAgICAgICBMb2NhdGlvbnNTZXJ2aWNlLnNhdmVfaW5pdGlhbF9wb3NpdGlvbihwb3NpdGlvbik7XG4gICAgICAgICAgICAkc3RhdGUuZ28oXCJhcHAubWFwXCIpO1xuICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgLy8gZXJyb3JcbiAgICAgICAgICAgIC8vYWxlcnQoXCJzYWxpbyBwb3IgZWwgZXJyb3JcIik7XG4gICAgICAgICAgICAkc3RhdGUuZ28oXCJhcHAubWFwXCIpO1xuICAgICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICB9O1xuXG4gICAkc2NvcGUuJG9uKCckaW9uaWNWaWV3LmVudGVyJywgZnVuY3Rpb24oKXsgLy9UaGlzIGlzIGZpcmVkIHR3aWNlIGluIGEgcm93XG4gICAgICAgJHNjb3BlLmdlb2xvY2F0ZSgpO1xuICAgfSk7XG5cbiAgfVxuXSk7XG4iLCJwbWJfaW0uY29udHJvbGxlcnMuY29udHJvbGxlcignTWFwQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRzY2UnLCAnXycsXG4gICckY29yZG92YUZpbGUnLFxuICAnJGNvcmRvdmFHZW9sb2NhdGlvbicsXG4gICckY29tcGlsZScsXG4gICckc3RhdGUnLFxuICAnJHN0YXRlUGFyYW1zJyxcbiAgJyRpb25pY01vZGFsJyxcbiAgJyRpb25pY1BvcHVwJyxcbiAgJ2xlYWZsZXREYXRhJyxcbiAgJ0NvbmZpZ1NlcnZpY2UnLFxuICAnQ29udGFjdFNlcnZpY2UnLFxuICAnUE1CU2VydmljZScsXG4gICdMb2NhdGlvbnNTZXJ2aWNlJyxcbiAgJ0NvbnRhaW5lclNlcnZpY2UnLFxuICAnTWFwU2VydmljZScsXG4gICdGYXFTZXJ2aWNlJyxcbiAgJ0NhdGVnb3JpZXNTZXJ2aWNlJyxcbiAgJ0F1dGhTZXJ2aWNlJyxcbiAgJ1VzZXJTZXJ2aWNlJyxcbiAgJ0RCU2VydmljZScsXG4gICckdGltZW91dCcsXG4gICckbG9jYXRpb24nLFxuICAnRXJyb3JTZXJ2aWNlJyxcbiAgJyRpb25pY1NsaWRlQm94RGVsZWdhdGUnLFxuICAnJGlvbmljU2Nyb2xsRGVsZWdhdGUnLFxuICAnUG9wVXBTZXJ2aWNlJyxcbiAgJyRpb25pY1BsYXRmb3JtJyxcbiAgJ0Nvbm5lY3Rpdml0eVNlcnZpY2UnLFxuICAnJGNvcmRvdmFJbkFwcEJyb3dzZXInLFxuICAnJGludGVydmFsJyxcbiAgJyRjb3Jkb3ZhS2V5Ym9hcmQnLFxuICAnTmV3c1NlcnZpY2UnLFxuICBmdW5jdGlvbihcbiAgICAkc2NvcGUsXG4gICAgJHNjZSxcbiAgICBfLFxuICAgICRjb3Jkb3ZhRmlsZSxcbiAgICAkY29yZG92YUdlb2xvY2F0aW9uLFxuICAgICRjb21waWxlLFxuICAgICRzdGF0ZSxcbiAgICAkc3RhdGVQYXJhbXMsXG4gICAgJGlvbmljTW9kYWwsXG4gICAgJGlvbmljUG9wdXAsXG4gICAgbGVhZmxldERhdGEsXG4gICAgQ29uZmlnU2VydmljZSxcbiAgICBDb250YWN0U2VydmljZSxcbiAgICBQTUJTZXJ2aWNlLFxuICAgIExvY2F0aW9uc1NlcnZpY2UsXG4gICAgQ29udGFpbmVyU2VydmljZSxcbiAgICBNYXBTZXJ2aWNlLFxuICAgIEZhcVNlcnZpY2UsXG4gICAgQ2F0ZWdvcmllc1NlcnZpY2UsXG4gICAgQXV0aFNlcnZpY2UsXG4gICAgVXNlclNlcnZpY2UsXG4gICAgREJTZXJ2aWNlLFxuICAgICR0aW1lb3V0LFxuICAgICRsb2NhdGlvbixcbiAgICBFcnJvclNlcnZpY2UsXG4gICAgJGlvbmljU2xpZGVCb3hEZWxlZ2F0ZSxcbiAgICAkaW9uaWNTY3JvbGxEZWxlZ2F0ZSxcbiAgICBQb3BVcFNlcnZpY2UsXG4gICAgJGlvbmljUGxhdGZvcm0sXG4gICAgQ29ubmVjdGl2aXR5U2VydmljZSxcbiAgICAkY29yZG92YUluQXBwQnJvd3NlcixcbiAgICAkaW50ZXJ2YWwsXG4gICAgJGNvcmRvdmFLZXlib2FyZCxcbiAgICBOZXdzU2VydmljZVxuICApIHtcblxuICAgICAgLyoqXG4gICAgICogT25jZSBzdGF0ZSBsb2FkZWQsIGdldCBwdXQgbWFwIG9uIHNjb3BlLlxuICAgICAqL1xuICAgICRzY29wZS5mZWF0dXJlUmVwb3J0cyA9IHt9O1xuICAgICRzY29wZS5iYXNlVVJMID0gQ29uZmlnU2VydmljZS5iYXNlVVJMO1xuICAgICRzY29wZS51c2VyX2NhY2hlZF9pbWFnZSA9IFwiXCI7XG4gICAgJHNjb3BlLnJlcG9ydF9kZXRhaWxfaWQgPSBudWxsO1xuICAgICRzY29wZS5vbmVfdmFsdWVfcG9wdXAgPSBudWxsO1xuICAgICRzY29wZS5hYnVzZV9uYW1lID0gbnVsbDtcbiAgICAkc2NvcGUuYWJ1c2VfZW1haWwgPSBudWxsO1xuICAgICRzY29wZS5hYnVzZV9zdWJqZWN0ID0gbnVsbDtcbiAgICAkc2NvcGUuYWJ1c2VfbWVzc2FnZSA9IG51bGw7XG5cbiAgICAkc2NvcGUuYWN0dWFsU2xpZGVySW5kZXg9MDtcblxuICAgICRzY29wZS4kb24oXCIkaW9uaWNWaWV3LmJlZm9yZUVudGVyXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgREJTZXJ2aWNlLmluaXREQigpO1xuICAgICAgJHNjb3BlLnNldF9uZXR3b3JrX2V2ZW50cygpO1xuICAgICAgJHNjb3BlLmZpbmRfbWUoKTtcbiAgICAgICRzY29wZS53YWxrdGhyb3VnaCgpO1xuICAgIH0pO1xuXG4gICAgJGlvbmljUGxhdGZvcm0ub25IYXJkd2FyZUJhY2tCdXR0b24oZnVuY3Rpb24oKSB7XG4gICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAkc2NvcGUuaGlkZV9zcGVjaWFsX2RpdnM7XG4gICAgfSk7XG5cbiAgICAkc2NvcGUub3BlbldlYnNpdGUgPSBmdW5jdGlvbih1cmwpIHtcbiAgICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgIGxvY2F0aW9uOiAnbm8nLFxuICAgICAgICAgICAgICAgIGNsZWFyY2FjaGU6ICd5ZXMnLFxuICAgICAgICAgICAgICAgIHRvb2xiYXI6ICdubydcbiAgICAgICAgICAgIH07XG5cbiAgICAgJGNvcmRvdmFJbkFwcEJyb3dzZXIub3Blbih1cmwsICdfYmxhbmsnLCBvcHRpb25zKVxuICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAvLyBzdWNjZXNzXG4gICAgICAgICAgfSlcbiAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIC8vIGVycm9yXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgICRzY29wZS5zZXRfbmV0d29ya19ldmVudHMgPSBmdW5jdGlvbigpIHtcbiAgICAgICRzY29wZS5jcmVhdGVfb25saW5lX21hcCgpO1xuICAgICAgJHNjb3BlLmFkZFBpbnNMYXllcigpO1xuICAgICAgJHNjb3BlLm1hcC5jZW50ZXIgPSB7XG4gICAgICAgICAgbGF0OiAtMzQuOTAxMTEzLFxuICAgICAgICAgIGxuZzogLTU2LjE2NDUzMSxcbiAgICAgICAgICB6b29tOiAxOFxuICAgICAgICB9O1xuICAgIH07XG5cbiAgICAkc2NvcGUuY3JlYXRlX29ubGluZV9tYXAgPSBmdW5jdGlvbigpe1xuICAgICAgaWYoJHNjb3BlLm1hcCE9bnVsbCl7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgICRzY29wZS5tYXAgPSB7XG4gICAgICAgIGRlZmF1bHRzOiB7XG4gICAgICAgICAgdGlsZUxheWVyOiAnaHR0cHM6Ly97c30udGlsZS5vcGVuc3RyZWV0bWFwLm9yZy97en0ve3h9L3t5fS5wbmcnLFxuICAgICAgICAgIG1pblpvb206IDEwLFxuICAgICAgICAgIG1heFpvb206IDE4LFxuICAgICAgICAgIHpvb21Db250cm9sUG9zaXRpb246ICd0b3BsZWZ0JyxcbiAgICAgICAgfSxcbiAgICAgICAgbWFya2Vyczoge30sXG4gICAgICAgIGV2ZW50czoge1xuICAgICAgICAgIG1hcDoge1xuICAgICAgICAgICAgZW5hYmxlOiBbJ2NvbnRleHQnXSxcbiAgICAgICAgICAgIGxvZ2ljOiAnZW1pdCdcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfTtcblxuICAgICRzY29wZS5jbGlja09uTWVudUljb24gPSBmdW5jdGlvbigpe1xuICAgICAgdmFyIGxpbmVzbWVudSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibmF2LWljb24tbGluZXNcIik7XG4gICAgICB2YXIgZXhwYW5kZWRfbWVudSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZXhwYW5kZWRfbWVudVwiKTtcbiAgICAgICRzY29wZS50b2dnbGVDbGFzc09uRWxlbWVudChsaW5lc21lbnUsXCJvcGVuXCIpO1xuICAgICAgJHNjb3BlLnRvZ2dsZUNsYXNzT25FbGVtZW50KGV4cGFuZGVkX21lbnUsXCJvcGVuXCIpO1xuICAgIH07XG5cblxuICAgIHZhciBMb2NhdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIExvY2F0aW9uKSkgcmV0dXJuIG5ldyBMb2NhdGlvbigpO1xuICAgICAgdGhpcy5sYXQgPSBcIlwiO1xuICAgICAgdGhpcy5sbmcgPSBcIlwiO1xuICAgICAgdGhpcy5uYW1lID0gXCJcIjtcbiAgICB9O1xuXG4gICRzY29wZS50b2dnbGVDbGFzc09uRWxlbWVudCA9IGZ1bmN0aW9uIChlbGVtZW50LCBjbGFzc05hbWUpe1xuICAgIGlmICghZWxlbWVudCB8fCAhY2xhc3NOYW1lKXtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgY2xhc3NTdHJpbmcgPSBlbGVtZW50LmNsYXNzTmFtZSwgbmFtZUluZGV4ID0gY2xhc3NTdHJpbmcuaW5kZXhPZihjbGFzc05hbWUpO1xuICAgIGlmIChuYW1lSW5kZXggPT0gLTEpIHtcbiAgICAgICAgY2xhc3NTdHJpbmcgKz0gJyAnICsgY2xhc3NOYW1lO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY2xhc3NTdHJpbmcgPSBjbGFzc1N0cmluZy5zdWJzdHIoMCwgbmFtZUluZGV4KSArIGNsYXNzU3RyaW5nLnN1YnN0cihuYW1lSW5kZXgrY2xhc3NOYW1lLmxlbmd0aCk7XG4gICAgfVxuICAgIGVsZW1lbnQuY2xhc3NOYW1lID0gY2xhc3NTdHJpbmc7XG4gIH07XG5cbiAgJHNjb3BlLm5leHQgPSBmdW5jdGlvbigpIHtcbiAgICAkaW9uaWNTbGlkZUJveERlbGVnYXRlLm5leHQoKTtcbiAgICAkc2NvcGUuYWN0dWFsU2xpZGVySW5kZXggPSAkaW9uaWNTbGlkZUJveERlbGVnYXRlLmN1cnJlbnRJbmRleCgpO1xuICB9O1xuXG4gICRzY29wZS5wcmV2aW91cyA9IGZ1bmN0aW9uKCkge1xuICAgICRpb25pY1NsaWRlQm94RGVsZWdhdGUucHJldmlvdXMoKTtcbiAgICAkc2NvcGUuYWN0dWFsU2xpZGVySW5kZXggPSAkaW9uaWNTbGlkZUJveERlbGVnYXRlLmN1cnJlbnRJbmRleCgpO1xuICB9O1xuXG5cbiAgICAkc2NvcGUuc2Nyb2xsTWUgPSBmdW5jdGlvbihhbmNob3JfaWQpe1xuICAgICAgJGxvY2F0aW9uLmhhc2goYW5jaG9yX2lkKTtcbiAgICAgIHZhciBoYW5kbGUgID0gJGlvbmljU2Nyb2xsRGVsZWdhdGUuJGdldEJ5SGFuZGxlKCdjb250ZW50Jyk7XG4gICAgICBoYW5kbGUuYW5jaG9yU2Nyb2xsKCk7XG4gICAgfVxuXG4gICAgJHNjb3BlLnNldF9hY3RpdmVfb3B0aW9uID0gZnVuY3Rpb24oYnV0dG9uaWQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAkc2NvcGUuaGlkZV9zcGVjaWFsX2RpdnMgPSBmdW5jdGlvbigpe1xuICAgICAgdmFyIGNvbnRhaW5lcl9kZXRhaWxzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb250YWluZXJfZGV0YWlsc1wiKTtcbiAgICAgIGlmKGNvbnRhaW5lcl9kZXRhaWxzKXtcbiAgICAgICAgY29udGFpbmVyX2RldGFpbHMuY2xhc3NOYW1lID0gXCJcIjtcbiAgICAgIH1cbiAgICAgIHZhciBuYXZiYWNrID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJuYXZpZ2F0aW9uX2JhY2tcIik7XG4gICAgICBpZihuYXZiYWNrKXtcbiAgICAgICAgbmF2YmFjay5jbGFzc05hbWUgPSBcImhpZGRlblwiO1xuICAgICAgfVxuICAgICAgdmFyIG5hdmlnYXRpb25fbWVudSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibmF2aWdhdGlvbl9tZW51XCIpO1xuICAgICAgaWYobmF2aWdhdGlvbl9tZW51KXtcbiAgICAgICAgbmF2aWdhdGlvbl9tZW51LmNsYXNzTmFtZSA9IFwiXCI7XG4gICAgICB9XG4gICAgfVxuXG5cbiAgICAkc2NvcGUuYWRkTWFwQ29udHJvbHMgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgJHNjb3BlLnN0YXJ0UmVwb3J0RnJvbUNyb3NzaGFpcnMgPSBmdW5jdGlvbigpe1xuICAgIH1cblxuICAgICRzY29wZS5hZGRQaW5zTGF5ZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmKCRzY29wZS5qc29uTGF5ZXIhPW51bGwpe1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICB2YXIgYmFzZVVSTCA9IENvbmZpZ1NlcnZpY2UuYmFzZVVSTDtcbiAgICAgICAgb25FYWNoRmVhdHVyZSA9IGZ1bmN0aW9uKGZlYXR1cmUsIGxheWVyKSB7XG4gICAgICAgICAgdmFyIGh0bWwsIHJlcG9ydElkLCBkZXNjcmlwY2lvbjtcbiAgICAgICAgICBpZiAoZmVhdHVyZS5wcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICBsYXllci5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnNlbGVjdGVkX2NvbnRhaW5lciA9IENvbnRhaW5lclNlcnZpY2UuYnVpbGQoZS50YXJnZXQuZmVhdHVyZS5wcm9wZXJ0aWVzKTtcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2VsZWN0ZWRfY29udGFpbmVyLnNldExhdExuZyhlLnRhcmdldC5mZWF0dXJlLmdlb21ldHJ5LmNvb3JkaW5hdGVzWzFdLGUudGFyZ2V0LmZlYXR1cmUuZ2VvbWV0cnkuY29vcmRpbmF0ZXNbMF0pO1xuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJHNjb3BlLnNlbGVjdGVkX2NvbnRhaW5lcik7XG4gICAgICAgICAgICAgICAgdmFyIGNvbnRhaW5lckRldGFpbHMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbnRhaW5lcl9kZXRhaWxzXCIpO1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lckRldGFpbHMuY2xhc3NOYW1lID0gXCJvcGVuXCI7XG4gICAgICAgICAgICAgICAgdmFyIGJhY2tNZW51ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJuYXZpZ2F0aW9uX2JhY2tcIik7XG4gICAgICAgICAgICAgICAgYmFja01lbnUuY2xhc3NOYW1lPVwiXCI7XG4gICAgICAgICAgICAgICAgdmFyIG1lbnUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm5hdmlnYXRpb25fbWVudVwiKTtcbiAgICAgICAgICAgICAgICBtZW51LmNsYXNzTmFtZSA9IFwiaGlkZGVuXCI7XG4gICAgICAgICAgICAgICAgJHNjb3BlLmdvVG9DZW50ZXIoJHNjb3BlLnNlbGVjdGVkX2NvbnRhaW5lci5sb24sJHNjb3BlLnNlbGVjdGVkX2NvbnRhaW5lci5sYXQpO1xuXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsID0gbmV3IEwuTGF5ZXJKU09OKHtcbiAgICAgICAgICB1cmw6IGJhc2VVUkwgKyBcIi9kYXRhdXkvZ2V0X2NvbnRhaW5lcnNfanNvbi9cIiArIFwie2Jib3h9XCIsXG4gICAgICAgICAgbG9jQXNHZW9KU09OOiB0cnVlLFxuICAgICAgICAgIG1pblNoaWZ0OiA1LFxuICAgICAgICAgIC8vdXBkYXRlT3V0Qm91bmRzOiBmYWxzZSxcbiAgICAgICAgICBwcmVjaXNpb246IDEwLFxuICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IG9uRWFjaEZlYXR1cmVcbiAgICAgICAgfSk7XG5cblxuICAgICAgbGVhZmxldERhdGEuZ2V0TWFwKCkudGhlbihmdW5jdGlvbihtYXApIHtcbiAgICAgICAgaWYoJHNjb3BlLmpzb25MYXllciE9bnVsbCl7XG4gICAgICAgICAgbWFwLnJlbW92ZUxheWVyKCRzY29wZS5qc29uTGF5ZXIpO1xuICAgICAgICB9XG4gICAgICAgICRzY29wZS5qc29uTGF5ZXIgPSBsO1xuICAgICAgICBtYXAuYWRkTGF5ZXIobCk7XG4gICAgICB9KTtcblxuICAgICAgJHNjb3BlLmxhc3RNYXJrZXJMYXllciA9IG51bGw7XG5cblxuICAgICAgbC5vbignZGF0YWxvYWRlZCcsIGZ1bmN0aW9uKGUpIHsgLy9zaG93IGxvYWRlZCBkYXRhIVxuICAgICAgICAkc2NvcGUucmVwb3J0cyA9IGUuZGF0YS5mZWF0dXJlcztcbiAgICAgIH0pO1xuXG5cbiAgICAgIGwub24oJ2xheWVyYWRkJywgZnVuY3Rpb24oZSkge1xuICAgICAgICBlLmxheWVyLmVhY2hMYXllcihmdW5jdGlvbihfbGF5ZXIpIHtcbiAgICAgICAgICB2YXIgaWNvbiA9IFwiL2ltZy9waW4tY29udGFpbmVyLnN2Z1wiO1xuICAgICAgICAgIGlmKF9sYXllci5mZWF0dXJlLnByb3BlcnRpZXMucGluX3VybCl7XG4gICAgICAgICAgICBpY29uID0gX2xheWVyLmZlYXR1cmUucHJvcGVydGllcy5waW5fdXJsO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgbWFya2VySWNvbiA9IEwuaWNvbih7XG4gICAgICAgICAgICBpY29uVXJsOiBiYXNlVVJMICsgaWNvbixcbiAgICAgICAgICAgIGljb25TaXplOiBbMjksIDM0XSxcbiAgICAgICAgICAgIGljb25BbmNob3I6IFs4LCA4XSxcbiAgICAgICAgICAgIHBvcHVwQW5jaG9yOiBbMCwgLThdXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgX2xheWVyLnNldEljb24obWFya2VySWNvbik7XG4gICAgICAgICAgaWYgKCRzY29wZS5mZWF0dXJlUmVwb3J0c1tfbGF5ZXIuZmVhdHVyZS5wcm9wZXJ0aWVzLkdJRF0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgJHNjb3BlLmZlYXR1cmVSZXBvcnRzW19sYXllci5mZWF0dXJlLnByb3BlcnRpZXMuR0lEXSA9IF9sYXllcjtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgJHNjb3BlLmdvVG9DZW50ZXIgPSBmdW5jdGlvbihsb25nVG8sbGF0VG8pe1xuICAgICAgdmFyIHBvc09wdGlvbnMgPSB7dGltZW91dDogMzAwMCwgZW5hYmxlSGlnaEFjY3VyYWN5OiB0cnVlfTtcbiAgICAgICAgJGNvcmRvdmFHZW9sb2NhdGlvblxuICAgICAgICAgIC5nZXRDdXJyZW50UG9zaXRpb24ocG9zT3B0aW9ucylcbiAgICAgICAgICAudGhlbihmdW5jdGlvbiAocG9zaXRpb24pIHtcbiAgICAgICAgICAgICAgICB2YXIgbGF0RnJvbSAgPSBwb3NpdGlvbi5jb29yZHMubGF0aXR1ZGU7XG4gICAgICAgICAgICAgICAgdmFyIGxvbmdGcm9tID0gcG9zaXRpb24uY29vcmRzLmxvbmdpdHVkZTtcbiAgICAgICAgICAgICAgICAkc2NvcGUuZ2V0Um9hZChsYXRGcm9tLGxvbmdGcm9tLGxhdFRvLGxvbmdUbyk7XG4gICAgICAgICAgICAgICAgLy8kc2NvcGUubWFwLm1hcmtlcnMubm93Lm9wZW5Qb3B1cCgpO1xuICAgICAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgICAgICAvL01vdmUgYSBsaXR0bGUgdGhlIG1hcCBjZW50ZXIgYmVjYXVzZSB0aGUgbWFwIHZpZXcgaXMgc21hbGxlciAocmVwb3J0IGxpc3QgaXMgZGlzcGxheWVkKVxuICAgICAgICAgICAgICAgIGxhdFRvID0gbGF0VG8gLSAwLjAwMDY7XG4gICAgICAgICAgICAgICAgTWFwU2VydmljZS5jZW50ZXJNYXBPbkNvb3JkcyhsYXRUbyxsb25nVG8sMTcpO1xuICAgICAgICAgICAgICAgIC8vRXJyb3JTZXJ2aWNlLnNob3dfZXJyb3JfbWVzc2FnZV9wb3B1cChcIk5vIGhlbW9zIHBvZGlkbyBnZW9sb2NhbGl6YXJsby4gwr9UYWwgdmV6IG9sdmlkw7MgaGFiaWxpdGFyIGxvcyBzZXJ2aWNpb3MgZGUgbG9jYWxpemFjacOzbiBlbiBzdSBkaXNwb3NpdGl2bz9cIilcbiAgICAgICAgICAgICAgfSk7XG4gICAgfTtcblxuICAgICRzY29wZS5sYXN0Um9hZCA9IG51bGw7XG5cbiAgICAkc2NvcGUubmF2X2JhY2sgPSBmdW5jdGlvbigpe1xuICAgICAgJHNjb3BlLmhpZGVfc3BlY2lhbF9kaXZzKCk7XG4gICAgICBpZigkc2NvcGUubGFzdFJvYWQhPW51bGwpe1xuICAgICAgICAkc2NvcGUubGFzdFJvYWQuc3BsaWNlV2F5cG9pbnRzKDAsIDIpO1xuICAgICAgICBsZWFmbGV0RGF0YS5nZXRNYXAoKS50aGVuKGZ1bmN0aW9uKG1hcCkge1xuICAgICAgICAgIG1hcC5yZW1vdmVDb250cm9sKCRzY29wZS5sYXN0Um9hZClcbiAgICAgICAgICAkc2NvcGUubGFzdFJvYWQ9bnVsbDtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgJHNjb3BlLndhbGt0aHJvdWdoID0gZnVuY3Rpb24oKXtcbiAgICAgIGlmKCRzY29wZS53YWxrdGhyb3VnaF9tb2RhbCE9bnVsbCl7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciBkb25lV2Fsa3Rocm91Z2ggPSBEQlNlcnZpY2UuZ2V0RG9uZVdhbGt0aHJvdWdoKCk7XG4gICAgICBkb25lV2Fsa3Rocm91Z2gudGhlbihmdW5jdGlvbiAoZG9jKSB7XG4gICAgICAgIGlmKGRvYy5zdGF0dXMhPW51bGwgJiYgZG9jLnN0YXR1cz09XCJkb25lXCIpe1xuICAgICAgICAgIC8vWWEgbG8gdmnDsyB1bmEgdmV6XG4gICAgICAgICAgLy8kc2NvcGUub3BlbldhbGtUaHJvdWdoTW9kYWwoKTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgJHNjb3BlLm9wZW5XYWxrVGhyb3VnaE1vZGFsKCk7XG4gICAgICAgIH1cbiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgJHNjb3BlLm9wZW5XYWxrVGhyb3VnaE1vZGFsKCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAkc2NvcGUud2Fsa3Rocm91Z2hGcm9tTWVudSA9IGZ1bmN0aW9uKCl7XG4gICAgICAkc2NvcGUuY2xvc2VNYWluTWVudSgpO1xuICAgICAgJHNjb3BlLm9wZW5XYWxrVGhyb3VnaE1vZGFsKCk7XG4gICAgfVxuXG4gICAgJHNjb3BlLm9wZW5XYWxrVGhyb3VnaE1vZGFsID0gZnVuY3Rpb24oKXtcbiAgICAgICRpb25pY01vZGFsLmZyb21UZW1wbGF0ZVVybCgndGVtcGxhdGVzL3dhbGt0aHJvdWdoLmh0bWwnLCB7XG4gICAgICAgIHNjb3BlOiAkc2NvcGUsXG4gICAgICAgIGhhcmR3YXJlQmFja0J1dHRvbkNsb3NlOiBmYWxzZSxcbiAgICAgICAgYW5pbWF0aW9uOiAnc2xpZGUtaW4tdXAnLFxuICAgICAgICAvL2ZvY3VzRmlyc3RJbnB1dDogdHJ1ZVxuICAgICAgfSkudGhlbihmdW5jdGlvbihtb2RhbCkge1xuICAgICAgICAgICRzY29wZS53YWxrdGhyb3VnaF9tb2RhbCA9IG1vZGFsO1xuICAgICAgICAgICRzY29wZS53YWxrdGhyb3VnaF9tb2RhbC5zaG93KCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAkc2NvcGUuZmluaXNoV2Fsa3Rocm91Z2ggPSBmdW5jdGlvbigpe1xuICAgICAgJHNjb3BlLndhbGt0aHJvdWdoX21vZGFsLmhpZGUoKTtcbiAgICAgICRzY29wZS53YWxrdGhyb3VnaF9tb2RhbC5yZW1vdmUoKTtcbiAgICAgIERCU2VydmljZS5zYXZlRG9uZVdhbGt0aHJvdWdoKCk7XG4gICAgfVxuXG4gICAgJHNjb3BlLnN1YmplY3QgPSBcIkZlZWRiYWNrXCI7XG5cbiAgICAkc2NvcGUudG9nZ2xlR3JvdXAgPSBmdW5jdGlvbihncm91cCkge1xuICAgICAgaWYgKCRzY29wZS5pc0dyb3VwU2hvd24oZ3JvdXApKSB7XG4gICAgICAgICRzY29wZS5zaG93bkdyb3VwID0gbnVsbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICRzY29wZS5zaG93bkdyb3VwID0gZ3JvdXA7XG4gICAgICB9XG4gICAgfTtcblxuICAgICRzY29wZS5pc0dyb3VwU2hvd24gPSBmdW5jdGlvbihncm91cCkge1xuICAgICAgcmV0dXJuICRzY29wZS5zaG93bkdyb3VwID09PSBncm91cDtcbiAgICB9O1xuXG4gICAgJHNjb3BlLm9wZW5Qcm9ncmFtYXMgPSBmdW5jdGlvbigpe1xuICAgICAgJHNjb3BlLm1haW5fbWVudV9tb2RhbC5oaWRlKCk7XG4gICAgICAkc2NvcGUubWFpbl9tZW51X21vZGFsLnJlbW92ZSgpO1xuICAgICAgJGlvbmljTW9kYWwuZnJvbVRlbXBsYXRlVXJsKCd0ZW1wbGF0ZXMvcHJvZ3JhbWFzLmh0bWwnLCB7XG4gICAgICAgIHNjb3BlOiAkc2NvcGUsXG4gICAgICAgIGhhcmR3YXJlQmFja0J1dHRvbkNsb3NlOiB0cnVlLFxuICAgICAgICBhbmltYXRpb246ICdub25lJyxcbiAgICAgICAgLy9mb2N1c0ZpcnN0SW5wdXQ6IHRydWVcbiAgICAgIH0pLnRoZW4oZnVuY3Rpb24obW9kYWwpIHtcbiAgICAgICAgICAkc2NvcGUuaXRlbV9tb2RhbCA9IG1vZGFsO1xuICAgICAgICAgICRzY29wZS5pdGVtX21vZGFsLnNob3coKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgICRzY29wZS5vcGVuQWJvdXRQcm95ZWN0ID0gZnVuY3Rpb24oKXtcbiAgICAgICRzY29wZS5tYWluX21lbnVfbW9kYWwuaGlkZSgpO1xuICAgICAgJHNjb3BlLm1haW5fbWVudV9tb2RhbC5yZW1vdmUoKTtcbiAgICAgICRpb25pY01vZGFsLmZyb21UZW1wbGF0ZVVybCgndGVtcGxhdGVzL3NvYnJlX3Byb3llY3RvLmh0bWwnLCB7XG4gICAgICAgIHNjb3BlOiAkc2NvcGUsXG4gICAgICAgIGhhcmR3YXJlQmFja0J1dHRvbkNsb3NlOiB0cnVlLFxuICAgICAgICBhbmltYXRpb246ICdub25lJyxcbiAgICAgICAgLy9mb2N1c0ZpcnN0SW5wdXQ6IHRydWVcbiAgICAgIH0pLnRoZW4oZnVuY3Rpb24obW9kYWwpIHtcbiAgICAgICAgICAkc2NvcGUuaXRlbV9tb2RhbCA9IG1vZGFsO1xuICAgICAgICAgICRzY29wZS5pdGVtX21vZGFsLnNob3coKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgICRzY29wZS5uZXdzID0gbnVsbDtcblxuICAgICRzY29wZS5nb3RvTGluayA9IGZ1bmN0aW9uICh1cmwpIHtcbiAgICAgIHdpbmRvdy5vcGVuKHVybCwnX3N5c3RlbScpO1xuICAgIH1cblxuICAgICRzY29wZS5vcGVuTmV3cyA9IGZ1bmN0aW9uKCl7XG4gICAgICAkc2NvcGUuc2hvd0RpdihcIm1lbnUtc3Bpbm5lclwiKTtcbiAgICAgIE5ld3NTZXJ2aWNlLmFsbCgpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICRzY29wZS5uZXdzID0gcmVzcG9uc2UuZGF0YS5pdGVtcztcbiAgICAgICAgaWYoJHNjb3BlLml0ZW1fbW9kYWwhPW51bGwpe1xuICAgICAgICAgICRzY29wZS5pdGVtX21vZGFsLmhpZGUoKTtcbiAgICAgICAgICAkc2NvcGUuaXRlbV9tb2RhbC5yZW1vdmUoKTtcbiAgICAgICAgfVxuICAgICAgICAkc2NvcGUuaGlkZURpdihcIm1lbnUtc3Bpbm5lclwiKTtcbiAgICAgICAgJHNjb3BlLm1haW5fbWVudV9tb2RhbC5oaWRlKCk7XG4gICAgICAgICRzY29wZS5tYWluX21lbnVfbW9kYWwucmVtb3ZlKCk7XG4gICAgICAgICRpb25pY01vZGFsLmZyb21UZW1wbGF0ZVVybCgndGVtcGxhdGVzL25ld3MuaHRtbCcsIHtcbiAgICAgICAgICBzY29wZTogJHNjb3BlLFxuICAgICAgICAgIGhhcmR3YXJlQmFja0J1dHRvbkNsb3NlOiB0cnVlLFxuICAgICAgICAgIGFuaW1hdGlvbjogJ25vbmUnLFxuICAgICAgICAgIC8vZm9jdXNGaXJzdElucHV0OiB0cnVlXG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24obW9kYWwpIHtcbiAgICAgICAgICAgICRzY29wZS5pdGVtX21vZGFsID0gbW9kYWw7XG4gICAgICAgICAgICAkc2NvcGUuaXRlbV9tb2RhbC5zaG93KCk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgJHNjb3BlLnNob3dEaXYgPSBmdW5jdGlvbihkaXZJZCl7XG4gICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZGl2SWQpO1xuICAgICAgZGl2LmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRkZW5cIik7XG4gICAgfVxuXG4gICAgJHNjb3BlLmhpZGVEaXYgPSBmdW5jdGlvbihkaXZJZCwgZGl2Q2xhc3Mpe1xuICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGRpdklkKTtcbiAgICAgIGRpdi5jbGFzc05hbWUgPSBkaXYuY2xhc3NOYW1lICsgXCIgaGlkZGVuXCI7XG4gICAgfVxuXG4gICAgJHNjb3BlLm9wZW5Db250YWN0ID0gZnVuY3Rpb24oKXtcbiAgICAgICRzY29wZS5zdWJqZWN0ID0gXCJGZWVkYmFja1wiO1xuICAgICAgaWYoJHNjb3BlLml0ZW1fbW9kYWwhPW51bGwpe1xuICAgICAgICAkc2NvcGUuaXRlbV9tb2RhbC5oaWRlKCk7XG4gICAgICAgICRzY29wZS5pdGVtX21vZGFsLnJlbW92ZSgpO1xuICAgICAgfVxuICAgICAgJHNjb3BlLm1haW5fbWVudV9tb2RhbC5oaWRlKCk7XG4gICAgICAkc2NvcGUubWFpbl9tZW51X21vZGFsLnJlbW92ZSgpO1xuICAgICAgJGlvbmljTW9kYWwuZnJvbVRlbXBsYXRlVXJsKCd0ZW1wbGF0ZXMvY29udGFjdC5odG1sJywge1xuICAgICAgICBzY29wZTogJHNjb3BlLFxuICAgICAgICBoYXJkd2FyZUJhY2tCdXR0b25DbG9zZTogdHJ1ZSxcbiAgICAgICAgYW5pbWF0aW9uOiAnbm9uZScsXG4gICAgICAgIC8vZm9jdXNGaXJzdElucHV0OiB0cnVlXG4gICAgICB9KS50aGVuKGZ1bmN0aW9uKG1vZGFsKSB7XG4gICAgICAgICAgJHNjb3BlLml0ZW1fbW9kYWwgPSBtb2RhbDtcbiAgICAgICAgICAkc2NvcGUuaXRlbV9tb2RhbC5zaG93KCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAkc2NvcGUub3BlbkNvbnRhY3RTdWNjZXNzID0gZnVuY3Rpb24oKXtcbiAgICAgICRzY29wZS5pdGVtX21vZGFsLmhpZGUoKTtcbiAgICAgICRzY29wZS5pdGVtX21vZGFsLnJlbW92ZSgpO1xuICAgICAgJGlvbmljTW9kYWwuZnJvbVRlbXBsYXRlVXJsKCd0ZW1wbGF0ZXMvY29udGFjdF9zdWNjZXNzLmh0bWwnLCB7XG4gICAgICAgIHNjb3BlOiAkc2NvcGUsXG4gICAgICAgIGhhcmR3YXJlQmFja0J1dHRvbkNsb3NlOiB0cnVlLFxuICAgICAgICBhbmltYXRpb246ICdub25lJyxcbiAgICAgIH0pLnRoZW4oZnVuY3Rpb24obW9kYWwpIHtcbiAgICAgICAgICAkc2NvcGUuaXRlbV9tb2RhbCA9IG1vZGFsO1xuICAgICAgICAgICRzY29wZS5pdGVtX21vZGFsLnNob3coKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgICRzY29wZS5zZW5kX2NvbnRhY3RfcmVxdWVzdCA9IGZ1bmN0aW9uKCl7XG4gICAgICB2YXIgbmFtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29udGFjdF9ub21icmVcIik7XG4gICAgICB2YXIgZW1haWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbnRhY3RfZW1haWxcIik7XG4gICAgICB2YXIgc3ViamVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29udGFjdF9zZWxlY3RcIik7XG4gICAgICB2YXIgbWVzc2FnZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29udGFjdF9tZW5zYWplXCIpO1xuICAgICAgdmFyIGVycm9yTGFiZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbnRhY3RfZXJyb3JfbGFiZWxcIik7XG4gICAgICBpZihFcnJvclNlcnZpY2UuY2hlY2tfZmllbGQobmFtZSxcIm5vdE51bGxcIixlcnJvckxhYmVsKSYmXG4gICAgICAgIEVycm9yU2VydmljZS5jaGVja19maWVsZChlbWFpbCxcIm5vdE51bGxcIixlcnJvckxhYmVsKSYmXG4gICAgICAgIEVycm9yU2VydmljZS5jaGVja19maWVsZChlbWFpbCxcImVtYWlsXCIsZXJyb3JMYWJlbCkmJlxuICAgICAgICBFcnJvclNlcnZpY2UuY2hlY2tfZmllbGQoc3ViamVjdCxcInNlbGVjdFwiLGVycm9yTGFiZWwpJiZcbiAgICAgICAgRXJyb3JTZXJ2aWNlLmNoZWNrX2ZpZWxkKG1lc3NhZ2UsXCJub3ROdWxsXCIsZXJyb3JMYWJlbCkpe1xuICAgICAgICBDb250YWN0U2VydmljZS5zZW5kX2NvbnRhY3QobmFtZS52YWx1ZSxlbWFpbC52YWx1ZSxzdWJqZWN0W3N1YmplY3Quc2VsZWN0ZWRJbmRleF0udmFsdWUsbWVzc2FnZS52YWx1ZSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICBpZihFcnJvclNlcnZpY2UuaHR0cF9kYXRhX3Jlc3BvbnNlX2lzX3N1Y2Nlc3NmdWxfYWpheChyZXNwb25zZSkpe1xuICAgICAgICAgICAgJHNjb3BlLm9wZW5Db250YWN0U3VjY2VzcygpO1xuICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgfWVsc2V7XG4gICAgICAgIHZhciBlcnJvckNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29udGFjdF9lcnJvclwiKTtcbiAgICAgICAgZXJyb3JDb250YWluZXIuY2xhc3NOYW1lID0gXCJjb250YWN0X2Vycm9yXCI7XG4gICAgICB9XG4gICAgfVxuXG4gICAgJHNjb3BlLm9wZW5NYWluTWVudUZyb21JdGVtID0gZnVuY3Rpb24oKXtcbiAgICAgICRzY29wZS5pdGVtX21vZGFsLmhpZGUoKTtcbiAgICAgICRzY29wZS5pdGVtX21vZGFsLnJlbW92ZSgpO1xuICAgICAgJGlvbmljTW9kYWwuZnJvbVRlbXBsYXRlVXJsKCd0ZW1wbGF0ZXMvbWFpbl9tZW51Lmh0bWwnLCB7XG4gICAgICAgIHNjb3BlOiAkc2NvcGUsXG4gICAgICAgIGhhcmR3YXJlQmFja0J1dHRvbkNsb3NlOiB0cnVlLFxuICAgICAgICBhbmltYXRpb246ICdub25lJyxcbiAgICAgICAgLy9mb2N1c0ZpcnN0SW5wdXQ6IHRydWVcbiAgICAgIH0pLnRoZW4oZnVuY3Rpb24obW9kYWwpIHtcbiAgICAgICAgICAkc2NvcGUubWFpbl9tZW51X21vZGFsID0gbW9kYWw7XG4gICAgICAgICAgJHNjb3BlLm1haW5fbWVudV9tb2RhbC5zaG93KCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAkc2NvcGUub3Blbk1haW5NZW51ID0gZnVuY3Rpb24oKXtcbiAgICAgICRpb25pY01vZGFsLmZyb21UZW1wbGF0ZVVybCgndGVtcGxhdGVzL21haW5fbWVudS5odG1sJywge1xuICAgICAgICBzY29wZTogJHNjb3BlLFxuICAgICAgICBoYXJkd2FyZUJhY2tCdXR0b25DbG9zZTogdHJ1ZSxcbiAgICAgICAgYW5pbWF0aW9uOiAnbm9uZScsXG4gICAgICAgIC8vZm9jdXNGaXJzdElucHV0OiB0cnVlXG4gICAgICB9KS50aGVuKGZ1bmN0aW9uKG1vZGFsKSB7XG4gICAgICAgICAgJHNjb3BlLm1haW5fbWVudV9tb2RhbCA9IG1vZGFsO1xuICAgICAgICAgICRzY29wZS5tYWluX21lbnVfbW9kYWwuc2hvdygpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgJHNjb3BlLmNsb3NlTWFpbk1lbnUgPSBmdW5jdGlvbigpe1xuICAgICAgJHNjb3BlLm1haW5fbWVudV9tb2RhbC5oaWRlKCk7XG4gICAgICAkc2NvcGUubWFpbl9tZW51X21vZGFsLnJlbW92ZSgpO1xuICAgIH1cblxuICAgICRzY29wZS5nZXRSb2FkID0gZnVuY3Rpb24oTGF0RnJvbSxMb25nRnJvbSxsYXRUbyxsb25nVG8pe1xuICAgICAgbGVhZmxldERhdGEuZ2V0TWFwKCkudGhlbihmdW5jdGlvbihtYXApIHtcbiAgICAgICAgbWFwLmNsb3NlUG9wdXAoKTtcbiAgICAgICAgdmFyIG1hcmtlckljb24gPSBMLmljb24oe1xuICAgICAgICAgIGljb25Vcmw6IFwiLi9pbWcvbWUuc3ZnXCIsXG4gICAgICAgICAgaWNvblNpemU6IFsyOSwgMzRdLFxuICAgICAgICAgIGljb25BbmNob3I6IFs4LCA4XSxcbiAgICAgICAgICBwb3B1cEFuY2hvcjogWzAsIC04XVxuICAgICAgICB9KTtcbiAgICAgICAgaWYoJHNjb3BlLm5vd19tYXJrZXIhPW51bGwpe1xuICAgICAgICAgIG1hcC5yZW1vdmVMYXllcigkc2NvcGUubm93X21hcmtlcik7XG4gICAgICAgIH1cbiAgICAgICAgJHNjb3BlLm5vd19tYXJrZXIgPSBMLm1hcmtlcihbTGF0RnJvbSwgTG9uZ0Zyb21dLCB7aWNvbjogbWFya2VySWNvbn0pLmFkZFRvKG1hcCk7XG4gICAgICAgIGlmKCRzY29wZS5sYXN0Um9hZCE9bnVsbCl7XG4gICAgICAgICAgJHNjb3BlLmxhc3RSb2FkLnNwbGljZVdheXBvaW50cygwLCAyKTtcbiAgICAgICAgICBtYXAucmVtb3ZlQ29udHJvbCgkc2NvcGUubGFzdFJvYWQpXG4gICAgICAgICAgJHNjb3BlLmxhc3RSb2FkPW51bGw7XG4gICAgICAgIH1cbiAgICAgICAgJHNjb3BlLmxhc3RSb2FkID0gTC5Sb3V0aW5nLmNvbnRyb2woe1xuICAgICAgICAgIHdheXBvaW50czogW1xuICAgICAgICAgICAgTC5sYXRMbmcoTGF0RnJvbSxMb25nRnJvbSksXG4gICAgICAgICAgICBMLmxhdExuZyhsYXRUbyxsb25nVG8pXG4gICAgICAgICAgXSxcbiAgICAgICAgICBsYW5ndWFnZTpcImVzXCIsXG4gICAgICAgICAgcm91dGVyOiBMLlJvdXRpbmcubWFwYm94KCdway5leUoxSWpvaWJHbDBiM2h3WlhKaGJHOWpZU0lzSW1FaU9pSmphak5oZEhVemJUTXdNVFF3TW5Gd2FHUmlkbWMyZW1aNUluMC5kRUQ0RDRfTEJqUmMtc0dhNXp0NVlnJyksXG4gICAgICAgICAgY3JlYXRlTWFya2VyOiBmdW5jdGlvbiAoaSwgc3RhcnQsIG4pe1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBsaW5lT3B0aW9uczoge1xuICAgICAgICAgICAgIHN0eWxlczogW3tjb2xvcjogJyM0YzRjNGMnLCBvcGFjaXR5OiAxLCB3ZWlnaHQ6IDV9XVxuICAgICAgICAgIH0sXG4gICAgICAgICAgZml0U2VsZWN0ZWRSb3V0ZXM6IGZhbHNlXG4gICAgICAgIH0pLmFkZFRvKG1hcCk7XG4gICAgICAgIC8vTW92ZSBhIGxpdHRsZSB0aGUgbWFwIGNlbnRlciBiZWNhdXNlIHRoZSBtYXAgdmlldyBpcyBzbWFsbGVyIChyZXBvcnQgbGlzdCBpcyBkaXNwbGF5ZWQpXG4gICAgICAgIGxhdFRvID0gbGF0VG8gLSAwLjAwMDg7XG4gICAgICAgIE1hcFNlcnZpY2UuY2VudGVyTWFwT25Db29yZHMobGF0VG8sbG9uZ1RvLDE3KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIFN1Z2dlc3Rpb25cbiAgICAkc2NvcGUubW9kZWwgPSBbXTtcbiAgICAkc2NvcGUuZXh0ZXJuYWxNb2RlbCA9IFtdO1xuICAgICRzY29wZS5zZWxlY3RlZEl0ZW1zID0gW107XG4gICAgJHNjb3BlLnByZXNlbGVjdGVkU2VhcmNoSXRlbXMgPSBbXTtcbiAgICAkc2NvcGUuY2xpY2tlZFZhbHVlTW9kZWwgPSBcIlwiO1xuICAgICRzY29wZS5yZW1vdmVkVmFsdWVNb2RlbCA9IFwiXCI7XG5cbiAgICAkc2NvcGUuaXRlbXNSZW1vdmVkID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICAgICRzY29wZS5yZW1vdmVkVmFsdWVNb2RlbCA9IGNhbGxiYWNrO1xuICAgIH07XG5cbiAgICAkc2NvcGUudXNlcl9vcHRpb25zID0gZnVuY3Rpb24oKXtcbiAgICAgIHZhciBtZW51ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ1c2VyLW9wdGlvbnMtbWVudVwiKTtcbiAgICAgIGlmKG1lbnUuc3R5bGUuZGlzcGxheT09XCJibG9ja1wiKXtcbiAgICAgICAgbWVudS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgdmFyIG5hbWUgPSBVc2VyU2VydmljZS5uYW1lO1xuICAgICAgICBpZihuYW1lPT1udWxsKXtcbiAgICAgICAgICAvL05vIGVzdGEgbG9ndWVhZG9cbiAgICAgICAgICAkc2NvcGUuc2hvd19hbm9ueW1vdXNfbWVudSgpO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAvL0VzdMOhIGxvZ3VlYWRvXG4gICAgICAgICAgJHNjb3BlLnNob3dfdXNlcl9tZW51KCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAkc2NvcGUuc2hvd19hbm9ueW1vdXNfbWVudSA9IGZ1bmN0aW9uKCl7XG4gICAgICB2YXIgbWVudSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidXNlci1vcHRpb25zLW1lbnVcIik7XG4gICAgICB2YXIgaHRtbCA9IFwiPGRpdiBpZD0nYXV0aF9vcHRpb25zJz48ZGl2IGNsYXNzPSdub25hdXRoLWxpbmsnIG5nLWNsaWNrPSdzaG93X2xvZ2luX21vZGFsKCknPkluaWNpYXIgc2VzacOzbjwvZGl2PlwiO1xuICAgICAgaHRtbCA9IGh0bWwgKyBcIjxkaXYgY2xhc3M9J25vbmF1dGgtbGluaycgbmctY2xpY2s9J3Nob3dfc2lnbl91cF9tb2RhbCgpJz5SZWdpc3RyYXJzZTwvZGl2PjwvZGl2PlwiO1xuICAgICAgbWVudS5pbm5lckhUTUwgPSBodG1sO1xuICAgICAgJGNvbXBpbGUobWVudSkoJHNjb3BlKTsgLy88LS0tLSByZWNvbXBpbGF0aW9uXG4gICAgICBtZW51LnN0eWxlLmhlaWdodCA9ICcxMjBweCc7XG4gICAgICBtZW51LnN0eWxlLndpZHRoID0gJzE1MHB4JztcbiAgICAgIG1lbnUuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICB9XG5cbiAgICAkc2NvcGUuc2hvd191c2VyX21lbnUgPSBmdW5jdGlvbigpe1xuICAgICAgdmFyIG1lbnUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInVzZXItb3B0aW9ucy1tZW51XCIpO1xuICAgICAgdmFyIGh0bWwgPSBVc2VyU2VydmljZS5uYW1lICsgXCI8ZGl2IGlkPSdhdXRoX29wdGlvbnMnPjxkaXYgY2xhc3M9J3VzZXItbG9nZ2VkLWxpbmsnIG5nLWNsaWNrPSdzaG93X2VkaXRfcHJvZmlsZV9tb2RhbCgpJz5NaSBwZXJmaWw8L2Rpdj5cIjtcbiAgICAgIGh0bWwgPSBodG1sICsgXCI8ZGl2IGNsYXNzPSd1c2VyLWxvZ2dlZC1saW5rJyBuZy1jbGljaz0nbGlzdF9vZmZsaW5lX3JlcG9ydHNfbWVudSgpJz5SZXBvcnRlcyBwZW5kaWVudGVzPC9kaXY+XCI7XG4gICAgICBodG1sID0gaHRtbCArIFwiPGRpdiBjbGFzcz0ndXNlci1sb2dnZWQtbGluaycgbmctY2xpY2s9J3NpZ25fb3V0KCknPkNlcnJhciBzZXNpw7NuPC9kaXY+PC9kaXY+XCI7XG4gICAgICBtZW51LmlubmVySFRNTCA9IGh0bWw7XG4gICAgICAkY29tcGlsZShtZW51KSgkc2NvcGUpOyAvLzwtLS0tIHJlY29tcGlsYXRpb25cbiAgICAgIG1lbnUuc3R5bGUuaGVpZ2h0ID0gJzE2MHB4JztcbiAgICAgIG1lbnUuc3R5bGUud2lkdGggPSAnMjAwcHgnO1xuICAgICAgbWVudS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgIH07XG5cbiAgICAkc2NvcGUuY3JlYXRlX2ZpZWxkX2FycmF5ID0gZnVuY3Rpb24obmFtZSx0eXBlLHZhbHVlKXtcbiAgICAgIHZhciBmaWVsZCA9IG5ldyBBcnJheSgpO1xuICAgICAgZmllbGQubmFtZSA9IG5hbWU7XG4gICAgICBmaWVsZC50eXBlID0gdHlwZTtcbiAgICAgIGZpZWxkLnZhbHVlID0gdmFsdWU7XG4gICAgICByZXR1cm4gZmllbGQ7XG4gICAgfTtcblxuICAgICRzY29wZS5zaWduX2luID0gZnVuY3Rpb24oZW1haWwsIHBhc3N3b3JkKXtcbiAgICAgIGlmKENvbm5lY3Rpdml0eVNlcnZpY2UuaXNPbmxpbmUoKSl7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lci1pbnNpZGUtbW9kYWxcIikuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgdmFyIGZpZWxkcyA9IG5ldyBBcnJheSgpO1xuICAgICAgICBmaWVsZHMucHVzaCgkc2NvcGUuY3JlYXRlX2ZpZWxkX2FycmF5KFwiRW1haWxcIixcImVtYWlsXCIsZW1haWwpKTtcbiAgICAgICAgZmllbGRzLnB1c2goJHNjb3BlLmNyZWF0ZV9maWVsZF9hcnJheShcIkNvbnRyYXNlw7FhXCIsXCJub3ROdWxsXCIscGFzc3dvcmQpKTtcbiAgICAgICAgaWYoRXJyb3JTZXJ2aWNlLmNoZWNrX2ZpZWxkcyhmaWVsZHMsXCJlcnJvcl9jb250YWluZXJcIikpe1xuICAgICAgICAgIEF1dGhTZXJ2aWNlLnNpZ25faW4ocGFzc3dvcmQsIGVtYWlsKS50aGVuKGZ1bmN0aW9uKHJlc3ApIHtcbiAgICAgICAgICAgIGlmKEVycm9yU2VydmljZS5odHRwX3Jlc3BvbnNlX2lzX3N1Y2Nlc3NmdWwocmVzcCxcImVycm9yX2NvbnRhaW5lclwiKSl7XG4gICAgICAgICAgICAgIFVzZXJTZXJ2aWNlLnNhdmVfdXNlcl9kYXRhKHJlc3AuZGF0YS5uYW1lLCBlbWFpbCwgcGFzc3dvcmQsIHJlc3AuZGF0YS5pZGVudGl0eV9kb2N1bWVudCwgcmVzcC5kYXRhLnBob25lLCByZXNwLmRhdGEucGljdHVyZV91cmwpO1xuICAgICAgICAgICAgICBEQlNlcnZpY2Uuc2F2ZVVzZXIocmVzcC5kYXRhLm5hbWUsZW1haWwscGFzc3dvcmQscmVzcC5kYXRhLmlkZW50aXR5X2RvY3VtZW50LHJlc3AuZGF0YS5waG9uZSxyZXNwLmRhdGEucGljdHVyZV91cmwpO1xuICAgICAgICAgICAgICAvLyRzY29wZS5zZXRfdXNlcl9waWN0dXJlKDEpO1xuICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXItaW5zaWRlLW1vZGFsXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgJHNjb3BlLmNsb3NlX2xvZ2luX21vZGFsKCk7XG4gICAgICAgICAgICAgIC8vJHNjb3BlLmNoZWNrX3VzZXJfbG9nZ2VkKCk7XG4gICAgICAgICAgICAgICRzY29wZS5zZXRfdXNlcl9waWN0dXJlKDEpO1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lci1pbnNpZGUtbW9kYWxcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sIGZ1bmN0aW9uKHJlc3ApIHtcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgIC8vYWxlcnQoXCJFcnJvciBlbiBzaWduX2luXCIpO1xuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyLWluc2lkZS1tb2RhbFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICBFcnJvclNlcnZpY2Uuc2hvd19lcnJvcl9tZXNzYWdlKFwiZXJyb3JfY29udGFpbmVyXCIscmVzcC5zdGF0dXNUZXh0KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyLWluc2lkZS1tb2RhbFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgIH1cblxuICAgICAgfWVsc2V7XG4gICAgICAgIFBvcFVwU2VydmljZS5zaG93X2FsZXJ0KFwiU2luIGNvbmV4acOzbiBhIGludGVybmV0XCIsXCJQYXJhIGluaWNpYXIgc2VzacOzbiBkZWJlIGVzdGFyIGNvbmVjdGFkbyBhIGludGVybmV0XCIpO1xuICAgICAgfVxuICAgIH1cblxuICAgICRzY29wZS5zaWduX2luX2FqYXggPSBmdW5jdGlvbihlbWFpbCwgcGFzc3dvcmQpe1xuICAgICAgQXV0aFNlcnZpY2Uuc2lnbl9pbihwYXNzd29yZCwgZW1haWwpLnRoZW4oZnVuY3Rpb24ocmVzcCkge1xuICAgICAgICBpZihFcnJvclNlcnZpY2UuaHR0cF9yZXNwb25zZV9pc19zdWNjZXNzZnVsX2FqYXgocmVzcCkpe1xuICAgICAgICAgIFVzZXJTZXJ2aWNlLnNhdmVfdXNlcl9kYXRhKHJlc3AuZGF0YS5uYW1lLCBlbWFpbCwgcGFzc3dvcmQsIHJlc3AuZGF0YS5pZGVudGl0eV9kb2N1bWVudCwgcmVzcC5kYXRhLnBob25lLCByZXNwLmRhdGEucGljdHVyZV91cmwpO1xuICAgICAgICAgIERCU2VydmljZS5zYXZlVXNlcihyZXNwLmRhdGEubmFtZSxlbWFpbCxwYXNzd29yZCxyZXNwLmRhdGEuaWRlbnRpdHlfZG9jdW1lbnQscmVzcC5kYXRhLnBob25lLHJlc3AuZGF0YS5waWN0dXJlX3VybCk7XG4gICAgICAgICAgJHNjb3BlLnNldF91c2VyX3BpY3R1cmUoMSk7XG4gICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG5cbiAgICAgIH0sIGZ1bmN0aW9uKHJlc3ApIHtcbiAgICAgICAgLy9jb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAvL0Vycm9yU2VydmljZS5zaG93X2Vycm9yX21lc3NhZ2VfcG9wdXAocmVzcC5zdGF0dXNUZXh0KTtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAkc2NvcGUuc2lnbl9vdXQgPSBmdW5jdGlvbigpe1xuICAgICAgVXNlclNlcnZpY2UuZXJhc2VfdXNlcl9kYXRhKCk7XG4gICAgICBEQlNlcnZpY2UuZXJhc2VVc2VyKCk7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXJcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgJHNjb3BlLnNldF91c2VyX3BpY3R1cmUoMCk7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInVzZXItb3B0aW9ucy1tZW51XCIpLnN0eWxlLmRpc3BsYXk9XCJub25lXCI7XG4gICAgfVxuXG5cbiAgICAkc2NvcGUuY2hlY2tfdXNlcl9sb2dnZWQgPSBmdW5jdGlvbigpe1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgICRzY29wZS5zZXRfb2ZmbGluZV91c2VyID0gZnVuY3Rpb24oKXtcbiAgICB9XG5cblxuXG4gICAgJHNjb3BlLnNldF91c2VyX3BpY3R1cmUgPSBmdW5jdGlvbihoYXNQaG90byl7XG4gICAgfVxuXG4gICAgJHNjb3BlLnNlYXJjaF9zdHJlZXQgPSBmdW5jdGlvbigpe1xuICAgICAgJHNjb3BlLmhpZGVfc3BlY2lhbF9kaXZzKCk7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNlYXJjaC10ZXh0Ym94XCIpLnBhcmVudE5vZGUuY2xpY2soKTtcbiAgICB9XG5cbiAgICAkc2NvcGUuZmluZF9tZSA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICRzY29wZS5zZXRfYWN0aXZlX29wdGlvbihcImJ1dHRvbi1maW5kLW1lXCIpO1xuICAgICAgICAkc2NvcGUuaGlkZV9zcGVjaWFsX2RpdnMoKTtcbiAgICAgICAgdmFyIHBvc09wdGlvbnMgPSB7dGltZW91dDogMzAwMCwgZW5hYmxlSGlnaEFjY3VyYWN5OiB0cnVlfTtcbiAgICAgICAgJGNvcmRvdmFHZW9sb2NhdGlvblxuICAgICAgICAgIC5nZXRDdXJyZW50UG9zaXRpb24ocG9zT3B0aW9ucylcbiAgICAgICAgICAudGhlbihmdW5jdGlvbiAocG9zaXRpb24pIHtcbiAgICAgICAgICAgICAgICAvKiRzY29wZS5tYXAuY2VudGVyLmxhdCAgPSBwb3NpdGlvbi5jb29yZHMubGF0aXR1ZGU7XG4gICAgICAgICAgICAgICAgJHNjb3BlLm1hcC5jZW50ZXIubG5nID0gcG9zaXRpb24uY29vcmRzLmxvbmdpdHVkZTtcbiAgICAgICAgICAgICAgICBMb2NhdGlvbnNTZXJ2aWNlLnNhdmVfbmV3X3JlcG9ydF9wb3NpdGlvbihwb3NpdGlvbi5jb29yZHMubGF0aXR1ZGUscG9zaXRpb24uY29vcmRzLmxvbmdpdHVkZSk7Ki9cbiAgICAgICAgICAgICAgICB2YXIgem9vbSA9IDE4O1xuICAgICAgICAgICAgICAgIHZhciBtYXJrZXJJY29uID0gTC5pY29uKHtcbiAgICAgICAgICAgICAgICAgIGljb25Vcmw6IFwiLi9pbWcvbWUuc3ZnXCIsXG4gICAgICAgICAgICAgICAgICBpY29uU2l6ZTogWzI5LCAzNF0sXG4gICAgICAgICAgICAgICAgICBpY29uQW5jaG9yOiBbOCwgOF0sXG4gICAgICAgICAgICAgICAgICBwb3B1cEFuY2hvcjogWzAsIC04XVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgbGVhZmxldERhdGEuZ2V0TWFwKCkudGhlbihmdW5jdGlvbihtYXApIHtcbiAgICAgICAgICAgICAgICAgIGlmKCRzY29wZS5ub3dfbWFya2VyIT1udWxsKXtcbiAgICAgICAgICAgICAgICAgICAgbWFwLnJlbW92ZUxheWVyKCRzY29wZS5ub3dfbWFya2VyKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICRzY29wZS5ub3dfbWFya2VyID0gTC5tYXJrZXIoW3Bvc2l0aW9uLmNvb3Jkcy5sYXRpdHVkZSwgcG9zaXRpb24uY29vcmRzLmxvbmdpdHVkZV0sIHtpY29uOiBtYXJrZXJJY29ufSkuYWRkVG8obWFwKTtcbiAgICAgICAgICAgICAgICAgIE1hcFNlcnZpY2UuY2VudGVyTWFwT25Db29yZHMocG9zaXRpb24uY29vcmRzLmxhdGl0dWRlLHBvc2l0aW9uLmNvb3Jkcy5sb25naXR1ZGUsem9vbSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgICAgIC8vRXJyb3JTZXJ2aWNlLnNob3dfZXJyb3JfbWVzc2FnZV9wb3B1cChcIk5vIGhlbW9zIHBvZGlkbyBnZW9sb2NhbGl6YXJsby4gwr9UYWwgdmV6IG9sdmlkw7MgaGFiaWxpdGFyIGxvcyBzZXJ2aWNpb3MgZGUgbG9jYWxpemFjacOzbiBlbiBzdSBkaXNwb3NpdGl2bz9cIilcbiAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICB9O1xuXG4gICAgICB2YXIgTG9jYXRpb24gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCAhKHRoaXMgaW5zdGFuY2VvZiBMb2NhdGlvbikgKSByZXR1cm4gbmV3IExvY2F0aW9uKCk7XG4gICAgICAgIHRoaXMubGF0ICA9IFwiXCI7XG4gICAgICAgIHRoaXMubG5nICA9IFwiXCI7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiXCI7XG4gICAgICB9O1xuXG4gIH1cbl0pO1xuIiwicG1iX2ltLmNvbnRyb2xsZXJzLmNvbnRyb2xsZXIoJ1BNQkN0cmwnLFxuWyckc2NvcGUnLFxuJyRzdGF0ZScsXG4nbGVhZmxldERhdGEnLFxuJ1BNQlNlcnZpY2UnLFxuJ0NvbnRhaW5lclNlcnZpY2UnLFxuJ2xvY2F0aW9uQVBJJyxcbidNYXBTZXJ2aWNlJyxcbidfJyxcbidMb2FkZXInLFxuJ0xvY2F0aW9uc1NlcnZpY2UnLFxuZnVuY3Rpb24oJHNjb3BlLFxuICAkc3RhdGUsXG4gIGxlYWZsZXREYXRhLFxuICBQTUJTZXJ2aWNlLFxuICBDb250YWluZXJTZXJ2aWNlLFxuICBsb2NhdGlvbkFQSSxcbiAgTWFwU2VydmljZSxcbiAgXyxcbiAgTG9hZGVyLFxuICBMb2NhdGlvbnNTZXJ2aWNlKSB7XG4gICRzY29wZS5yZXBvcnRCdXR0b24gPSB7XG4gICAgdGV4dDogXCJSZXBvcnRhclwiLFxuICAgIHN0YXRlOiBcInVuQ29uZmlybWVkXCJcbiAgfTtcblxuICAvLyRzY29wZS4kb24oJyRpb25pY1ZpZXcuYWZ0ZXJFbnRlcicsIGZ1bmN0aW9uKCl7IC8vVGhpcyBpcyBmaXJlZCB0d2ljZSBpbiBhIHJvd1xuICAkc2NvcGUuJG9uKFwiJGlvbmljVmlldy5hZnRlckVudGVyXCIsIGZ1bmN0aW9uKCkge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lclwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgdmFyIG1hcCA9IGxlYWZsZXREYXRhLmdldE1hcCgpO1xuICAgIGlmKExvY2F0aW9uc1NlcnZpY2UuaW5pdGlhbF9sYXQhPVwiXCIpe1xuICAgICAgTWFwU2VydmljZS5jZW50ZXJNYXBPbkNvb3JkcyhMb2NhdGlvbnNTZXJ2aWNlLmluaXRpYWxfbGF0LCBMb2NhdGlvbnNTZXJ2aWNlLmluaXRpYWxfbG5nLCAxOCk7XG4gICAgfWVsc2V7XG4gICAgICBNYXBTZXJ2aWNlLmNlbnRlck1hcE9uQ29vcmRzKC0zNC45MDExMTMsIC01Ni4xNjQ1MzEsIDE2KTtcbiAgICB9XG4gIH0pO1xuXG5cbiAgLyoqL1xuXG4gICRzY29wZS5zZWFyY2hNb2RlID0gXCJjYWxsZS5sdWdhclwiO1xuICAkc2NvcGUubG9jYXRpb24gPXtjYWxsZTpudWxsLGVzcXVpbmE6bnVsbCxsdWdhcjpudWxsfTtcblxuXG4gIC8vQXV0byBjb21wbGV0ZVxuXG5cbiAgdmFyIGxvY2F0aW9uR2VvbVBhcmFtcyA9e3RpcG86bnVsbCxwYXRoUGFyYW1zOltdfTtcbiAgJHNjb3BlLiRvbihcIiRzdGF0ZUNoYW5nZVN1Y2Nlc3NcIiwgZnVuY3Rpb24oKSB7XG4gICAgJHNjb3BlLmlvbkF1dG9jb21wbGV0ZUVsZW1lbnQgPSBhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImlvbi1hdXRvY29tcGxldGVcIikpO1xuICAgIC8vY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkoJHNjb3BlLmlvbkF1dG9jb21wbGV0ZUVsZW1lbnQpKTtcbiAgICAkc2NvcGUuaW9uQXV0b2NvbXBsZXRlRWxlbWVudC5iaW5kKCd0b3VjaGVuZCBjbGljayBmb2N1cycsICRzY29wZS5vbkNsaWNrKTtcbiAgfSk7XG5cblxuICAkc2NvcGUuaW5pdFJlcG9ydCA9IGZ1bmN0aW9uKCkge1xuXG4gICAgdmFyIF9waW4sIF9waW5JY29uID0gTC5pY29uKHtcbiAgICAgIGljb25Vcmw6ICdpbWcvcGluQHgyLnBuZycsXG4gICAgICBpY29uU2l6ZTogWzcwLCAxMTBdLCAvLyBzaXplIG9mIHRoZSBpY29uXG4gICAgICBpY29uQW5jaG9yOiBbLTE4LCA1NV0sIC8vIHBvaW50IG9mIHRoZSBpY29uIHdoaWNoIHdpbGwgY29ycmVzcG9uZCB0byBtYXJrZXIncyBsb2NhdGlvblxuICAgIH0pO1xuXG4gICAgaWYgKCRzY29wZS5yZXBvcnRCdXR0b24uc3RhdGUgPT0gXCJ1bkNvbmZpcm1lZFwiKSB7XG5cbiAgICAgICRzY29wZS5yZXBvcnRCdXR0b24udGV4dCA9IFwiQ29uZmlybWFyXCI7XG4gICAgICAkc2NvcGUucmVwb3J0QnV0dG9uLnN0YXRlID0gXCJhYm91dDJDb25maXJtXCI7XG5cblxuICAgICAgbGVhZmxldERhdGEuZ2V0TWFwKCkudGhlbihmdW5jdGlvbihtYXApIHtcbiAgICAgICAgX3BpbiA9IG5ldyBMLm1hcmtlcihtYXAuZ2V0Q2VudGVyKCksIHtcbiAgICAgICAgICBpY29uOiBfcGluSWNvbixcbiAgICAgICAgICBjbGlja2FibGU6IGZhbHNlXG4gICAgICAgIH0pLmFkZFRvKG1hcCk7XG5cbiAgICAgICAgUmVwb3J0U2VydmljZS5fbmV3KCk7XG4gICAgICAgIFJlcG9ydFNlcnZpY2UuY3VycmVudC5zZXRMYXRMbmcobWFwLmdldENlbnRlcigpKTtcbiAgICAgICAgLy9jb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeSgkc2NvcGUuY3VycmVudFJlcG9ydCkpO1xuXG4gICAgICAgICRzY29wZS5pb25BdXRvY29tcGxldGVFbGVtZW50ID0gYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJpb24tYXV0b2NvbXBsZXRlXCIpKTtcbiAgICAgICAgJHNjb3BlLmlvbkF1dG9jb21wbGV0ZUVsZW1lbnQuYmluZCgndG91Y2hlbmQgY2xpY2sgZm9jdXMnLCAkc2NvcGUub25DbGljayk7XG5cblxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vY29uc29sZS5sb2coXCJjdXJyZW50UmVwb3J0ID1cIiArIEpTT04uc3RyaW5naWZ5KCRzY29wZS5jdXJyZW50UmVwb3J0KSk7XG4gICAgfVxuXG4gIH07XG5cbiAgJHNjb3BlLmlzTnVtZXJpYyA9IGZ1bmN0aW9uKG4pIHtcbiAgICByZXR1cm4gIWlzTmFOKHBhcnNlRmxvYXQobikpICYmIGlzRmluaXRlKG4pO1xuICB9O1xuXG4gICRzY29wZS5zZWFyY2hMb2NhdGlvbiA9IGZ1bmN0aW9uKHF1ZXJ5KSB7XG4gICAgdmFyIHByb21pc2VTZWFyY2g7XG4gICAgaWYgKHF1ZXJ5ICYmIHF1ZXJ5Lmxlbmd0aD49Mikge1xuXG5cbiAgICAgIGlmICgkc2NvcGUuc2VhcmNoTW9kZSA9PSBcImNhbGxlLmx1Z2FyXCIpIHtcbiAgICAgICAgcHJvbWlzZVNlYXJjaCA9IGxvY2F0aW9uQVBJLnNlYXJjaExvY2F0aW9uQnlTdHIocXVlcnkpO1xuXG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvL2NvbnNvbGUubG9nKFwiYnVzY2FuZG8gY2FsbGUvXCIrJHNjb3BlLnNlbGVjdGVkSXRlbS5jb2RpZ28rXCJlc3F1aW5hID0gXCIgKyBxdWVyeSk7XG4gICAgICAgIGlmKCRzY29wZS5pc051bWVyaWMocXVlcnkudHJpbSgpKSl7XG4gICAgICAgICAgdmFyIGl0ZW1zID0gW107XG4gICAgICAgICAgdmFyIGl0ZW0gPSB7XCJkZXNjVGlwb1wiOlwiTlVNRVJPXCIsXCJub21icmVcIjpxdWVyeSxcImNvZGlnb1wiOnF1ZXJ5fTtcbiAgICAgICAgICBpdGVtc1swXSA9IGl0ZW07XG4gICAgICAgICAgcmV0dXJuIGl0ZW1zO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICBwcm9taXNlU2VhcmNoID0gbG9jYXRpb25BUEkuc2VhcmNoRXNxdWluYUJ5U3RyKHtcbiAgICAgICAgICAgIGNhbGxlOiAkc2NvcGUuc2VsZWN0ZWRJdGVtLmNvZGlnbyxcbiAgICAgICAgICAgIGVzcXVpbmE6IHF1ZXJ5XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBwcm9taXNlU2VhcmNoO1xuICAgIH1lbHNle1xuICAgICAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gIH07XG5cbiAgJHNjb3BlLm9uQ2xpY2sgPSBmdW5jdGlvbigpIHtcblxuICAgICRzY29wZS5pb25BdXRvY29tcGxldGVFbGVtZW50LmNvbnRyb2xsZXIoJ2lvbkF1dG9jb21wbGV0ZScpLnNob3dNb2RhbCgpO1xuXG4gIH07XG5cbiAgJHNjb3BlLml0ZW1zQ2xpY2tlZCA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG5cbiAgICAkc2NvcGUuY2xpY2tlZFZhbHVlTW9kZWwgPSBjYWxsYmFjaztcbiAgICAvLyRzY29wZS5zZWxlY3RlZEl0ZW0gPSBjYWxsYmFjay5zZWxlY3RlZEl0ZW1zWzBdO1xuICAgICRzY29wZS5zZWxlY3RlZEl0ZW0gPSBjYWxsYmFjay5pdGVtO1xuICAgICRzY29wZS5pb25BdXRvY29tcGxldGVFbGVtZW50U2VhcmNoID0gYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJpb24tYXV0b2NvbXBsZXRlLXNlYXJjaFwiKSk7XG4gICAgaWYgKCRzY29wZS5zZWFyY2hNb2RlID09IFwiZXNxdWluYS5udW1lcm9cIikge1xuICAgICAgbG9jYXRpb25HZW9tUGFyYW1zLnBhdGhQYXJhbXMgPSBbXTtcbiAgICAgICRzY29wZS5sb2NhdGlvbi5lc3F1aW5hPSAkc2NvcGUuc2VsZWN0ZWRJdGVtO1xuICAgICAgbG9jYXRpb25HZW9tUGFyYW1zLnBhdGhQYXJhbXMucHVzaCgkc2NvcGUubG9jYXRpb24uY2FsbGUuY29kaWdvKTtcbiAgICAgIGxvY2F0aW9uR2VvbVBhcmFtcy5wYXRoUGFyYW1zLnB1c2goJHNjb3BlLmxvY2F0aW9uLmVzcXVpbmEuY29kaWdvKTtcbiAgICAgIHZhciBzdHJfdGlwbyA9IFwiXCI7XG4gICAgICBpZigkc2NvcGUuaXNOdW1lcmljKCRzY29wZS5zZWxlY3RlZEl0ZW0ubm9tYnJlKSl7XG4gICAgICAgIC8vU2VsZWNjaW9uw7MgdW4gbsO6bWVybyBkZSBwdWVydGFcbiAgICAgICAgbG9jYXRpb25HZW9tUGFyYW1zLnRpcG89XCJESVJFQ0NJT05cIjtcbiAgICAgIH1lbHNle1xuICAgICAgICAvL3NlbGVjY2lvbm8gdW5hIGVzcXVpbmFcbiAgICAgICAgbG9jYXRpb25HZW9tUGFyYW1zLnRpcG89XCJFU1FVSU5BXCI7Ly8kc2NvcGUuc2VsZWN0ZWRJdGVtLmRlc2NUaXBvO1xuICAgICAgICBzdHJfdGlwbyA9IFwiZXNxdWluYVwiO1xuICAgICAgfVxuICAgICAgbG9jYXRpb25BUEkuZ2V0TG9jYXRpb25HZW9tKGxvY2F0aW9uR2VvbVBhcmFtcykudGhlbihmdW5jdGlvbihyZXN1bHQpe1xuICAgICAgICAvL2NvbnNvbGUubG9nKHJlc3VsdC5nZW9KU09OKTtcbiAgICAgICAgTWFwU2VydmljZS5nb1RvUGxhY2UoYW5ndWxhci5leHRlbmQoe25vbWJyZTogJHNjb3BlLmxvY2F0aW9uLmNhbGxlLm5vbWJyZSArIFwiIFwiICsgc3RyX3RpcG8gKyBcIiBcIiArICRzY29wZS5zZWxlY3RlZEl0ZW0ubm9tYnJlLCBnZW9tOiByZXN1bHQuZ2VvSlNPTn0scmVzdWx0KSwkc2NvcGUpO1xuICAgICAgICAkc2NvcGUuc2VhcmNoTW9kZSA9IFwiY2FsbGUubHVnYXJcIjtcbiAgICAgICAgJHNjb3BlLmlvbkF1dG9jb21wbGV0ZUVsZW1lbnRTZWFyY2guYXR0cihcInBsYWNlaG9sZGVyXCIsIFwiQnVzY2FyIGNhbGxlXCIpO1xuICAgICAgICAkc2NvcGUuZXh0ZXJuYWxNb2RlbCA9IFtdO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICRzY29wZS5sb2NhdGlvbi5jYWxsZT0gJHNjb3BlLnNlbGVjdGVkSXRlbTtcbiAgICAgICRzY29wZS5zZWFyY2hNb2RlID0gXCJlc3F1aW5hLm51bWVyb1wiO1xuICAgICAgJHNjb3BlLmlvbkF1dG9jb21wbGV0ZUVsZW1lbnRTZWFyY2guYXR0cihcInBsYWNlaG9sZGVyXCIsIFwiRXNxdWluYSBvIG7Dum1lcm9cIik7XG4gICAgICAkc2NvcGUuaW9uQXV0b2NvbXBsZXRlRWxlbWVudC5jb250cm9sbGVyKCdpb25BdXRvY29tcGxldGUnKS5zaG93TW9kYWwoKTtcbiAgICAgICRzY29wZS5wcmVzZWxlY3RlZFNlYXJjaEl0ZW1zID0gW107XG4gICAgfVxuXG4gIH07XG5cbiAgJHNjb3BlLml0ZW1zQ2FuY2VsZWQ9IGZ1bmN0aW9uKF9pdGVtKXtcbiAgICB2YXIgbnVtUHVlcnRhID0gcGFyc2VJbnQoX2l0ZW0uc2VhcmNoUXVlcnkpO1xuICAgIGlmKE51bWJlci5pc0ludGVnZXIobnVtUHVlcnRhKSl7XG4gICAgICAvL2NvbnNvbGUubG9nKFwiSVMgbnVtYmVyXCIpO1xuICAgICAgbG9jYXRpb25HZW9tUGFyYW1zLnRpcG89XCJESVJFQ0NJT05cIjsvLyRzY29wZS5zZWxlY3RlZEl0ZW0uZGVzY1RpcG87XG4gICAgICBsb2NhdGlvbkdlb21QYXJhbXMucGF0aFBhcmFtcy5wdXNoKCRzY29wZS5sb2NhdGlvbi5jYWxsZS5jb2RpZ28pO1xuICAgICAgbG9jYXRpb25HZW9tUGFyYW1zLnBhdGhQYXJhbXMucHVzaChudW1QdWVydGEpO1xuICAgICAgbG9jYXRpb25BUEkuZ2V0TG9jYXRpb25HZW9tKGxvY2F0aW9uR2VvbVBhcmFtcykudGhlbihmdW5jdGlvbihyZXN1bHQpe1xuICAgICAgTWFwU2VydmljZS5nb1RvUGxhY2UoYW5ndWxhci5leHRlbmQoe25vbWJyZTokc2NvcGUuc2VsZWN0ZWRJdGVtLm5vbWJyZSArIFwiIFwiICsgbnVtUHVlcnRhIH0scmVzdWx0KSwkc2NvcGUpO1xuICAgICAgJHNjb3BlLnNlYXJjaE1vZGUgPSBcImNhbGxlLmx1Z2FyXCI7XG5cbiAgICB9LGZ1bmN0aW9uKGVycm9yKXtcbiAgICAgIC8vY29uc29sZS5sb2coXCJFcnJvciBvYnRlbmllbmRvIGxhIGRpcmVjY2lvbiBcIisgSlNPTi5zdHJpbmdpZnkoZXJyb3IpKTtcbiAgICAgIExvYWRlci5zaG93QWxlcnQoXCJFcnJvclwiLFwiTm8gZXhpc3RlIGVzYSBkaXJlY2Npb25cIikudGhlbihmdW5jdGlvbihyZXMpe1xuICAgICAgICAgICRzY29wZS5pb25BdXRvY29tcGxldGVFbGVtZW50LmNvbnRyb2xsZXIoJ2lvbkF1dG9jb21wbGV0ZScpLnNob3dNb2RhbCgpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIH07XG59XSk7XG4iLCJwbWJfaW0uc2VydmljZXMuZmFjdG9yeSgnQXV0aFNlcnZpY2UnLCBbJyRodHRwJywgJyRjb3Jkb3ZhRmlsZVRyYW5zZmVyJywgJ0NvbmZpZ1NlcnZpY2UnLCBmdW5jdGlvbigkaHR0cCwgJGNvcmRvdmFGaWxlVHJhbnNmZXIsIENvbmZpZ1NlcnZpY2UpIHtcblxuICB2YXIgYmFzZVVSTCA9IENvbmZpZ1NlcnZpY2UuYmFzZVVSTCArIFwiL2F1dGgvYWpheC9cIjtcblxuICByZXR1cm4ge1xuICAgIHNpZ25faW46IGZ1bmN0aW9uIChwYXNzd29yZCwgZW1haWwpIHtcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoYmFzZVVSTCArIFwic2lnbl9pblwiLCB7IHBhcmFtczogeyBwYXNzd29yZF9zaWduX2luOiBwYXNzd29yZCwgZW1haWw6IGVtYWlsIH0gfSk7XG4gICAgfSxcblxuICAgIHNpZ25fb3V0OiBmdW5jdGlvbiAocGFzc3dvcmQsIGVtYWlsKSB7XG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KGJhc2VVUkwgKyBcInNpZ25fb3V0XCIsIHsgcGFyYW1zOiB7IHBhc3N3b3JkX3NpZ25faW46IHBhc3N3b3JkLCBlbWFpbDogZW1haWwgfSB9KTtcbiAgICB9LFxuXG4gICAgY3JlYXRlX3VzZXI6IGZ1bmN0aW9uIChlbWFpbCxmdWxsbmFtZSxwYXNzd29yZCwgaWRfZG9jLCB1c2VyX3Bob25lKSB7XG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KGJhc2VVUkwgKyBcImNyZWF0ZV91c2VyXCIsIHsgcGFyYW1zOiB7IGZvcm1fZW1haWw6IGVtYWlsLCBuYW1lOiBmdWxsbmFtZSwgcGFzc3dvcmRfcmVnaXN0ZXI6IHBhc3N3b3JkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWRlbnRpdHlfZG9jdW1lbnQ6IGlkX2RvYywgcGhvbmU6IHVzZXJfcGhvbmUgfSB9KTtcbiAgICB9LFxuXG4gICAgY2hhbmdlX3Bhc3N3b3JkOiBmdW5jdGlvbiAoZW1haWwsZnVsbG5hbWUscGFzc3dvcmQsIGlkX2RvYywgdXNlcl9waG9uZSkge1xuICAgICAgcmV0dXJuICRodHRwLmdldChiYXNlVVJMICsgXCJjcmVhdGVfdXNlclwiLCB7IHBhcmFtczogeyBsb2dpbl9lbWFpbDogZW1haWwsIG5hbWU6IGZ1bGxuYW1lLCBwYXNzd29yZF9yZWdpc3RlcjogcGFzc3dvcmQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZGVudGl0eV9kb2N1bWVudDogaWRfZG9jLCBwaG9uZTogdXNlcl9waG9uZSB9IH0pO1xuICAgIH0sXG5cbiAgICBlZGl0X3VzZXI6IGZ1bmN0aW9uIChlbWFpbCxwYXNzd29yZCwgZnVsbG5hbWUsIG5ld19lbWFpbCwgaWRfZG9jLCB1c2VyX3Bob25lLCB1c2VyX3BpY3R1cmVfdXJsKSB7XG4gICAgICBpZiAodXNlcl9waWN0dXJlX3VybCE9bnVsbCAmJiB1c2VyX3BpY3R1cmVfdXJsIT1cIlwiKSB7XG4gICAgICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgICAgZmlsZUtleTogXCJwaG90b1wiLFxuICAgICAgICAgLy9maWxlTmFtZTogZmlsZW5hbWUsXG4gICAgICAgICAvL2NodW5rZWRNb2RlOiBmYWxzZSxcbiAgICAgICAgIC8vbWltZVR5cGU6IFwiaW1hZ2UvanBnXCIsXG4gICAgICAgICBwYXJhbXMgOiB7ICBlbWFpbDogZW1haWwsXG4gICAgICAgICAgICAgICAgICAgICBwYXNzd29yZF9zaWduX2luOiBwYXNzd29yZCxcbiAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGZ1bGxuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgbmV3X2VtYWlsOiBuZXdfZW1haWwsXG4gICAgICAgICAgICAgICAgICAgICBpZGVudGl0eV9kb2N1bWVudDogaWRfZG9jLFxuICAgICAgICAgICAgICAgICAgICAgcGhvbmU6IHVzZXJfcGhvbmVcbiAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHZhciB0cnVzdEFsbEhvc3RzID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuICRjb3Jkb3ZhRmlsZVRyYW5zZmVyLnVwbG9hZChiYXNlVVJMICsgXCJlZGl0X3VzZXJcIiwgdXNlcl9waWN0dXJlX3VybCwgb3B0aW9ucywgdHJ1c3RBbGxIb3N0cyk7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgcmV0dXJuICRodHRwLmdldChiYXNlVVJMICsgXCJlZGl0X3VzZXJcIiwgeyBwYXJhbXM6IHsgZW1haWw6IGVtYWlsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmRfc2lnbl9pbjogcGFzc3dvcmQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBmdWxsbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld19lbWFpbDogbmV3X2VtYWlsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWRlbnRpdHlfZG9jdW1lbnQ6IGlkX2RvYyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBob25lOiB1c2VyX3Bob25lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gIH07XG59XSk7XG4iLCJwbWJfaW0uc2VydmljZXMuZmFjdG9yeSgnQ2F0ZWdvcmllc1NlcnZpY2UnLCBbJyRodHRwJywnTG9jYXRpb25zU2VydmljZScsICdDb25maWdTZXJ2aWNlJywgJ0RCU2VydmljZScsIGZ1bmN0aW9uKCRodHRwLExvY2F0aW9uc1NlcnZpY2UsIENvbmZpZ1NlcnZpY2UsIERCU2VydmljZSkge1xuXG4gIHZhciBiYXNlVVJMID0gQ29uZmlnU2VydmljZS5iYXNlVVJMICsgXCIvcmVwb3J0L25ldy9hamF4XCI7XG5cbiAgcmV0dXJuIHtcbiAgICBhbGw6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoYmFzZVVSTCwgeyBwYXJhbXM6IHsgbGF0OiBMb2NhdGlvbnNTZXJ2aWNlLm5ld19yZXBvcnRfbGF0LCBsb246IExvY2F0aW9uc1NlcnZpY2UubmV3X3JlcG9ydF9sbmcsIGZvcm1hdDogXCJqc29uXCIgfSB9KVxuICAgIH0sXG5cbiAgICBnZXRDYWNoZWRDYXRlZ29yaWVzOiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gREJTZXJ2aWNlLmdldENhdGVnb3JpZXMoKTtcbiAgICB9XG4gIH07XG59XSk7XG4iLCJwbWJfaW0uc2VydmljZXMuZmFjdG9yeSgnQ29uZmlnU2VydmljZScsIFsnJGh0dHAnLCBmdW5jdGlvbigkaHR0cCkge1xuXG4gIHZhciBDb25maWdPYmogPSB7fTtcbiAgQ29uZmlnT2JqLmJhc2VVUkwgPSBcImh0dHA6Ly9kb25kZXJlY2ljbG8uZGV2ZWxvcG1lbnQuZGF0YXV5Lm9yZ1wiO1xuXG4gIHJldHVybiBDb25maWdPYmo7XG5cbn1dKTtcbiIsInBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdDb25uZWN0aXZpdHlTZXJ2aWNlJywgWyckY29yZG92YU5ldHdvcmsnLCBmdW5jdGlvbigkY29yZG92YU5ldHdvcmspe1xuXG4gIHJldHVybiB7XG4gICAgaXNPbmxpbmU6IGZ1bmN0aW9uKCl7XG4gICAgICBpZihpb25pYy5QbGF0Zm9ybS5pc1dlYlZpZXcoKSl7XG4gICAgICAgIHJldHVybiAkY29yZG92YU5ldHdvcmsuaXNPbmxpbmUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBuYXZpZ2F0b3Iub25MaW5lO1xuICAgICAgICAvL3JldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGlzT2ZmbGluZTogZnVuY3Rpb24oKXtcbiAgICAgIGlmKGlvbmljLlBsYXRmb3JtLmlzV2ViVmlldygpKXtcbiAgICAgICAgcmV0dXJuICEkY29yZG92YU5ldHdvcmsuaXNPbmxpbmUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAhbmF2aWdhdG9yLm9uTGluZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1dKVxuIiwicG1iX2ltLnNlcnZpY2VzLmZhY3RvcnkoJ0NvbnRhY3RTZXJ2aWNlJywgWyckaHR0cCcsICdDb25maWdTZXJ2aWNlJywgZnVuY3Rpb24oJGh0dHAsIENvbmZpZ1NlcnZpY2UpIHtcblxuICB2YXIgYmFzZVVSTCA9IENvbmZpZ1NlcnZpY2UuYmFzZVVSTCArIFwiL2RhdGF1eS9jb250YWN0L1wiO1xuXG4gIHJldHVybiB7XG4gICAgc2VuZF9jb250YWN0OiBmdW5jdGlvbiAobmFtZSwgZW1haWwsIHN1YmplY3QsIG1lc3NhZ2UpIHtcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoYmFzZVVSTCArIG5hbWUgKyBcIi9cIiArIGVtYWlsICsgXCIvXCIgKyBzdWJqZWN0ICsgXCIvXCIgKyBtZXNzYWdlLCB7IHBhcmFtczogeyB9IH0pO1xuICAgIH1cblxuICB9O1xufV0pO1xuIiwicG1iX2ltLnNlcnZpY2VzLmZhY3RvcnkoJ0NvbnRhaW5lclNlcnZpY2UnLCBbJyRodHRwJywgJ2xlYWZsZXREYXRhJywnQ29uZmlnU2VydmljZScsIGZ1bmN0aW9uKCRodHRwLCBsZWFmbGV0RGF0YSwgQ29uZmlnU2VydmljZSkge1xuXG4gIHZhciBiYXNlVVJMID0gQ29uZmlnU2VydmljZS5iYXNlVVJMICsgXCIvcmVwb3J0L2FqYXgvXCI7XG5cblxuICAvKipcbiAgICogQ29uc3RydWN0b3IsIHdpdGggY2xhc3MgbmFtZVxuICAgKi9cbiAgZnVuY3Rpb24gQ29udGFpbmVyKF9kYXRhKSB7XG4gICAgYW5ndWxhci5leHRlbmQodGhpcywgX2RhdGEpO1xuICB9XG5cbiAgQ29udGFpbmVyLmdldEJ5SWQgPSBmdW5jdGlvbihpZCl7XG4gICAgdmFyIHVybCA9IGJhc2VVUkwgKyBpZDtcbiAgICByZXR1cm4gJGh0dHAuZ2V0KHVybCkudGhlbihmdW5jdGlvbihyZXN1bHQpe1xuICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0pO1xuICB9XG5cblxuICBDb250YWluZXIuX2RlZmF1bHQgPSBmdW5jdGlvbigpe1xuICAgIHZhciBfZGF0YSA9IHtcbiAgICAgIGxhdDogMCxcbiAgICAgIGxvbjogMCxcbiAgICAgIHRpdGxlOiBudWxsLFxuICAgICAgZGV0YWlsOiBudWxsLFxuICAgICAgbWF5X3Nob3dfbmFtZTogMSxcbiAgICAgIGNhdGVnb3J5OiBudWxsLFxuICAgICAgcGhvbmU6IG51bGwsXG4gICAgICBwYzogJycsXG4gICAgICBmaWxlOiBudWxsLFxuICAgICAgbmFtZTogbnVsbCxcbiAgICAgIGVtYWlsOiBudWxsLFxuICAgICAgc3VibWl0X3NpZ25faW46IDEsXG4gICAgICBwYXNzd29yZF9zaWduX2luOiBudWxsLFxuICAgICAgcmVtZW1iZXJfbWU6MVxuICAgIH07XG4gICAgcmV0dXJuIG5ldyBDb250YWluZXIoX2RhdGEpO1xuICB9O1xuXG4gICAgQ29udGFpbmVyLl9hbGwgPSBbXTtcbiAgICBDb250YWluZXIuY3VycmVudCA9IHt9O1xuICAgIENvbnRhaW5lci5fbmV3ID0gZnVuY3Rpb24oKXtcbiAgICAgIC8qUmVwb3J0LmN1cnJlbnQgPSBSZXBvcnQuX2RlZmF1bHQoKTtcbiAgICAgIHJldHVybiBSZXBvcnQuY3VycmVudDsqL1xuICAgICAgcmV0dXJuIENvbnRhaW5lci5fZGVmYXVsdCgpO1xuICAgIH07XG5cblxuXG4gICAgLyoqXG4gICAgICogU3RhdGljIG1ldGhvZCwgYXNzaWduZWQgdG8gY2xhc3NcbiAgICAgKiBJbnN0YW5jZSAoJ3RoaXMnKSBpcyBub3QgYXZhaWxhYmxlIGluIHN0YXRpYyBjb250ZXh0XG4gICAgICovXG4gICAgQ29udGFpbmVyLmJ1aWxkID0gZnVuY3Rpb24oX2RhdGEpIHtcbiAgICAgIHJldHVybiBuZXcgQ29udGFpbmVyKF9kYXRhKTtcbiAgICB9O1xuXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5zZXRMYXRMbmcgPSBmdW5jdGlvbiAobGF0LGxuZykge1xuICAgICAgdGhpcy5sYXQgPSBsYXQ7XG4gICAgICB0aGlzLmxvbiA9IGxuZztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBjb25zdHJ1Y3RvciBmdW5jdGlvblxuICAgICAqL1xuICAgIHJldHVybiBDb250YWluZXI7XG5cbn1dKTtcbiIsInBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdEQlNlcnZpY2UnLCBbJyRxJywgZnVuY3Rpb24oJHEpIHtcbiAgIHZhciBfZGI7XG5cbiAgIHJldHVybiB7XG4gICAgICAgaW5pdERCOiBpbml0REIsXG4gICAgICAgc2F2ZVVzZXI6IHNhdmVVc2VyLFxuICAgICAgIGdldFVzZXI6IGdldFVzZXIsXG4gICAgICAgZXJhc2VVc2VyOiBlcmFzZVVzZXIsXG4gICAgICAgc2F2ZVJlcG9ydDogc2F2ZVJlcG9ydCxcbiAgICAgICBnZXRSZXBvcnQ6IGdldFJlcG9ydCxcbiAgICAgICBnZXRBbGxSZXBvcnRzOiBnZXRBbGxSZXBvcnRzLFxuICAgICAgIHVwZGF0ZVJlcG9ydDogdXBkYXRlUmVwb3J0LFxuICAgICAgIGRlbGV0ZVJlcG9ydDogZGVsZXRlUmVwb3J0LFxuICAgICAgIGRlbGV0ZUdpdmVuUmVwb3J0OiBkZWxldGVHaXZlblJlcG9ydCxcbiAgICAgICBnZXRDYXRlZ29yaWVzOiBnZXRDYXRlZ29yaWVzLFxuICAgICAgIHNhdmVDYXRlZ29yaWVzOiBzYXZlQ2F0ZWdvcmllcyxcbiAgICAgICBnZXREb25lV2Fsa3Rocm91Z2g6IGdldERvbmVXYWxrdGhyb3VnaCxcbiAgICAgICBzYXZlRG9uZVdhbGt0aHJvdWdoOiBzYXZlRG9uZVdhbGt0aHJvdWdoXG4gICB9O1xuXG4gICBmdW5jdGlvbiBzYXZlVXNlcih1c2VyX25hbWUsIHVzZXJfZW1haWwsIHVzZXJfcGFzc3dvcmQsIHVzZXJfaWRfZG9jLCB1c2VyX3Bob25lLCB1c2VyX3BpY3R1cmVfdXJsKSB7XG4gICAgICAgICB2YXIgdXNlciA9IHtcbiAgICAgICAgICAgIF9pZDogJ3VzZXItbG9nZ2VkJyxcbiAgICAgICAgICAgIG5hbWU6IHVzZXJfbmFtZSxcbiAgICAgICAgICAgIGVtYWlsOiB1c2VyX2VtYWlsLFxuICAgICAgICAgICAgcGFzc3dvcmQ6IHVzZXJfcGFzc3dvcmQsXG4gICAgICAgICAgICBpZGVudGl0eV9kb2N1bWVudDogdXNlcl9pZF9kb2MsXG4gICAgICAgICAgICBwaG9uZTogdXNlcl9waG9uZSxcbiAgICAgICAgICAgIHBpY3R1cmVfdXJsOiB1c2VyX3BpY3R1cmVfdXJsXG4gICAgICAgICB9O1xuICAgICAgICAgZ2V0VXNlcigpLnRoZW4oZnVuY3Rpb24gKGRvYykge1xuICAgICAgICAgICB1c2VyLl9yZXYgPSBkb2MuX3JldjtcbiAgICAgICAgICAgcmV0dXJuIF9kYi5wdXQodXNlcik7XG4gICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgIHJldHVybiBfZGIucHV0KHVzZXIpO1xuICAgICAgICAgfSlcbiAgIH07XG5cbiAgIGZ1bmN0aW9uIHNhdmVEb25lV2Fsa3Rocm91Z2goKSB7XG4gICAgICB2YXIgZG9uZVdhbGt0aHJvdWdoID0ge1xuICAgICAgICAgX2lkOiAnZG9uZS13YWxrdGhyb3VnaCcsXG4gICAgICAgICBzdGF0dXM6ICdkb25lJ1xuICAgICAgfTtcbiAgICAgIHJldHVybiBfZGIucHV0KGRvbmVXYWxrdGhyb3VnaCk7XG4gICAgfTtcblxuICBmdW5jdGlvbiBnZXREb25lV2Fsa3Rocm91Z2goKSB7XG4gICByZXR1cm4gX2RiLmdldCgnZG9uZS13YWxrdGhyb3VnaCcpO1xuICB9O1xuXG4gIGZ1bmN0aW9uIGdldFVzZXIoKSB7XG4gICAgIHJldHVybiBfZGIuZ2V0KCd1c2VyLWxvZ2dlZCcpO1xuICB9O1xuXG4gIGZ1bmN0aW9uIGVyYXNlVXNlcigpIHtcbiAgICBfZGIuZ2V0KCd1c2VyLWxvZ2dlZCcpLnRoZW4oZnVuY3Rpb24oZG9jKSB7XG4gICAgICByZXR1cm4gX2RiLnJlbW92ZShkb2MpO1xuICAgIH0pO1xuICB9XG5cbiAgIGZ1bmN0aW9uIGluaXREQigpIHtcbiAgICAgICAvLyBDcmVhdGVzIHRoZSBkYXRhYmFzZSBvciBvcGVucyBpZiBpdCBhbHJlYWR5IGV4aXN0c1xuICAgICAgIF9kYiA9IG5ldyBQb3VjaERCKCdwbWJfbG9jYWxfZGInKTtcbiAgICAgICByZXR1cm4gX2RiO1xuICAgfTtcblxuICAgZnVuY3Rpb24gc2F2ZVJlcG9ydChyZXBvcnQpIHtcbiAgICAgIC8vbmV3X3JlcG9ydF9pZCA9IFwicmVwb3J0X1wiICsgcG91Y2hDb2xsYXRlLnRvSW5kZXhhYmxlU3RyaW5nKFtyZXBvcnRdKTtcbiAgICAgIHZhciBkYXRlID0gbmV3IERhdGUoKTtcbiAgICAgIHZhciBuZXdfcmVwb3J0X2lkID0gXCJyZXBvcnRfXCIgKyBkYXRlLmdldEZ1bGxZZWFyKCkgKyAoZGF0ZS5nZXRNb250aCgpICsgMSkgKyBkYXRlLmdldERhdGUoKSArIGRhdGUuZ2V0TWlsbGlzZWNvbmRzKCk7XG4gICAgICByZXBvcnQuX2lkID0gbmV3X3JlcG9ydF9pZDtcbiAgICAgIHJldHVybiBfZGIucHV0KHJlcG9ydCk7XG4gICB9O1xuXG4gICBmdW5jdGlvbiB1cGRhdGVSZXBvcnQocmVwb3J0KSB7XG4gICAgIHJldHVybiBfZGIucHV0KHJlcG9ydCk7XG4gIH07XG5cbiAgIGZ1bmN0aW9uIGdldENhdGVnb3JpZXMoKSB7XG4gICAgIHJldHVybiBfZGIuZ2V0KCdjYXRlZ29yaWVzLWxpc3QnKTtcbiAgIH07XG5cbiAgIGZ1bmN0aW9uIHNhdmVDYXRlZ29yaWVzKGNhdGVnb3JpZXMpIHtcbiAgICAgZ2V0Q2F0ZWdvcmllcygpLnRoZW4oZnVuY3Rpb24gKGRvYykge1xuICAgICAgIGNhdGVnb3JpZXMuX3JldiA9IGRvYy5fcmV2O1xuICAgICAgIHJldHVybiBfZGIucHV0KGNhdGVnb3JpZXMpO1xuICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgY2F0ZWdvcmllcy5faWQgPSBcImNhdGVnb3JpZXMtbGlzdFwiO1xuICAgICAgIHJldHVybiBfZGIucHV0KGNhdGVnb3JpZXMpO1xuICAgICB9KVxuICAgfTtcblxuICBmdW5jdGlvbiBnZXRSZXBvcnQocmVwb3J0SWQpIHtcbiAgICAgcmV0dXJuIF9kYi5nZXQocmVwb3J0SWQpO1xuICB9O1xuXG4gICBmdW5jdGlvbiBnZXRBbGxSZXBvcnRzKCkge1xuICAgICByZXR1cm4gX2RiLmFsbERvY3Moe1xuICAgICAgaW5jbHVkZV9kb2NzOiB0cnVlLFxuICAgICAgYXR0YWNobWVudHM6IGZhbHNlLFxuICAgICAgc3RhcnRrZXk6ICdyZXBvcnRfJyxcbiAgICAgIGVuZGtleTogJ3JlcG9ydF9cXHVmZmZmJ1xuICAgICB9KTsvKi50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgIC8vIGhhbmRsZSByZXN1bHRcbiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgIH0pOyovXG4gIH07XG5cbiAgZnVuY3Rpb24gZGVsZXRlUmVwb3J0KHJlcG9ydF9pZCkge1xuICAgIF9kYi5nZXQocmVwb3J0X2lkKS50aGVuKGZ1bmN0aW9uKGRvYykge1xuICAgICAgcmV0dXJuIF9kYi5yZW1vdmUoZG9jKTtcbiAgICB9KTtcbiAgfTtcblxuICBmdW5jdGlvbiBkZWxldGVHaXZlblJlcG9ydChyZXBvcnQpIHtcbiAgICByZXR1cm4gX2RiLnJlbW92ZShyZXBvcnQpO1xuICB9O1xuXG59XSk7XG4iLCJwbWJfaW0uc2VydmljZXMuZmFjdG9yeSgnRXJyb3JTZXJ2aWNlJywgWyckaHR0cCcsJyRpb25pY1BvcHVwJywgJ1ZhbGlkYXRpb25TZXJ2aWNlJywgZnVuY3Rpb24oJGh0dHAsJGlvbmljUG9wdXAsVmFsaWRhdGlvblNlcnZpY2UpIHtcblxuICByZXR1cm4ge1xuICAgIGh0dHBfcmVzcG9uc2VfaXNfc3VjY2Vzc2Z1bDogZnVuY3Rpb24gKGpzb25SZXN1bHQsIGVycm9yQ29udGFpbmVySWQpIHtcbiAgICAgIHZhciBlcnJvckRpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVycm9yQ29udGFpbmVySWQpO1xuICAgICAgaWYoanNvblJlc3VsdC5kYXRhLnJlc3VsdD09MCl7XG4gICAgICAgIGVycm9yRGl2LmlubmVySFRNTD1cIjxoMz5cIiArIGpzb25SZXN1bHQuZGF0YS5tZXNzYWdlICsgXCI8L2gzPlwiO1xuICAgICAgICBlcnJvckRpdi5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgZXJyb3JEaXYuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgaHR0cF9yZXNwb25zZV9pc19zdWNjZXNzZnVsX2FqYXg6IGZ1bmN0aW9uIChqc29uUmVzdWx0KSB7XG4gICAgICBpZihqc29uUmVzdWx0LmRhdGEucmVzdWx0PT0wKXtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfWVsc2V7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBodHRwX3Jlc3BvbnNlX2lzX3N1Y2Nlc3NmdWxfcG9wdXA6IGZ1bmN0aW9uIChqc29uUmVzdWx0KSB7XG4gICAgICBpZihqc29uUmVzdWx0LmRhdGEucmVzdWx0PT0wKXtcbiAgICAgICAgdmFyIGFsZXJ0UG9wdXAgPSAkaW9uaWNQb3B1cC5hbGVydCh7XG4gICAgICAgICB0aXRsZTogXCJFcnJvclwiLFxuICAgICAgICAgdGVtcGxhdGU6IGpzb25SZXN1bHQuZGF0YS5tZXNzYWdlXG4gICAgICAgIH0pO1xuICAgICAgICBhbGVydFBvcHVwLnRoZW4oZnVuY3Rpb24ocmVzKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfWVsc2V7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBodHRwX2RhdGFfcmVzcG9uc2VfaXNfc3VjY2Vzc2Z1bDogZnVuY3Rpb24gKGRhdGEsIGVycm9yQ29udGFpbmVySWQpIHtcbiAgICAgIHZhciBlcnJvckRpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVycm9yQ29udGFpbmVySWQpO1xuICAgICAgaWYoZGF0YS5yZXN1bHQ9PTApe1xuICAgICAgICBlcnJvckRpdi5pbm5lckhUTUw9XCI8aDM+XCIgKyBkYXRhLm1lc3NhZ2UgKyBcIjwvaDM+XCI7XG4gICAgICAgIGVycm9yRGl2LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1lbHNle1xuICAgICAgICBlcnJvckRpdi5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBodHRwX2RhdGFfcmVzcG9uc2VfaXNfc3VjY2Vzc2Z1bF9hamF4OiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgaWYoZGF0YS5yZXN1bHQ9PTApe1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfSxcblxuICAgIHNob3dfZXJyb3JfbWVzc2FnZTogZnVuY3Rpb24gKGVycm9yQ29udGFpbmVySWQsIG1lc3NhZ2UpIHtcbiAgICAgICAgdmFyIGVycm9yRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZXJyb3JDb250YWluZXJJZCk7XG4gICAgICAgIGVycm9yRGl2LmlubmVySFRNTD1cIjxoMz5cIiArIG1lc3NhZ2UgKyBcIjwvaDM+XCI7XG4gICAgICAgIGVycm9yRGl2LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuXG4gICAgc2hvd19lcnJvcl9tZXNzYWdlX3BvcHVwOiBmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgICAgICB2YXIgYWxlcnRQb3B1cCA9ICRpb25pY1BvcHVwLmFsZXJ0KHtcbiAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICB0ZW1wbGF0ZTogbWVzc2FnZVxuICAgICAgICB9KTtcbiAgICAgICAgYWxlcnRQb3B1cC50aGVuKGZ1bmN0aW9uKHJlcykge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuXG4gICAgY2hlY2tfZmllbGRzOiBmdW5jdGlvbiAoZmllbGRzLCBlcnJvckNvbnRhaW5lcklkKSB7XG4gICAgICB2YXIgZXJyb3JzID0gXCJcIjtcbiAgICAgIGZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uKGZpZWxkKSB7XG4gICAgICAgIGlmKGZpZWxkLnR5cGU9PVwibm90TnVsbFwiKXtcbiAgICAgICAgICBpZighVmFsaWRhdGlvblNlcnZpY2UudmFsaWRhdGVfbm90X2VtcHR5KGZpZWxkLnZhbHVlKSl7XG4gICAgICAgICAgICBlcnJvcnMgPSBlcnJvcnMgKyAnPGgzPi0gRWwgY2FtcG8gXCInICsgZmllbGQubmFtZSArICdcIiBubyBwdWVkZSBlc3RhciB2YWPDrW8uPC9oMz4nO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZihmaWVsZC50eXBlPT1cImVtYWlsXCIpe1xuICAgICAgICAgIGlmKCFWYWxpZGF0aW9uU2VydmljZS52YWxpZGF0ZV9lbWFpbChmaWVsZC52YWx1ZSkpe1xuICAgICAgICAgICAgZXJyb3JzID0gZXJyb3JzICsgJzxoMz4tIEVsIGNhbXBvIFwiJyArIGZpZWxkLm5hbWUgKyAnXCIgbm8gZXMgdW5hIGRpcmVjY2nDs24gZGUgY29ycmVvIHbDoWxpZGEuPC9oMz4nO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZihmaWVsZC50eXBlPT1cImlkZG9jX3V5XCIpe1xuICAgICAgICAgIGlmKCFWYWxpZGF0aW9uU2VydmljZS52YWxpZGF0ZV9pZGRvY191eShmaWVsZC52YWx1ZSkpe1xuICAgICAgICAgICAgZXJyb3JzID0gZXJyb3JzICsgJzxoMz4tIEVsIGNhbXBvIFwiJyArIGZpZWxkLm5hbWUgKyAnXCIgbm8gZXMgdW5hIGPDqWR1bGEgdXJ1Z3VheWEgdsOhbGlkYS48L2gzPic7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmKGZpZWxkLnR5cGU9PVwidHdvX3dvcmRzXCIpe1xuICAgICAgICAgIGlmKCFWYWxpZGF0aW9uU2VydmljZS52YWxpZGF0ZV90d29fd29yZHMoZmllbGQudmFsdWUpKXtcbiAgICAgICAgICAgIGVycm9ycyA9IGVycm9ycyArICc8aDM+LSBFbCBjYW1wbyBcIicgKyBmaWVsZC5uYW1lICsgJ1wiIGRlYmUgY29udGVuZXIgYWwgbWVub3MgZG9zIHBhbGFicmFzLjwvaDM+JztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYoZXJyb3JzID09XCJcIil7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfWVsc2V7XG4gICAgICAgIHZhciBlcnJvckRpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVycm9yQ29udGFpbmVySWQpO1xuICAgICAgICBlcnJvckRpdi5pbm5lckhUTUw9IGVycm9ycztcbiAgICAgICAgZXJyb3JEaXYuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBjaGVja19maWVsZDogZnVuY3Rpb24gKGZpZWxkLCB0eXBlLCBsYWJlbCkge1xuICAgICAgICB2YXIgb2sgPSB0cnVlO1xuICAgICAgICBpZih0eXBlPT1cIm5vdE51bGxcIil7XG4gICAgICAgICAgaWYoIVZhbGlkYXRpb25TZXJ2aWNlLnZhbGlkYXRlX25vdF9lbXB0eShmaWVsZC52YWx1ZSkpe1xuICAgICAgICAgICAgb2sgPSBmYWxzZTtcbiAgICAgICAgICAgIGxhYmVsLmlubmVySFRNTD1cIkRlYmVzIGNvbXBsZXRhcjxici8+ZWwgY2FtcG8gXCIrZmllbGQubmFtZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYodHlwZT09XCJlbWFpbFwiKXtcbiAgICAgICAgICBpZighVmFsaWRhdGlvblNlcnZpY2UudmFsaWRhdGVfZW1haWwoZmllbGQudmFsdWUpKXtcbiAgICAgICAgICAgIG9rID0gZmFsc2U7XG4gICAgICAgICAgICBsYWJlbC5pbm5lckhUTUw9XCJFbCBjYW1wbyBcIitmaWVsZC5uYW1lK1wiPGJyLz5ubyBlcyB1biBlbWFpbCB2w6FsaWRvXCI7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmKHR5cGU9PVwiaWRkb2NfdXlcIil7XG4gICAgICAgICAgaWYoIVZhbGlkYXRpb25TZXJ2aWNlLnZhbGlkYXRlX2lkZG9jX3V5KGZpZWxkLnZhbHVlKSl7XG4gICAgICAgICAgICBvayA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZih0eXBlPT1cInR3b193b3Jkc1wiKXtcbiAgICAgICAgICBpZighVmFsaWRhdGlvblNlcnZpY2UudmFsaWRhdGVfdHdvX3dvcmRzKGZpZWxkLnZhbHVlKSl7XG4gICAgICAgICAgICBvayA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZih0eXBlPT1cInRleHRhcmVhXCIpe1xuICAgICAgICAgIGlmKCFWYWxpZGF0aW9uU2VydmljZS52YWxpZGF0ZV9ub3RfZW1wdHkoZmllbGQuaW5uZXJIVE1MKSl7XG4gICAgICAgICAgICBvayA9IGZhbHNlO1xuICAgICAgICAgICAgbGFiZWwuaW5uZXJIVE1MPVwiRGViZXMgY29tcGxldGFyPGJyLz5lbCBjYW1wbyBcIitmaWVsZC5uYW1lO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZih0eXBlPT1cInNlbGVjdFwiKXtcbiAgICAgICAgICBpZighVmFsaWRhdGlvblNlcnZpY2UudmFsaWRhdGVfbm90X21pbnVzb25lKGZpZWxkW2ZpZWxkLnNlbGVjdGVkSW5kZXhdLnZhbHVlKSl7XG4gICAgICAgICAgICBvayA9IGZhbHNlO1xuICAgICAgICAgICAgbGFiZWwuaW5uZXJIVE1MPVwiRGViZXMgZWxlZ2lyIHZhbG9yPGJyLz5wYXJhIGVsIGNhbXBvIFwiK2ZpZWxkLm5hbWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmKCFvayl7XG4gICAgICAgICAgZmllbGQuc3R5bGUuYm9yZGVyQ29sb3IgPSBcInJlZFwiO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICBmaWVsZC5zdHlsZS5ib3JkZXJDb2xvciA9IFwiIzk3OTc5N1wiO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvaztcbiAgICB9XG5cblxuICB9O1xufV0pO1xuIiwicG1iX2ltLnNlcnZpY2VzLmZhY3RvcnkoJ0ZhcVNlcnZpY2UnLCBbJyRodHRwJywgJ0NvbmZpZ1NlcnZpY2UnLCBmdW5jdGlvbigkaHR0cCwgQ29uZmlnU2VydmljZSkge1xuXG4gIHZhciBiYXNlVVJMID0gQ29uZmlnU2VydmljZS5iYXNlVVJMICsgXCIvZmFxXCI7XG5cbiAgcmV0dXJuIHtcbiAgICBhbGw6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoYmFzZVVSTCwgeyBwYXJhbXM6IHsgYWpheDogXCIxXCIgfSB9KTtcbiAgICB9XG4gIH07XG59XSk7XG4iLCJwbWJfaW0uc2VydmljZXMuZmFjdG9yeSgnTG9hZGVyJywgWyckaW9uaWNMb2FkaW5nJywgJyR0aW1lb3V0JywnJGlvbmljUG9wdXAnLGZ1bmN0aW9uKCRpb25pY0xvYWRpbmcsJHRpbWVvdXQsJGlvbmljUG9wdXApIHtcblxuICB2YXIgTE9BREVSQVBJID0ge1xuXG4gICAgc2hvd0xvYWRpbmc6IGZ1bmN0aW9uKHRleHQpIHtcbiAgICAgIHRleHQgPSB0ZXh0IHx8ICdMb2FkaW5nLi4uJztcbiAgICAgICRpb25pY0xvYWRpbmcuc2hvdyh7XG4gICAgICAgIHRlbXBsYXRlOiB0ZXh0XG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgaGlkZUxvYWRpbmc6IGZ1bmN0aW9uKCkge1xuICAgICAgJGlvbmljTG9hZGluZy5oaWRlKCk7XG4gICAgfSxcblxuICAgIHRvZ2dsZUxvYWRpbmdXaXRoTWVzc2FnZTogZnVuY3Rpb24odGV4dCwgdGltZW91dCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICBzZWxmLnNob3dMb2FkaW5nKHRleHQpO1xuXG4gICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgc2VsZi5oaWRlTG9hZGluZygpO1xuICAgICAgfSwgdGltZW91dCB8fCAzMDAwKTtcbiAgICB9LFxuXG4gICAgY29uZmlybVBvcHVwOmZ1bmN0aW9uKHRpdGxlLHRleHQpe1xuICAgICAgdmFyIGNvbmZpcm1Qb3B1cCA9ICRpb25pY1BvcHVwLmNvbmZpcm0oe1xuICAgICB0aXRsZTogdGl0bGUsXG4gICAgIHRlbXBsYXRlOiB0ZXh0XG4gICB9KTtcbiAgIHJldHVybiBjb25maXJtUG9wdXA7XG4gfSxcblxuXG4gICAgc2hvd0FsZXJ0OmZ1bmN0aW9uKF90aXRsZSxfdGVtcGxhdGUpIHtcbiAgICAgIHZhciBhbGVydFBvcHVwID0gJGlvbmljUG9wdXAuYWxlcnQoe1xuICAgICAgICB0aXRsZTogX3RpdGxlLFxuICAgICAgICB0ZW1wbGF0ZTogX3RlbXBsYXRlXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBhbGVydFBvcHVwO1xuIH1cblxuICB9O1xuICByZXR1cm4gTE9BREVSQVBJO1xufV0pO1xuIiwicG1iX2ltLnNlcnZpY2VzLmZhY3RvcnkoJ0xvY2F0aW9uc1NlcnZpY2UnLCBbIGZ1bmN0aW9uKCkge1xuXG4gIHZhciBsb2NhdGlvbnNPYmogPSB7fTtcbiAgbG9jYXRpb25zT2JqLmluaXRpYWxfbGF0ID0gXCJcIjtcbiAgbG9jYXRpb25zT2JqLmluaXRpYWxfbG5nID0gXCJcIjtcbiAgbG9jYXRpb25zT2JqLm5ld19yZXBvcnRfbGF0ID0gXCJcIjtcbiAgbG9jYXRpb25zT2JqLm5ld19yZXBvcnRfbG5nID0gXCJcIjtcblxuICBsb2NhdGlvbnNPYmouc2F2ZV9pbml0aWFsX3Bvc2l0aW9uID0gZnVuY3Rpb24ocG9zaXRpb24pIHtcbiAgICBsb2NhdGlvbnNPYmouaW5pdGlhbF9sYXQgPSAgcG9zaXRpb24uY29vcmRzLmxhdGl0dWRlO1xuICAgIGxvY2F0aW9uc09iai5pbml0aWFsX2xuZyA9ICBwb3NpdGlvbi5jb29yZHMubG9uZ2l0dWRlO1xuICB9XG5cbiAgbG9jYXRpb25zT2JqLnNhdmVfbmV3X3JlcG9ydF9wb3NpdGlvbiA9IGZ1bmN0aW9uKGxhdCxsbmcpe1xuICAgIGxvY2F0aW9uc09iai5uZXdfcmVwb3J0X2xhdCA9IGxhdDtcbiAgICBsb2NhdGlvbnNPYmoubmV3X3JlcG9ydF9sbmcgPSBsbmc7XG4gIH1cblxuICBsb2NhdGlvbnNPYmouc2F2ZWRMb2NhdGlvbnMgPSBbXTtcblxuICByZXR1cm4gbG9jYXRpb25zT2JqO1xuXG59XSk7XG4iLCIgLy9wbWJfaW0uc2VydmljZXMuZmFjdG9yeSgnTWFwU2VydmljZScsIFsgZnVuY3Rpb24oKSB7XG4gcG1iX2ltLnNlcnZpY2VzLmZhY3RvcnkoJ01hcFNlcnZpY2UnLCBbJ2xlYWZsZXREYXRhJywgJyRjb21waWxlJywgZnVuY3Rpb24obGVhZmxldERhdGEsICRjb21waWxlKSB7XG5cbiAgIC8vRGVmaW5pY2lvbiBkZSBsYSBwcm95ZWNjY2lvbiBVVE0gMjEgc1xuICAgcHJvajQuZGVmcygnRVBTRzozMjcyMScsICcrcHJvaj11dG0gK3pvbmU9MjEgK3NvdXRoICtlbGxwcz1XR1M4NCArZGF0dW09V0dTODQgK3VuaXRzPW0gK25vX2RlZnMnKTtcblxuXG4gICB2YXIgbWFwU2VydmljZSA9IHt9O1xuXG4gICBtYXBTZXJ2aWNlLmdvVG9QbGFjZSA9IGZ1bmN0aW9uKF9wbGFjZSxzY29wZSkge1xuXG4gICAgIHZhciBfZ2VvSnNvbiA9IHtcbiAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICBub21icmU6IF9wbGFjZS5ub21icmVcbiAgICAgICB9LFxuICAgICAgIGNyczoge1xuICAgICAgICAgdHlwZTogJ25hbWUnLFxuICAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgICBuYW1lOiAndXJuOm9nYzpkZWY6Y3JzOkVQU0c6OjMyNzIxJ1xuICAgICAgICAgfVxuICAgICAgIH1cbiAgICAgfTtcbiAgICAgX2dlb0pzb24gPSBhbmd1bGFyLmV4dGVuZChfZ2VvSnNvbiwgX3BsYWNlLmdlb20pO1xuICAgICAvL2FsZXJ0KEpTT04uc3RyaW5naWZ5KF9wbGFjZS5nZW9tKSk7XG4gICAgIGxlYWZsZXREYXRhLmdldE1hcCgpLnRoZW4oZnVuY3Rpb24obWFwKSB7XG4gICAgICAgdmFyIF9sYXRsbmc7XG4gICAgICAgdmFyIGxheWVyID0gTC5Qcm9qLmdlb0pzb24oX2dlb0pzb24sIHtcbiAgICAgICAgICdwb2ludFRvTGF5ZXInOiBmdW5jdGlvbihmZWF0dXJlLCBsYXRsbmcpIHtcbiAgICAgICAgICAgX2xhdGxuZyA9IGxhdGxuZztcbiAgICAgICAgICAgcmV0dXJuIEwubWFya2VyKGxhdGxuZyk7XG4gICAgICAgICB9XG4gICAgICAgfSk7XG4gICAgICAgLypsYXllci5hZGRUbyhtYXApOyovXG4gICAgICAgLy8gY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkobGF5ZXIpKTtcblxuICAgICAgIG1hcC5zZXRWaWV3KF9sYXRsbmcsIDE4KTtcbiAgICAgICAvL2xheWVyLm9wZW5Qb3B1cCgpO1xuICAgICB9KTtcbiAgIH07XG5cbiAgIG1hcFNlcnZpY2UuY2VudGVyTWFwT25Db29yZHMgPSBmdW5jdGlvbihsYXQsbG5nLHpvb20pIHtcbiAgICAgbGVhZmxldERhdGEuZ2V0TWFwKCkudGhlbihmdW5jdGlvbihtYXApIHtcbiAgICAgICAgbWFwLnNldFZpZXcobmV3IEwuTGF0TG5nKGxhdCwgbG5nKSx6b29tKTtcbiAgICAgICB9KTtcbiAgICAgfVxuXG4gICByZXR1cm4gbWFwU2VydmljZTtcblxuIH1dKTtcbiIsInBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdOZXdzU2VydmljZScsIFsnJGh0dHAnLCAnQ29uZmlnU2VydmljZScsIGZ1bmN0aW9uKCRodHRwLCBDb25maWdTZXJ2aWNlKSB7XG5cbiAgdmFyIGJhc2VVUkwgPSBDb25maWdTZXJ2aWNlLmJhc2VVUkwgKyBcIi9kYXRhdXkvbmV3c1wiO1xuXG4gIHJldHVybiB7XG4gICAgYWxsOiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KGJhc2VVUkwsIHsgcGFyYW1zOiB7fX0pXG4gICAgfVxuICB9O1xufV0pO1xuIiwicG1iX2ltLnNlcnZpY2VzLmZhY3RvcnkoJ1BNQlNlcnZpY2UnLCBbJyRodHRwJywgJ2xlYWZsZXREYXRhJywgJyRjb3Jkb3ZhRmlsZVRyYW5zZmVyJywgJ0NvbmZpZ1NlcnZpY2UnLCBmdW5jdGlvbigkaHR0cCwgbGVhZmxldERhdGEsICRjb3Jkb3ZhRmlsZVRyYW5zZmVyLENvbmZpZ1NlcnZpY2UpIHtcblxuICB2YXIgYmFzZSA9IENvbmZpZ1NlcnZpY2UuYmFzZVVSTDtcblxuICB2YXIgUE1CU2VydmljZSA9IHtcblxuICAgIHJlcG9ydDogZnVuY3Rpb24oZm9ybSkge1xuICAgICAgaWYgKGZvcm0uZmlsZSkge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgICAgIGZpbGVLZXk6IFwicGhvdG9cIixcbiAgICAgICAgIGZpbGVOYW1lOiBcImltYWdlLmpwZWdcIixcbiAgICAgICAgIGNodW5rZWRNb2RlOiBmYWxzZSxcbiAgICAgICAgIG1pbWVUeXBlOiBcImltYWdlL2pwZWdcIixcbiAgICAgICAgIHBhcmFtcyA6IGZvcm1cbiAgICAgICAgfTtcbiAgICAgICAgb3B0aW9ucy5oZWFkZXJzID0ge1xuICAgICAgICAgIENvbm5lY3Rpb246IFwiQ2xvc2VcIlxuICAgICAgICB9O1xuICAgICAgICB2YXIgdHJ1c3RBbGxIb3N0cyA9IHRydWU7XG4gICAgICAgIHJldHVybiAkY29yZG92YUZpbGVUcmFuc2Zlci51cGxvYWQoYmFzZSArICcvcmVwb3J0L25ldy9tb2JpbGUnLCBmb3JtLmZpbGUsIG9wdGlvbnMsIHRydXN0QWxsSG9zdHMpO1xuICAgICAgfWVsc2V7XG4gICAgICAgIHJldHVybiAkaHR0cC5nZXQoYmFzZSArICcvcmVwb3J0L25ldy9tb2JpbGUnLCB7IHBhcmFtczogZm9ybSB9KTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgc3Vic2NyaWJlOiBmdW5jdGlvbiAoZW1haWwscmVwb3J0X2lkKSB7XG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KGJhc2UgKyBcIi9hbGVydC9zdWJzY3JpYmVfYWpheFwiLCB7IHBhcmFtczogeyByem52eTogZW1haWwsIGlkOiByZXBvcnRfaWQsIHR5cGU6IFwidXBkYXRlc1wiIH0gfSk7XG4gICAgfSxcblxuICAgIGFidXNlOiBmdW5jdGlvbiAoZW1haWwscmVwb3J0X2lkLCBuYW1lLCBzdWJqZWN0LCBtZXNzYWdlKSB7XG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KGJhc2UgKyBcIi9jb250YWN0L3N1Ym1pdF9hamF4XCIsIHsgcGFyYW1zOiB7IGVtOiBlbWFpbCwgaWQ6IHJlcG9ydF9pZCwgbmFtZTogbmFtZSwgc3ViamVjdDogc3ViamVjdCwgbWVzc2FnZTogbWVzc2FnZSB9IH0pO1xuICAgIH0sXG5cbiAgICBoaWRlOiBmdW5jdGlvbiAocmVwb3J0X2lkKSB7XG4gICAgICB2YXIgZGVsZXRlVVJMID0gXCIvcmVwb3J0L2RlbGV0ZV9hamF4L1wiICsgcmVwb3J0X2lkO1xuICAgICAgcmV0dXJuICRodHRwLmdldChiYXNlICsgZGVsZXRlVVJMLCB7IHBhcmFtczoge30gfSk7XG4gICAgfSxcblxuICAgIGNvbW1lbnQ6IGZ1bmN0aW9uIChyZXBvcnRfaWQsbWVzc2FnZSxuYW1lLGVtYWlsLG1heV9zaG93X25hbWUsYWRkX2FsZXJ0LGZpeGVkKSB7XG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KGJhc2UgKyBcIi9yZXBvcnQvdXBkYXRlX2FqYXhcIixcbiAgICAgIHsgcGFyYW1zOlxuICAgICAgICB7XG4gICAgICAgICAgc3VibWl0X3VwZGF0ZTogMSxcbiAgICAgICAgICBpZDogcmVwb3J0X2lkLFxuICAgICAgICAgIG1heV9zaG93X25hbWU6IG1heV9zaG93X25hbWUsXG4gICAgICAgICAgYWRkX2FsZXJ0OiBhZGRfYWxlcnQsXG4gICAgICAgICAgZml4ZWQ6IGZpeGVkLFxuICAgICAgICAgIHVwZGF0ZTogbWVzc2FnZSxcbiAgICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICAgIGZvcm1fcnpudnk6IGVtYWlsXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgfTtcbiAgcmV0dXJuIFBNQlNlcnZpY2U7XG5cbn1dKTtcbiIsInBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdQb3BVcFNlcnZpY2UnLCBbJyRpb25pY1BvcHVwJywnVmFsaWRhdGlvblNlcnZpY2UnLCBmdW5jdGlvbigkaW9uaWNQb3B1cCxWYWxpZGF0aW9uU2VydmljZSkge1xuXG4gIHJldHVybiB7XG4gICAgc2hvd19hbGVydDogZnVuY3Rpb24gKGFsZXJ0X3RpdGxlLGFsZXJ0X21lc3NhZ2UpIHtcbiAgICAgICAgdmFyIGFsZXJ0UG9wdXAgPSAkaW9uaWNQb3B1cC5hbGVydCh7XG4gICAgICAgICB0aXRsZTogYWxlcnRfdGl0bGUsXG4gICAgICAgICB0ZW1wbGF0ZTogYWxlcnRfbWVzc2FnZVxuICAgICAgICB9KTtcbiAgICAgICAgYWxlcnRQb3B1cC50aGVuKGZ1bmN0aW9uKHJlcykge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcblxuICAgY29uZmlybVBvcHVwOiBmdW5jdGlvbih0aXRsZSx0ZXh0KXtcbiAgICAgdmFyIGNvbmZpcm1Qb3B1cCA9ICRpb25pY1BvcHVwLmNvbmZpcm0oe1xuICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiB0aXRsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogdGV4dFxuICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgcmV0dXJuIGNvbmZpcm1Qb3B1cDtcbiAgIH0sXG5cbiAgIGFza0Zvck9uZVZhbHVlUG9wVXA6IGZ1bmN0aW9uKHNjb3BlLHRpdGxlLHRleHQsZmllbGRfbmFtZSx2YWxpZGF0aW9uVHlwZSl7XG4gICAgICAkc2NvcGUgPSBzY29wZTtcbiAgICAgIHZhciBteVBvcHVwID0gJGlvbmljUG9wdXAuc2hvdyh7XG4gICAgICB0ZW1wbGF0ZTogZmllbGRfbmFtZSArICc6IDxpbnB1dCB0eXBlPVwidGV4dFwiIGlkPVwib25lX3ZhbHVlX3BvcHVwXCI+PGRpdiBpZD1cImVycm9yX2NvbnRhaW5lcl9pbnNpZGVcIj48L2Rpdj4nLFxuICAgICAgdGl0bGU6IHRpdGxlLFxuICAgICAgc3ViVGl0bGU6IHRleHQsXG4gICAgICBzY29wZTogJHNjb3BlLFxuICAgICAgYnV0dG9uczogW1xuICAgICAgICB7IHRleHQ6ICdDYW5jZWxhcicgfSxcbiAgICAgICAge1xuICAgICAgICAgIHRleHQ6ICc8Yj5FbnZpYXI8L2I+JyxcbiAgICAgICAgICB0eXBlOiAnYnV0dG9uLXBvc2l0aXZlJyxcbiAgICAgICAgICBvblRhcDogZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgdmFyIGVycm9ycyA9IFwiXCI7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm9uZV92YWx1ZV9wb3B1cFwiKS52YWx1ZTtcbiAgICAgICAgICAgIGlmKHZhbGlkYXRpb25UeXBlPT1cIm5vdE51bGxcIil7XG4gICAgICAgICAgICAgIGlmKCFWYWxpZGF0aW9uU2VydmljZS52YWxpZGF0ZV9ub3RfZW1wdHkodmFsdWUpKXtcbiAgICAgICAgICAgICAgICBlcnJvcnMgPSBlcnJvcnMgKyAnPGgzPi0gRWwgY2FtcG8gXCInICsgZmllbGRfbmFtZSArICdcIiBubyBwdWVkZSBlc3RhciB2YWPDrW8uPC9oMz4nO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZih2YWxpZGF0aW9uVHlwZT09XCJlbWFpbFwiKXtcbiAgICAgICAgICAgICAgaWYoIVZhbGlkYXRpb25TZXJ2aWNlLnZhbGlkYXRlX2VtYWlsKHZhbHVlKSl7XG4gICAgICAgICAgICAgICAgZXJyb3JzID0gZXJyb3JzICsgJzxoMz4tIEVsIGNhbXBvIFwiJyArIGZpZWxkX25hbWUgKyAnXCIgbm8gZXMgdW5hIGRpcmVjY2nDs24gZGUgY29ycmVvIHbDoWxpZGEuPC9oMz4nO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZih2YWxpZGF0aW9uVHlwZT09XCJpZGRvY191eVwiKXtcbiAgICAgICAgICAgICAgaWYoIVZhbGlkYXRpb25TZXJ2aWNlLnZhbGlkYXRlX2lkZG9jX3V5KHZhbHVlKSl7XG4gICAgICAgICAgICAgICAgZXJyb3JzID0gZXJyb3JzICsgJzxoMz4tIEVsIGNhbXBvIFwiJyArIGZpZWxkX25hbWUgKyAnXCIgbm8gZXMgdW5hIGPDqWR1bGEgdXJ1Z3VheWEgdsOhbGlkYS48L2gzPic7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKHZhbGlkYXRpb25UeXBlPT1cInR3b193b3Jkc1wiKXtcbiAgICAgICAgICAgICAgaWYoIVZhbGlkYXRpb25TZXJ2aWNlLnZhbGlkYXRlX3R3b193b3Jkcyh2YWx1ZSkpe1xuICAgICAgICAgICAgICAgIGVycm9ycyA9IGVycm9ycyArICc8aDM+LSBFbCBjYW1wbyBcIicgKyBmaWVsZF9uYW1lICsgJ1wiIGRlYmUgY29udGVuZXIgYWwgbWVub3MgZG9zIHBhbGFicmFzLjwvaDM+JztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoZXJyb3JzIT1cIlwiKXtcbiAgICAgICAgICAgICAgdmFyIGVycm9yRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJlcnJvcl9jb250YWluZXJfaW5zaWRlXCIpO1xuICAgICAgICAgICAgICBlcnJvckRpdi5pbm5lckhUTUw9IGVycm9ycztcbiAgICAgICAgICAgICAgZXJyb3JEaXYuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgICAgICAgLy9kb24ndCBhbGxvdyB0aGUgdXNlciB0byBjbG9zZSB1bmxlc3MgaGUgZW50ZXJzIHdpZmkgcGFzc3dvcmRcbiAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgXVxuICAgIH0pO1xuICAgIHJldHVybiBteVBvcHVwO1xuICAgfVxuXG5cbiAgfTtcbn1dKTtcbiIsInBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdsb2NhdGlvbkFQSScsIFsnJGh0dHAnLCAnJHEnLCAnQXBpSW1FbmRwb2ludCcsICdBcGlEYXRhRW5kcG9pbnQnLCBmdW5jdGlvbigkaHR0cCwgJHEsIEFwaUltRW5kcG9pbnQsIEFwaURhdGFFbmRwb2ludCkge1xuXG4gIHZhciByZXN0UHJlZmZpeCA9IFwidWJpY2FjaW9uZXNSZXN0UHJvZFwiO1xuXG5cbiAgdmFyIGxvY2F0aW9uQVBJID0ge307XG5cbiAgbG9jYXRpb25BUEkuc2VhcmNoTG9jYXRpb25CeVN0ciA9IGZ1bmN0aW9uKF9sb2NhdGlvbikge1xuICAgIHJldHVybiAkaHR0cC5nZXQoQXBpSW1FbmRwb2ludC51cmwgKyAnLycgKyByZXN0UHJlZmZpeCArICcvY2FsbGVzJywge1xuICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgIHBhcmFtczoge1xuICAgICAgICBub21icmU6IF9sb2NhdGlvblxuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG5cbiAgbG9jYXRpb25BUEkuc2VhcmNoRXNxdWluYUJ5U3RyID0gZnVuY3Rpb24oX2xvY2F0aW9uKSB7XG4gICAgLy9jb25zb2xlLmxvZyhcInNlYXJjaEVzcXVpbmFCeVN0ciA9IFwiICsgSlNPTi5zdHJpbmdpZnkoX2xvY2F0aW9uKSk7XG4gICAgLy9yZXR1cm4gJGh0dHAuZ2V0KEFwaUltRW5kcG9pbnQudXJsICsgJy8nICsgcmVzdFByZWZmaXggKyAnL2VzcXVpbmEvJyArIF9sb2NhdGlvbi5jYWxsZSArICcvJyArIF9sb2NhdGlvbi5lc3F1aW5hLCB7XG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KEFwaUltRW5kcG9pbnQudXJsICsgJy8nICsgcmVzdFByZWZmaXggKyAnL2NydWNlcy8nICsgX2xvY2F0aW9uLmNhbGxlICsgJy8nLFxuICAgICAge1xuICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICBub21icmU6IF9sb2NhdGlvbi5lc3F1aW5hXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9O1xuXG4gIGxvY2F0aW9uQVBJLmdldExvY2F0aW9uR2VvbSA9IGZ1bmN0aW9uKF9sb2NhdGlvbikge1xuICAgIHZhciB1cmwgPSBBcGlJbUVuZHBvaW50LnVybCArICcvJyArIHJlc3RQcmVmZml4ICsgbG9jYXRpb25BUEkuZ2V0UGFyYW1QYXRoQnlUaXBvKF9sb2NhdGlvbi50aXBvKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IF9sb2NhdGlvbi5wYXRoUGFyYW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICB1cmwgKz0gJy8nICsgX2xvY2F0aW9uLnBhdGhQYXJhbXNbaV07XG4gICAgfVxuXG4gICAgcmV0dXJuICRodHRwLmdldCh1cmwpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xuICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgfSk7XG5cblxuICB9O1xuXG4gIGxvY2F0aW9uQVBJLmdldFBhcmFtUGF0aEJ5VGlwbyA9IGZ1bmN0aW9uKF90aXBvKSB7XG5cbiAgICB2YXIgcmVzdEdlb0RhdGFTZXJ2aWNlUGF0aCA9IHtcbiAgICAgICdFU1FVSU5BJzpcIi9lc3F1aW5hXCIsXG4gICAgICAnRElSRUNDSU9OJzpcIi9kaXJlY2Npb25cIlxuICAgIH07XG5cbiAgICByZXR1cm4gcmVzdEdlb0RhdGFTZXJ2aWNlUGF0aFtfdGlwb107XG5cblxuICB9O1xuXG4gIHJldHVybiBsb2NhdGlvbkFQSTtcblxufV0pO1xuIiwicG1iX2ltLnNlcnZpY2VzLmZhY3RvcnkoJ18nLCBbZnVuY3Rpb24oKSB7XG4gIHJldHVybiB3aW5kb3cuXzsgLy9VbmRlcnNjb3JlIG11c3QgYWxyZWFkeSBiZSBsb2FkZWQgb24gdGhlIHBhZ2Vcbn1dKTtcbiIsInBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdVc2VyU2VydmljZScsIFsnJGh0dHAnLCBmdW5jdGlvbigkaHR0cCkge1xuXG4gIC8vdmFyIGJhc2VVUkwgPSBcImh0dHA6Ly9wbWJ1eS5kZXZlbG9wbWVudC5kYXRhdXkub3JnL2F1dGgvYWpheC9cIjtcbiAgdmFyIFVzZXJPYmogPSB7fTtcbiAgVXNlck9iai5uYW1lID0gbnVsbDtcbiAgVXNlck9iai5lbWFpbCA9IG51bGw7XG4gIFVzZXJPYmoucGFzc3dvcmQgPSBudWxsO1xuICBVc2VyT2JqLmlkZW50aXR5X2RvY3VtZW50ID0gbnVsbDtcbiAgVXNlck9iai5waG9uZSA9ICcnO1xuICBVc2VyT2JqLnBpY3R1cmVfdXJsID0gXCJ1cmwoLi9pbWcvaWNvbi11c2VyLWFub255bW91cy5wbmcpXCI7XG5cblxuICBVc2VyT2JqLnNhdmVfdXNlcl9kYXRhID0gZnVuY3Rpb24gKHVzZXJfbmFtZSwgdXNlcl9lbWFpbCwgdXNlcl9wYXNzd29yZCwgdXNlcl9pZF9kb2MsIHVzZXJfcGhvbmUsIHVzZXJfcGljdHVyZV91cmwpIHtcbiAgICAgIFVzZXJPYmoubmFtZSA9IHVzZXJfbmFtZTtcbiAgICAgIFVzZXJPYmouZW1haWwgPSB1c2VyX2VtYWlsO1xuICAgICAgVXNlck9iai5wYXNzd29yZCA9IHVzZXJfcGFzc3dvcmQ7XG4gICAgICBVc2VyT2JqLmlkZW50aXR5X2RvY3VtZW50ID0gdXNlcl9pZF9kb2M7XG4gICAgICBVc2VyT2JqLnBob25lID0gdXNlcl9waG9uZTtcbiAgICAgIFVzZXJPYmoucGljdHVyZV91cmwgPSB1c2VyX3BpY3R1cmVfdXJsO1xuICAgICAgLy9TQVZFIElOIFBPVUNIREJcbiAgfVxuXG4gIFVzZXJPYmouZXJhc2VfdXNlcl9kYXRhID0gZnVuY3Rpb24gKCkge1xuICAgIFVzZXJPYmoubmFtZSA9IG51bGw7XG4gICAgVXNlck9iai5lbWFpbCA9IG51bGw7XG4gICAgVXNlck9iai5wYXNzd29yZCA9IG51bGw7XG4gICAgVXNlck9iai5pZGVudGl0eV9kb2N1bWVudCA9IG51bGw7XG4gICAgVXNlck9iai5waG9uZSA9IG51bGw7XG4gICAgVXNlck9iai5waWN0dXJlX3VybCA9IG51bGw7XG4gICAgLy9ERUxFVEUgSU4gUE9VQ0hEQlxuICB9XG5cbiAgVXNlck9iai5nZXRfdXNlcl9kYXRhID0gZnVuY3Rpb24gKCkge1xuICAgIC8vTEVWQU5UQSBERSBQT1VDSERCIExPUyBEQVRPUyBERUwgVVNVQVJJTy4gU0kgSEFZIExPUyBQT05FIEVOIExBUyBWQVJJQUJMRVMgREVMIFNFUlZJQ0lPLiBTSSBOTyBIQVkgUE9ORSBUT0RPIE5VTExcbiAgfVxuXG4gIFVzZXJPYmouYWRkX3Bob3RvID0gZnVuY3Rpb24gKHVzZXJfcGljdHVyZV91cmwpIHtcbiAgICBVc2VyT2JqLnBpY3R1cmVfdXJsID0gdXNlcl9waWN0dXJlX3VybDtcbiAgfVxuXG4gIFVzZXJPYmouaXNMb2dnZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYoVXNlck9iai5uYW1lIT1udWxsICYmIFVzZXJPYmoubmFtZSE9XCJcIil7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9ZWxzZXtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuXG4gIHJldHVybiBVc2VyT2JqO1xuXG59XSk7XG4iLCJwbWJfaW0uc2VydmljZXMuZmFjdG9yeSgnVmFsaWRhdGlvblNlcnZpY2UnLCBbJyRodHRwJywnJGlvbmljUG9wdXAnLCBmdW5jdGlvbigkaHR0cCwkaW9uaWNQb3B1cCkge1xuXG4gIHJldHVybiB7XG4gICAgdmFsaWRhdGVfbm90X21pbnVzb25lOiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYodmFsdWU9PS0xKXtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIHZhbGlkYXRlX25vdF9lbXB0eTogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmKHZhbHVlIT1udWxsICYmIHZhbHVlIT1cInVuZGVmaW5lZFwiICYmIHZhbHVlIT1cIlwiKXtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIHZhbGlkYXRlX3R3b193b3JkczogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmKHZhbHVlIT1udWxsICYmIHZhbHVlIT1cInVuZGVmaW5lZFwiICYmIHZhbHVlIT1cIlwiKXtcbiAgICAgICAgICB2YXIgdmFsdWVzID0gdmFsdWUuc3BsaXQoJyAnKS5maWx0ZXIoZnVuY3Rpb24odil7cmV0dXJuIHYhPT0nJ30pO1xuICAgICAgICAgIGlmICh2YWx1ZXMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAvL3R3byBvciBtb3JlIHdvcmRzXG4gICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vbm90IGVub3VnaCB3b3Jkc1xuICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgdmFsaWRhdGVfZW1haWw6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZih2YWx1ZSE9bnVsbCAmJiB2YWx1ZSE9XCJ1bmRlZmluZWRcIiAmJiB2YWx1ZSE9XCJcIil7XG4gICAgICAgICAgdmFyIHJlID0gL14oKFtePD4oKVxcW1xcXVxcXFwuLDs6XFxzQFwiXSsoXFwuW148PigpXFxbXFxdXFxcXC4sOzpcXHNAXCJdKykqKXwoXCIuK1wiKSlAKChcXFtbMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XSl8KChbYS16QS1aXFwtMC05XStcXC4pK1thLXpBLVpdezIsfSkpJC87XG4gICAgICAgICAgcmV0dXJuIHJlLnRlc3QodmFsdWUpO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgdmFsaWRhdGVfaWRkb2NfdXk6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgaWYodmFsdWUhPW51bGwgJiYgdmFsdWUhPVwidW5kZWZpbmVkXCIgJiYgdmFsdWUhPVwiXCIpe1xuICAgICAgICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZSgvXFxEL2csICcnKTtcbiAgICAgICAgICB2YXIgZGlnID0gdmFsdWVbdmFsdWUubGVuZ3RoIC0gMV07XG4gICAgICAgICAgdmFyIGEgPSAwOyB2YXIgaSA9IDA7XG4gICAgICAgICAgaWYodmFsdWUubGVuZ3RoIDw9IDYpe1xuICAgICAgICAgICAgZm9yKGkgPSB2YWx1ZS5sZW5ndGg7IGkgPCA3OyBpKyspe1xuICAgICAgICAgICAgICB2YWx1ZSA9ICcwJyArIHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBmb3IoaSA9IDA7IGkgPCA3OyBpKyspe1xuICAgICAgICAgICAgYSArPSAocGFyc2VJbnQoXCIyOTg3NjM0XCJbaV0pICogcGFyc2VJbnQodmFsdWVbaV0pKSAlIDEwO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgcmVzdWx0O1xuICAgICAgICAgIGlmKGElMTAgPT09IDApe1xuICAgICAgICAgICAgcmVzdWx0ID0gMDtcbiAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIHJlc3VsdCA9IDEwIC0gYSAlIDEwO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZihkaWcgPT0gcmVzdWx0KXtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgIH1lbHNle1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9O1xufV0pO1xuIl19
