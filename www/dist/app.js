window.VERSION = "0.0.3";var pmb_im={controllers:angular.module("pmb_im.controllers",[]),services:angular.module("pmb_im.services",[])};pmb_im.app=angular.module("pmb_im",["ionic","ionic.wizard","ion-autocomplete","leaflet-directive","pmb_im.controllers","pmb_im.services","ngCordova","ionic-cache-src"]).constant("ApiImEndpoint",{url:"http://www.montevideo.gub.uy"}).constant("ApiDataEndpoint",{url:"/data"}).run(["$ionicPlatform","$rootScope","$cordovaKeyboard",function(e,t,n){t.VERSION=window.VERSION,e.ready(function(){window.cordova&&window.cordova.plugins.Keyboard&&cordova.plugins.Keyboard.hideKeyboardAccessoryBar(!0),ionic.Platform.isFullScreen=!1,window.StatusBar&&StatusBar.styleDefault()})}]).config(["$stateProvider","$urlRouterProvider","$compileProvider","$ionicConfigProvider",function(e,t,n,o){n.debugInfoEnabled(!1),e.state("app",{cache:!1,url:"/app","abstract":!0,templateUrl:"templates/menu.html",controller:"MapController"}).state("app.map",{cache:!1,url:"/map/",views:{menuContent:{templateUrl:"templates/map.html",controller:"PMBCtrl"}}}).state("app.intro",{cache:!1,url:"/intro",views:{menuContent:{templateUrl:"templates/intro.html",controller:"IntroCtrl"}}}),t.otherwise("/app/intro")}]),pmb_im.controllers.controller("AutoCompleteCtrl",["$scope","leafletData","locationAPI",function(e,t,n){e.ionAutocompleteElement=angular.element(document.getElementsByClassName("ion-autocomplete")),e.ionAutocompleteElement.bind("touchend click focus",e.onClick),e.onClick=function(){e.ionAutocompleteElement.controller("ionAutocomplete").showModal()},e.searchLocation=function(e){if(e)return n.searchLocationByStr(e)}}]),pmb_im.controllers.controller("IntroCtrl",["$scope","$state","$cordovaGeolocation","$stateParams","$ionicPlatform","$ionicPopup","LocationsService","DBService",function(e,t,n,o,a,r,i,l){var c=l.initDB();c.info().then(console.log.bind(console)),e.geolocate=function(){var e=!1;ionic.Platform.ready(function(){var o=(ionic.Platform.device(),{timeout:3500,enableHighAccuracy:!0,maximumAge:6e4});n.getCurrentPosition(o).then(function(n){e=!0,i.save_initial_position(n),t.go("app.map")},function(e){t.go("app.map")})})},e.$on("$ionicView.enter",function(){e.geolocate()})}]),pmb_im.controllers.controller("MapController",["$scope","$sce","_","$cordovaFile","$cordovaGeolocation","$compile","$state","$stateParams","$ionicModal","$ionicPopup","leafletData","ConfigService","ContactService","PMBService","LocationsService","ContainerService","MapService","FaqService","CategoriesService","AuthService","UserService","DBService","$timeout","$location","ErrorService","$ionicSlideBoxDelegate","$ionicScrollDelegate","PopUpService","$ionicPlatform","ConnectivityService","$cordovaInAppBrowser","$interval","$cordovaKeyboard",function(t,n,o,a,r,i,c,u,s,m,d,p,_,f,g,h,v,y,b,w,E,k,C,S,I,B,M,$,P,x,R,A,T){t.featureReports={},t.baseURL=p.baseURL,t.user_cached_image="",t.report_detail_id=null,t.one_value_popup=null,t.abuse_name=null,t.abuse_email=null,t.abuse_subject=null,t.abuse_message=null,t.actualSliderIndex=0,t.$on("$ionicView.beforeEnter",function(){k.initDB(),t.set_network_events(),t.find_me(),t.walkthrough()}),P.onHardwareBackButton(function(){e.stopPropagation(),t.hide_special_divs}),t.openWebsite=function(e){var t={location:"no",clearcache:"yes",toolbar:"no"};R.open(e,"_blank",t).then(function(e){})["catch"](function(e){})},t.set_network_events=function(){t.create_online_map(),t.addPinsLayer(),t.map.center={lat:-34.901113,lng:-56.164531,zoom:18}},t.create_online_map=function(){return null==t.map&&void(t.map={defaults:{tileLayer:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",minZoom:10,maxZoom:18,zoomControlPosition:"topleft"},markers:{},events:{map:{enable:["context"],logic:"emit"}}})},t.clickOnMenuIcon=function(){var e=document.getElementById("nav-icon-lines"),n=document.getElementById("expanded_menu");t.toggleClassOnElement(e,"open"),t.toggleClassOnElement(n,"open")};t.toggleClassOnElement=function(e,t){if(e&&t){var n=e.className,o=n.indexOf(t);o==-1?n+=" "+t:n=n.substr(0,o)+n.substr(o+t.length),e.className=n}},t.next=function(){B.next(),t.actualSliderIndex=B.currentIndex()},t.previous=function(){B.previous(),t.actualSliderIndex=B.currentIndex()},t.scrollMe=function(e){S.hash(e);var t=M.$getByHandle("content");t.anchorScroll()},t.set_active_option=function(e){return!1},t.hide_special_divs=function(){var e=document.getElementById("container_details");e&&(e.className="");var t=document.getElementById("navigation_back");t&&(t.className="hidden");var n=document.getElementById("navigation_menu");n&&(n.className="")},t.addMapControls=function(){return!1},t.startReportFromCrosshairs=function(){},t.addPinsLayer=function(){if(null!=t.jsonLayer)return!1;var e=p.baseURL;onEachFeature=function(e,n){e.properties&&n.on("click",function(e){t.selected_container=h.build(e.target.feature.properties),t.selected_container.setLatLng(e.target.feature.geometry.coordinates[1],e.target.feature.geometry.coordinates[0]);var n=document.getElementById("container_details");n.className="open";var o=document.getElementById("navigation_back");o.className="";var a=document.getElementById("navigation_menu");a.className="hidden",t.goToCenter(t.selected_container.lon,t.selected_container.lat)})},l=new L.LayerJSON({url:e+"/datauy/get_containers_json/{bbox}",locAsGeoJSON:!0,minShift:5,precision:10,onEachFeature:onEachFeature}),d.getMap().then(function(e){null!=t.jsonLayer&&e.removeLayer(t.jsonLayer),t.jsonLayer=l,e.addLayer(l)}),t.lastMarkerLayer=null,l.on("dataloaded",function(e){t.reports=e.data.features}),l.on("layeradd",function(n){n.layer.eachLayer(function(n){var o="/img/pin-container.svg";n.feature.properties.pin_url&&(o=n.feature.properties.pin_url);var a=L.icon({iconUrl:e+o,iconSize:[29,34],iconAnchor:[8,8],popupAnchor:[0,-8]});n.setIcon(a),void 0===t.featureReports[n.feature.properties.GID]&&(t.featureReports[n.feature.properties.GID]=n)})})},t.goToCenter=function(e,n){var o={timeout:5e3,enableHighAccuracy:!0};r.getCurrentPosition(o).then(function(o){var a=o.coords.latitude,r=o.coords.longitude;t.getRoad(a,r,n,e)},function(t){n-=6e-4,v.centerMapOnCoords(n,e,17)})},t.lastRoad=null,t.nav_back=function(){t.hide_special_divs(),null!=t.lastRoad&&(t.lastRoad.spliceWaypoints(0,2),d.getMap().then(function(e){e.removeControl(t.lastRoad),t.lastRoad=null}))},t.walkthrough=function(){if(null!=t.walkthrough_modal)return!1;var e=k.getDoneWalkthrough();e.then(function(e){null!=e.status&&"done"==e.status||t.openWalkThroughModal()})["catch"](function(e){t.openWalkThroughModal()})},t.walkthroughFromMenu=function(){t.closeMainMenu(),t.openWalkThroughModal()},t.openWalkThroughModal=function(){s.fromTemplateUrl("templates/walkthrough.html",{scope:t,hardwareBackButtonClose:!1,animation:"slide-in-up"}).then(function(e){t.walkthrough_modal=e,t.walkthrough_modal.show()})},t.finishWalkthrough=function(){t.walkthrough_modal.hide(),t.walkthrough_modal.remove(),k.saveDoneWalkthrough()},t.openContact=function(){null!=t.item_modal&&(t.item_modal.hide(),t.item_modal.remove()),t.main_menu_modal.hide(),t.main_menu_modal.remove(),s.fromTemplateUrl("templates/contact.html",{scope:t,hardwareBackButtonClose:!0,animation:"none",focusFirstInput:!0}).then(function(e){t.item_modal=e,t.item_modal.show()})},t.openContactSuccess=function(){t.item_modal.hide(),t.item_modal.remove(),s.fromTemplateUrl("templates/contact_success.html",{scope:t,hardwareBackButtonClose:!0,animation:"none"}).then(function(e){t.item_modal=e,t.item_modal.show()})},t.send_contact_request=function(){var e=document.getElementById("contact_nombre"),n=document.getElementById("contact_email"),o=document.getElementById("contact_select"),a=document.getElementById("contact_mensaje"),r=document.getElementById("contact_error_label");if(I.check_field(e,"notNull",r)&&I.check_field(n,"notNull",r)&&I.check_field(n,"email",r)&&I.check_field(a,"notNull",r))_.send_contact(e.value,n.value,o[o.selectedIndex].value,a.value).then(function(e){I.http_data_response_is_successful_ajax(e)&&t.openContactSuccess()});else{var i=document.getElementById("contact_error");i.className="contact_error"}},t.openMainMenuFromItem=function(){t.item_modal.hide(),t.item_modal.remove(),s.fromTemplateUrl("templates/main_menu.html",{scope:t,hardwareBackButtonClose:!0,animation:"none"}).then(function(e){t.main_menu_modal=e,t.main_menu_modal.show()})},t.openMainMenu=function(){s.fromTemplateUrl("templates/main_menu.html",{scope:t,hardwareBackButtonClose:!0,animation:"none"}).then(function(e){t.main_menu_modal=e,t.main_menu_modal.show()})},t.closeMainMenu=function(){t.main_menu_modal.hide(),t.main_menu_modal.remove()},t.getRoad=function(e,n,o,a){d.getMap().then(function(r){r.closePopup();var i=L.icon({iconUrl:"./img/me.svg",iconSize:[29,34],iconAnchor:[8,8],popupAnchor:[0,-8]});null!=t.now_marker&&r.removeLayer(t.now_marker),t.now_marker=L.marker([e,n],{icon:i}).addTo(r),null!=t.lastRoad&&(t.lastRoad.spliceWaypoints(0,2),r.removeControl(t.lastRoad),t.lastRoad=null),t.lastRoad=L.Routing.control({waypoints:[L.latLng(e,n),L.latLng(o,a)],language:"es",router:L.Routing.mapbox("pk.eyJ1IjoibGl0b3hwZXJhbG9jYSIsImEiOiJjajNhdHUzbTMwMTQwMnFwaGRidmc2emZ5In0.dED4D4_LBjRc-sGa5zt5Yg"),createMarker:function(e,t,n){return null},lineOptions:{styles:[{color:"#4c4c4c",opacity:1,weight:5}]},fitSelectedRoutes:!1}).addTo(r),o-=8e-4,v.centerMapOnCoords(o,a,17)})},t.model=[],t.externalModel=[],t.selectedItems=[],t.preselectedSearchItems=[],t.clickedValueModel="",t.removedValueModel="",t.itemsRemoved=function(e){t.removedValueModel=e},t.user_options=function(){var e=document.getElementById("user-options-menu");if("block"==e.style.display)e.style.display="none";else{var n=E.name;null==n?t.show_anonymous_menu():t.show_user_menu()}},t.show_anonymous_menu=function(){var e=document.getElementById("user-options-menu"),n="<div id='auth_options'><div class='nonauth-link' ng-click='show_login_modal()'>Iniciar sesi√≥n</div>";n+="<div class='nonauth-link' ng-click='show_sign_up_modal()'>Registrarse</div></div>",e.innerHTML=n,i(e)(t),e.style.height="120px",e.style.width="150px",e.style.display="block"},t.show_user_menu=function(){var e=document.getElementById("user-options-menu"),n=E.name+"<div id='auth_options'><div class='user-logged-link' ng-click='show_edit_profile_modal()'>Mi perfil</div>";n+="<div class='user-logged-link' ng-click='list_offline_reports_menu()'>Reportes pendientes</div>",n+="<div class='user-logged-link' ng-click='sign_out()'>Cerrar sesi√≥n</div></div>",e.innerHTML=n,i(e)(t),e.style.height="160px",e.style.width="200px",e.style.display="block"},t.create_field_array=function(e,t,n){var o=new Array;return o.name=e,o.type=t,o.value=n,o},t.sign_in=function(e,n){if(x.isOnline()){document.getElementById("spinner-inside-modal").style.display="block";var o=new Array;o.push(t.create_field_array("Email","email",e)),o.push(t.create_field_array("Contrase√±a","notNull",n)),I.check_fields(o,"error_container")?w.sign_in(n,e).then(function(o){I.http_response_is_successful(o,"error_container")?(E.save_user_data(o.data.name,e,n,o.data.identity_document,o.data.phone,o.data.picture_url),k.saveUser(o.data.name,e,n,o.data.identity_document,o.data.phone,o.data.picture_url),document.getElementById("spinner-inside-modal").style.display="none",t.close_login_modal(),t.set_user_picture(1)):document.getElementById("spinner-inside-modal").style.display="none"},function(e){document.getElementById("spinner-inside-modal").style.display="none",I.show_error_message("error_container",e.statusText)}):document.getElementById("spinner-inside-modal").style.display="none"}else $.show_alert("Sin conexi√≥n a internet","Para iniciar sesi√≥n debe estar conectado a internet")},t.sign_in_ajax=function(e,n){w.sign_in(n,e).then(function(o){return I.http_response_is_successful_ajax(o)?(E.save_user_data(o.data.name,e,n,o.data.identity_document,o.data.phone,o.data.picture_url),k.saveUser(o.data.name,e,n,o.data.identity_document,o.data.phone,o.data.picture_url),t.set_user_picture(1),1):0},function(e){return 0})},t.sign_out=function(){E.erase_user_data(),k.eraseUser(),document.getElementById("spinner").style.display="none",t.set_user_picture(0),document.getElementById("user-options-menu").style.display="none"},t.check_user_logged=function(){return!1},t.set_offline_user=function(){},t.set_user_picture=function(e){},t.search_street=function(){t.hide_special_divs(),document.getElementById("search-textbox").parentNode.click()},t.find_me=function(){t.set_active_option("button-find-me"),t.hide_special_divs();var e={timeout:1e4,enableHighAccuracy:!0};r.getCurrentPosition(e).then(function(e){var n=18,o=L.icon({iconUrl:"./img/me.svg",iconSize:[29,34],iconAnchor:[8,8],popupAnchor:[0,-8]});d.getMap().then(function(a){null!=t.now_marker&&a.removeLayer(t.now_marker),t.now_marker=L.marker([e.coords.latitude,e.coords.longitude],{icon:o}).addTo(a),v.centerMapOnCoords(e.coords.latitude,e.coords.longitude,n)})},function(e){})}}]),pmb_im.controllers.controller("PMBCtrl",["$scope","$state","leafletData","PMBService","ContainerService","locationAPI","MapService","_","Loader","LocationsService",function(e,t,n,o,a,r,i,l,c,u){e.reportButton={text:"Reportar",state:"unConfirmed"},e.$on("$ionicView.afterEnter",function(){document.getElementById("spinner").style.display="none";n.getMap();""!=u.initial_lat?i.centerMapOnCoords(u.initial_lat,u.initial_lng,18):i.centerMapOnCoords(-34.901113,-56.164531,16)}),e.searchMode="calle.lugar",e.location={calle:null,esquina:null,lugar:null};var s={tipo:null,pathParams:[]};e.$on("$stateChangeSuccess",function(){e.ionAutocompleteElement=angular.element(document.getElementsByClassName("ion-autocomplete")),e.ionAutocompleteElement.bind("touchend click focus",e.onClick)}),e.initReport=function(){var t,o=L.icon({iconUrl:"img/pin@x2.png",iconSize:[70,110],iconAnchor:[-18,55]});"unConfirmed"==e.reportButton.state&&(e.reportButton.text="Confirmar",e.reportButton.state="about2Confirm",n.getMap().then(function(n){t=new L.marker(n.getCenter(),{icon:o,clickable:!1}).addTo(n),ReportService._new(),ReportService.current.setLatLng(n.getCenter()),e.ionAutocompleteElement=angular.element(document.getElementsByClassName("ion-autocomplete")),e.ionAutocompleteElement.bind("touchend click focus",e.onClick)}))},e.isNumeric=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},e.searchLocation=function(t){var n;if(t&&t.length>=2){if("calle.lugar"==e.searchMode)n=r.searchLocationByStr(t);else{if(e.isNumeric(t.trim())){var o=[],a={descTipo:"NUMERO",nombre:t,codigo:t};return o[0]=a,o}n=r.searchEsquinaByStr({calle:e.selectedItem.codigo,esquina:t})}return n}return[]},e.onClick=function(){e.ionAutocompleteElement.controller("ionAutocomplete").showModal()},e.itemsClicked=function(t){if(e.clickedValueModel=t,e.selectedItem=t.item,e.ionAutocompleteElementSearch=angular.element(document.getElementsByClassName("ion-autocomplete-search")),"esquina.numero"==e.searchMode){s.pathParams=[],e.location.esquina=e.selectedItem,s.pathParams.push(e.location.calle.codigo),s.pathParams.push(e.location.esquina.codigo);var n="";e.isNumeric(e.selectedItem.nombre)?s.tipo="DIRECCION":(s.tipo="ESQUINA",n="esquina"),r.getLocationGeom(s).then(function(t){i.goToPlace(angular.extend({nombre:e.location.calle.nombre+" "+n+" "+e.selectedItem.nombre,geom:t.geoJSON},t),e),e.searchMode="calle.lugar",e.ionAutocompleteElementSearch.attr("placeholder","Buscar calle"),e.externalModel=[]})}else e.location.calle=e.selectedItem,e.searchMode="esquina.numero",e.ionAutocompleteElementSearch.attr("placeholder","Esquina o n√∫mero"),e.ionAutocompleteElement.controller("ionAutocomplete").showModal(),e.preselectedSearchItems=[]},e.itemsCanceled=function(t){var n=parseInt(t.searchQuery);Number.isInteger(n)&&(s.tipo="DIRECCION",s.pathParams.push(e.location.calle.codigo),s.pathParams.push(n),r.getLocationGeom(s).then(function(t){i.goToPlace(angular.extend({nombre:e.selectedItem.nombre+" "+n},t),e),e.searchMode="calle.lugar"},function(t){c.showAlert("Error","No existe esa direccion").then(function(t){e.ionAutocompleteElement.controller("ionAutocomplete").showModal()})}))}}]),pmb_im.services.factory("AuthService",["$http","$cordovaFileTransfer","ConfigService",function(e,t,n){var o=n.baseURL+"/auth/ajax/";return{sign_in:function(t,n){return e.get(o+"sign_in",{params:{password_sign_in:t,email:n}})},sign_out:function(t,n){return e.get(o+"sign_out",{params:{password_sign_in:t,email:n}})},create_user:function(t,n,a,r,i){return e.get(o+"create_user",{params:{form_email:t,name:n,password_register:a,identity_document:r,phone:i}})},change_password:function(t,n,a,r,i){return e.get(o+"create_user",{params:{login_email:t,name:n,password_register:a,identity_document:r,phone:i}})},edit_user:function(n,a,r,i,l,c,u){if(null!=u&&""!=u){var s={fileKey:"photo",params:{email:n,password_sign_in:a,name:r,new_email:i,identity_document:l,phone:c}},m=!0;return t.upload(o+"edit_user",u,s,m)}return e.get(o+"edit_user",{params:{email:n,password_sign_in:a,name:r,new_email:i,identity_document:l,phone:c}})}}}]),pmb_im.services.factory("CategoriesService",["$http","LocationsService","ConfigService","DBService",function(e,t,n,o){var a=n.baseURL+"/report/new/ajax";return{all:function(){return e.get(a,{params:{lat:t.new_report_lat,lon:t.new_report_lng,format:"json"}})},getCachedCategories:function(){return o.getCategories()}}}]),pmb_im.services.factory("ConfigService",["$http",function(e){var t={};return t.baseURL="http://dondereciclo.development.datauy.org",t}]),pmb_im.services.factory("ConnectivityService",["$cordovaNetwork",function(e){return{isOnline:function(){return ionic.Platform.isWebView()?e.isOnline():navigator.onLine},isOffline:function(){return ionic.Platform.isWebView()?!e.isOnline():!navigator.onLine}}}]),pmb_im.services.factory("ContactService",["$http","ConfigService",function(e,t){var n=t.baseURL+"/datauy/contact/";return{send_contact:function(t,o,a,r){return e.get(n+t+"/"+o+"/"+a+"/"+r,{params:{}})}}}]),pmb_im.services.factory("ContainerService",["$http","leafletData","ConfigService",function(e,t,n){function o(e){angular.extend(this,e)}var a=n.baseURL+"/report/ajax/";return o.getById=function(t){var n=a+t;return e.get(n).then(function(e){return e})},o._default=function(){var e={lat:0,lon:0,title:null,detail:null,may_show_name:1,category:null,phone:null,pc:"",file:null,name:null,email:null,submit_sign_in:1,password_sign_in:null,remember_me:1};return new o(e)},o._all=[],o.current={},o._new=function(){return o._default()},o.build=function(e){return new o(e)},o.prototype.setLatLng=function(e,t){this.lat=e,this.lon=t},o}]),pmb_im.services.factory("DBService",["$q",function(e){function t(e,t,n,o,r,i){var l={_id:"user-logged",name:e,email:t,password:n,identity_document:o,phone:r,picture_url:i};a().then(function(e){return l._rev=e._rev,f.put(l)})["catch"](function(e){return f.put(l)})}function n(){var e={_id:"done-walkthrough",status:"done"};return f.put(e)}function o(){return f.get("done-walkthrough")}function a(){return f.get("user-logged")}function r(){f.get("user-logged").then(function(e){return f.remove(e)})}function i(){return f=new PouchDB("pmb_local_db")}function l(e){var t=new Date,n="report_"+t.getFullYear()+(t.getMonth()+1)+t.getDate()+t.getMilliseconds();return e._id=n,f.put(e)}function c(e){return f.put(e)}function u(){return f.get("categories-list")}function s(e){u().then(function(t){return e._rev=t._rev,f.put(e)})["catch"](function(t){return e._id="categories-list",f.put(e)})}function m(e){return f.get(e)}function d(){return f.allDocs({include_docs:!0,attachments:!1,startkey:"report_",endkey:"report_Ôøø"})}function p(e){f.get(e).then(function(e){return f.remove(e)})}function _(e){return f.remove(e)}var f;return{initDB:i,saveUser:t,getUser:a,eraseUser:r,saveReport:l,getReport:m,getAllReports:d,updateReport:c,deleteReport:p,deleteGivenReport:_,getCategories:u,saveCategories:s,getDoneWalkthrough:o,saveDoneWalkthrough:n}}]),pmb_im.services.factory("ErrorService",["$http","$ionicPopup","ValidationService",function(e,t,n){return{http_response_is_successful:function(e,t){var n=document.getElementById(t);return 0==e.data.result?(n.innerHTML="<h3>"+e.data.message+"</h3>",n.style.display="block",!1):(n.style.display="none",!0)},http_response_is_successful_ajax:function(e){return 0!=e.data.result},http_response_is_successful_popup:function(e){if(0==e.data.result){var n=t.alert({title:"Error",template:e.data.message});return n.then(function(e){return!1}),!1}return!0},http_data_response_is_successful:function(e,t){var n=document.getElementById(t);return 0==e.result?(n.innerHTML="<h3>"+e.message+"</h3>",n.style.display="block",!1):(n.style.display="none",!0)},http_data_response_is_successful_ajax:function(e){return 0!=e.result},show_error_message:function(e,t){var n=document.getElementById(e);return n.innerHTML="<h3>"+t+"</h3>",n.style.display="block",!1},show_error_message_popup:function(e){var n=t.alert({title:"Error",template:e});return n.then(function(e){return!1}),!1},check_fields:function(e,t){var o="";if(e.forEach(function(e){"notNull"==e.type&&(n.validate_not_empty(e.value)||(o=o+'<h3>- El campo "'+e.name+'" no puede estar vac√≠o.</h3>')),"email"==e.type&&(n.validate_email(e.value)||(o=o+'<h3>- El campo "'+e.name+'" no es una direcci√≥n de correo v√°lida.</h3>')),"iddoc_uy"==e.type&&(n.validate_iddoc_uy(e.value)||(o=o+'<h3>- El campo "'+e.name+'" no es una c√©dula uruguaya v√°lida.</h3>')),"two_words"==e.type&&(n.validate_two_words(e.value)||(o=o+'<h3>- El campo "'+e.name+'" debe contener al menos dos palabras.</h3>'))}),""==o)return!0;var a=document.getElementById(t);return a.innerHTML=o,a.style.display="block",!1},check_field:function(e,t,o){var a=!0;return"notNull"==t&&(n.validate_not_empty(e.value)||(a=!1,o.innerHTML="Debes completar<br/>el campo "+e.name)),"email"==t&&(n.validate_email(e.value)||(a=!1,o.innerHTML="El campo "+e.name+"<br/>no es un email v√°lido")),"iddoc_uy"==t&&(n.validate_iddoc_uy(e.value)||(a=!1)),"two_words"==t&&(n.validate_two_words(e.value)||(a=!1)),"textarea"==t&&(n.validate_not_empty(e.innerHTML)||(a=!1,o.innerHTML="Debes completar<br/>el campo "+e.name)),"select"==t&&(n.validate_not_empty(e.innerHTML)||(a=!1,o.innerHTML="Debes completar<br/>el campo "+e.name)),a?e.style.borderColor="#979797":e.style.borderColor="red",a}}}]),pmb_im.services.factory("FaqService",["$http","ConfigService",function(e,t){var n=t.baseURL+"/faq";return{all:function(){return e.get(n,{params:{ajax:"1"}})}}}]),pmb_im.services.factory("Loader",["$ionicLoading","$timeout","$ionicPopup",function(e,t,n){var o={showLoading:function(t){t=t||"Loading...",e.show({template:t})},hideLoading:function(){e.hide()},toggleLoadingWithMessage:function(e,n){var o=this;o.showLoading(e),t(function(){o.hideLoading()},n||3e3)},confirmPopup:function(e,t){var o=n.confirm({title:e,template:t});return o},showAlert:function(e,t){var o=n.alert({title:e,template:t});return o}};return o}]),pmb_im.services.factory("LocationsService",[function(){var e={};return e.initial_lat="",e.initial_lng="",e.new_report_lat="",e.new_report_lng="",e.save_initial_position=function(t){e.initial_lat=t.coords.latitude,e.initial_lng=t.coords.longitude},e.save_new_report_position=function(t,n){e.new_report_lat=t,e.new_report_lng=n},e.savedLocations=[],e}]),pmb_im.services.factory("MapService",["leafletData","$compile",function(e,t){proj4.defs("EPSG:32721","+proj=utm +zone=21 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs");var n={};return n.goToPlace=function(t,n){var o={properties:{nombre:t.nombre},crs:{type:"name",properties:{name:"urn:ogc:def:crs:EPSG::32721"}}};o=angular.extend(o,t.geom),e.getMap().then(function(e){var t;L.Proj.geoJson(o,{pointToLayer:function(e,n){return t=n,L.marker(n)}});e.setView(t,18)})},n.centerMapOnCoords=function(t,n,o){e.getMap().then(function(e){e.setView(new L.LatLng(t,n),o)})},n}]),pmb_im.services.factory("PMBService",["$http","leafletData","$cordovaFileTransfer","ConfigService",function(e,t,n,o){var a=o.baseURL,r={report:function(t){if(t.file){var o={fileKey:"photo",fileName:"image.jpeg",chunkedMode:!1,mimeType:"image/jpeg",params:t};o.headers={Connection:"Close"};var r=!0;return n.upload(a+"/report/new/mobile",t.file,o,r)}return e.get(a+"/report/new/mobile",{params:t})},subscribe:function(t,n){return e.get(a+"/alert/subscribe_ajax",{params:{rznvy:t,id:n,type:"updates"}})},abuse:function(t,n,o,r,i){return e.get(a+"/contact/submit_ajax",{params:{em:t,id:n,name:o,subject:r,message:i}})},hide:function(t){var n="/report/delete_ajax/"+t;return e.get(a+n,{params:{}})},comment:function(t,n,o,r,i,l,c){return e.get(a+"/report/update_ajax",{params:{submit_update:1,id:t,may_show_name:i,add_alert:l,fixed:c,update:n,name:o,form_rznvy:r}})}};return r}]),pmb_im.services.factory("PopUpService",["$ionicPopup","ValidationService",function(e,t){return{show_alert:function(t,n){var o=e.alert({title:t,template:n});return o.then(function(e){return!0}),!0},confirmPopup:function(t,n){var o=e.confirm({title:t,template:n});return o},askForOneValuePopUp:function(n,o,a,r,i){$scope=n;var l=e.show({template:r+': <input type="text" id="one_value_popup"><div id="error_container_inside"></div>',title:o,subTitle:a,scope:$scope,buttons:[{text:"Cancelar"},{text:"<b>Enviar</b>",type:"button-positive",onTap:function(e){var n="",o=document.getElementById("one_value_popup").value;if("notNull"==i&&(t.validate_not_empty(o)||(n=n+'<h3>- El campo "'+r+'" no puede estar vac√≠o.</h3>')),"email"==i&&(t.validate_email(o)||(n=n+'<h3>- El campo "'+r+'" no es una direcci√≥n de correo v√°lida.</h3>')),"iddoc_uy"==i&&(t.validate_iddoc_uy(o)||(n=n+'<h3>- El campo "'+r+'" no es una c√©dula uruguaya v√°lida.</h3>')),"two_words"==i&&(t.validate_two_words(o)||(n=n+'<h3>- El campo "'+r+'" debe contener al menos dos palabras.</h3>')),""==n)return o;var a=document.getElementById("error_container_inside");a.innerHTML=n,a.style.display="block",e.preventDefault()}}]});return l}}}]),pmb_im.services.factory("locationAPI",["$http","$q","ApiImEndpoint","ApiDataEndpoint",function(e,t,n,o){var a="ubicacionesRestProd",r={};return r.searchLocationByStr=function(t){return e.get(n.url+"/"+a+"/calles",{method:"GET",params:{nombre:t}})},r.searchEsquinaByStr=function(t){return e.get(n.url+"/"+a+"/cruces/"+t.calle+"/",{params:{nombre:t.esquina}})},r.getLocationGeom=function(t){for(var o=n.url+"/"+a+r.getParamPathByTipo(t.tipo),i=0;i<t.pathParams.length;i++)o+="/"+t.pathParams[i];return e.get(o).then(function(e){return e.data})},r.getParamPathByTipo=function(e){var t={ESQUINA:"/esquina",DIRECCION:"/direccion"};return t[e]},r}]),pmb_im.services.factory("_",[function(){return window._}]),pmb_im.services.factory("UserService",["$http",function(e){var t={};return t.name=null,t.email=null,t.password=null,t.identity_document=null,t.phone="",t.picture_url="url(./img/icon-user-anonymous.png)",t.save_user_data=function(e,n,o,a,r,i){t.name=e,t.email=n,t.password=o,t.identity_document=a,t.phone=r,t.picture_url=i},t.erase_user_data=function(){t.name=null,t.email=null,t.password=null,t.identity_document=null,t.phone=null,t.picture_url=null},t.get_user_data=function(){},t.add_photo=function(e){t.picture_url=e},t.isLogged=function(){return null!=t.name&&""!=t.name},t}]),pmb_im.services.factory("ValidationService",["$http","$ionicPopup",function(e,t){return{validate_not_empty:function(e){return null!=e&&"undefined"!=e&&""!=e},validate_two_words:function(e){if(null!=e&&"undefined"!=e&&""!=e){var t=e.split(" ").filter(function(e){return""!==e});return t.length>1}return!1},validate_email:function(e){if(null!=e&&"undefined"!=e&&""!=e){var t=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)}return!1},validate_iddoc_uy:function(e){if(null!=e&&"undefined"!=e&&""!=e){e=e.replace(/\D/g,"");var t=e[e.length-1],n=0,o=0;if(e.length<=6)for(o=e.length;o<7;o++)e="0"+e;for(o=0;o<7;o++)n+=parseInt("2987634"[o])*parseInt(e[o])%10;var a;return a=n%10===0?0:10-n%10,t==a}return!1}}}]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImNvbnRyb2xsZXJzL2F1dG9jb21wbHRlLmN0cmwuanMiLCJjb250cm9sbGVycy9pbnRyby5jdHJsLmpzIiwiY29udHJvbGxlcnMvbWFwLmN0cmwuanMiLCJjb250cm9sbGVycy9wbWIuY3RybC5qcyIsInNlcnZpY2VzL2F1dGguc2VydmljZXMuanMiLCJzZXJ2aWNlcy9jYXRlZ29yaWVzLnNlcnZpY2UuanMiLCJzZXJ2aWNlcy9jb25maWcuc2VydmljZXMuanMiLCJzZXJ2aWNlcy9jb25uZWN0aXZpdHkuc2VydmljZXMuanMiLCJzZXJ2aWNlcy9jb250YWN0LnNlcnZpY2VzLmpzIiwic2VydmljZXMvY29udGFpbmVyLnNlcnZpY2UuanMiLCJzZXJ2aWNlcy9kYi5zZXJ2aWNlcy5qcyIsInNlcnZpY2VzL2Vycm9yLnNlcnZpY2VzLmpzIiwic2VydmljZXMvZmFxLnNlcnZpY2UuanMiLCJzZXJ2aWNlcy9sb2FkZXIuc2VydmljZXMuanMiLCJzZXJ2aWNlcy9sb2NhdGlvbnNTZXJ2aWNlLmpzIiwic2VydmljZXMvbWFwLnNlcnZpY2VzLmpzIiwic2VydmljZXMvcG1iLnNlcnZpY2UuanMiLCJzZXJ2aWNlcy9wb3B1cC5zZXJ2aWNlcy5qcyIsInNlcnZpY2VzL3ViaWNhY2lvbmVzLnNlcnZpY2VzLmpzIiwic2VydmljZXMvdW5kZXJzY29yZS5zZXJ2aWNlLmpzIiwic2VydmljZXMvdXNlci5zZXJ2aWNlcy5qcyIsInNlcnZpY2VzL3ZhbGlkYXRpb24uc2VydmljZXMuanMiXSwibmFtZXMiOlsicG1iX2ltIiwiY29udHJvbGxlcnMiLCJhbmd1bGFyIiwibW9kdWxlIiwic2VydmljZXMiLCJhcHAiLCJjb25zdGFudCIsInVybCIsInJ1biIsIiRpb25pY1BsYXRmb3JtIiwiJHJvb3RTY29wZSIsIiRjb3Jkb3ZhS2V5Ym9hcmQiLCJWRVJTSU9OIiwid2luZG93IiwicmVhZHkiLCJjb3Jkb3ZhIiwicGx1Z2lucyIsIktleWJvYXJkIiwiaGlkZUtleWJvYXJkQWNjZXNzb3J5QmFyIiwiaW9uaWMiLCJQbGF0Zm9ybSIsImlzRnVsbFNjcmVlbiIsIlN0YXR1c0JhciIsInN0eWxlRGVmYXVsdCIsImNvbmZpZyIsIiRzdGF0ZVByb3ZpZGVyIiwiJHVybFJvdXRlclByb3ZpZGVyIiwiJGNvbXBpbGVQcm92aWRlciIsIiRpb25pY0NvbmZpZ1Byb3ZpZGVyIiwiZGVidWdJbmZvRW5hYmxlZCIsInN0YXRlIiwiY2FjaGUiLCJhYnN0cmFjdCIsInRlbXBsYXRlVXJsIiwiY29udHJvbGxlciIsInZpZXdzIiwibWVudUNvbnRlbnQiLCJvdGhlcndpc2UiLCIkc2NvcGUiLCJsZWFmbGV0RGF0YSIsImxvY2F0aW9uQVBJIiwiaW9uQXV0b2NvbXBsZXRlRWxlbWVudCIsImVsZW1lbnQiLCJkb2N1bWVudCIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJiaW5kIiwib25DbGljayIsInNob3dNb2RhbCIsInNlYXJjaExvY2F0aW9uIiwicXVlcnkiLCJzZWFyY2hMb2NhdGlvbkJ5U3RyIiwiJHN0YXRlIiwiJGNvcmRvdmFHZW9sb2NhdGlvbiIsIiRzdGF0ZVBhcmFtcyIsIiRpb25pY1BvcHVwIiwiTG9jYXRpb25zU2VydmljZSIsIkRCU2VydmljZSIsImRiIiwiaW5pdERCIiwiaW5mbyIsInRoZW4iLCJjb25zb2xlIiwibG9nIiwiZ2VvbG9jYXRlIiwibG9jYXRlZCIsInBvc09wdGlvbnMiLCJkZXZpY2UiLCJ0aW1lb3V0IiwiZW5hYmxlSGlnaEFjY3VyYWN5IiwibWF4aW11bUFnZSIsImdldEN1cnJlbnRQb3NpdGlvbiIsInBvc2l0aW9uIiwic2F2ZV9pbml0aWFsX3Bvc2l0aW9uIiwiZ28iLCJlcnIiLCIkb24iLCIkc2NlIiwiXyIsIiRjb3Jkb3ZhRmlsZSIsIiRjb21waWxlIiwiJGlvbmljTW9kYWwiLCJDb25maWdTZXJ2aWNlIiwiQ29udGFjdFNlcnZpY2UiLCJQTUJTZXJ2aWNlIiwiQ29udGFpbmVyU2VydmljZSIsIk1hcFNlcnZpY2UiLCJGYXFTZXJ2aWNlIiwiQ2F0ZWdvcmllc1NlcnZpY2UiLCJBdXRoU2VydmljZSIsIlVzZXJTZXJ2aWNlIiwiJHRpbWVvdXQiLCIkbG9jYXRpb24iLCJFcnJvclNlcnZpY2UiLCIkaW9uaWNTbGlkZUJveERlbGVnYXRlIiwiJGlvbmljU2Nyb2xsRGVsZWdhdGUiLCJQb3BVcFNlcnZpY2UiLCJDb25uZWN0aXZpdHlTZXJ2aWNlIiwiJGNvcmRvdmFJbkFwcEJyb3dzZXIiLCIkaW50ZXJ2YWwiLCJmZWF0dXJlUmVwb3J0cyIsImJhc2VVUkwiLCJ1c2VyX2NhY2hlZF9pbWFnZSIsInJlcG9ydF9kZXRhaWxfaWQiLCJvbmVfdmFsdWVfcG9wdXAiLCJhYnVzZV9uYW1lIiwiYWJ1c2VfZW1haWwiLCJhYnVzZV9zdWJqZWN0IiwiYWJ1c2VfbWVzc2FnZSIsImFjdHVhbFNsaWRlckluZGV4Iiwic2V0X25ldHdvcmtfZXZlbnRzIiwiZmluZF9tZSIsIndhbGt0aHJvdWdoIiwib25IYXJkd2FyZUJhY2tCdXR0b24iLCJlIiwic3RvcFByb3BhZ2F0aW9uIiwiaGlkZV9zcGVjaWFsX2RpdnMiLCJvcGVuV2Vic2l0ZSIsIm9wdGlvbnMiLCJsb2NhdGlvbiIsImNsZWFyY2FjaGUiLCJ0b29sYmFyIiwib3BlbiIsImV2ZW50IiwiY3JlYXRlX29ubGluZV9tYXAiLCJhZGRQaW5zTGF5ZXIiLCJtYXAiLCJjZW50ZXIiLCJsYXQiLCJsbmciLCJ6b29tIiwiZGVmYXVsdHMiLCJ0aWxlTGF5ZXIiLCJtaW5ab29tIiwibWF4Wm9vbSIsInpvb21Db250cm9sUG9zaXRpb24iLCJtYXJrZXJzIiwiZXZlbnRzIiwiZW5hYmxlIiwibG9naWMiLCJjbGlja09uTWVudUljb24iLCJsaW5lc21lbnUiLCJnZXRFbGVtZW50QnlJZCIsImV4cGFuZGVkX21lbnUiLCJ0b2dnbGVDbGFzc09uRWxlbWVudCIsImNsYXNzTmFtZSIsImNsYXNzU3RyaW5nIiwibmFtZUluZGV4IiwiaW5kZXhPZiIsInN1YnN0ciIsImxlbmd0aCIsIm5leHQiLCJjdXJyZW50SW5kZXgiLCJwcmV2aW91cyIsInNjcm9sbE1lIiwiYW5jaG9yX2lkIiwiaGFzaCIsImhhbmRsZSIsIiRnZXRCeUhhbmRsZSIsImFuY2hvclNjcm9sbCIsInNldF9hY3RpdmVfb3B0aW9uIiwiYnV0dG9uaWQiLCJjb250YWluZXJfZGV0YWlscyIsIm5hdmJhY2siLCJuYXZpZ2F0aW9uX21lbnUiLCJhZGRNYXBDb250cm9scyIsInN0YXJ0UmVwb3J0RnJvbUNyb3NzaGFpcnMiLCJqc29uTGF5ZXIiLCJvbkVhY2hGZWF0dXJlIiwiZmVhdHVyZSIsImxheWVyIiwicHJvcGVydGllcyIsIm9uIiwic2VsZWN0ZWRfY29udGFpbmVyIiwiYnVpbGQiLCJ0YXJnZXQiLCJzZXRMYXRMbmciLCJnZW9tZXRyeSIsImNvb3JkaW5hdGVzIiwiY29udGFpbmVyRGV0YWlscyIsImJhY2tNZW51IiwibWVudSIsImdvVG9DZW50ZXIiLCJsb24iLCJsIiwiTCIsIkxheWVySlNPTiIsImxvY0FzR2VvSlNPTiIsIm1pblNoaWZ0IiwicHJlY2lzaW9uIiwiZ2V0TWFwIiwicmVtb3ZlTGF5ZXIiLCJhZGRMYXllciIsImxhc3RNYXJrZXJMYXllciIsInJlcG9ydHMiLCJkYXRhIiwiZmVhdHVyZXMiLCJlYWNoTGF5ZXIiLCJfbGF5ZXIiLCJpY29uIiwicGluX3VybCIsIm1hcmtlckljb24iLCJpY29uVXJsIiwiaWNvblNpemUiLCJpY29uQW5jaG9yIiwicG9wdXBBbmNob3IiLCJzZXRJY29uIiwidW5kZWZpbmVkIiwiR0lEIiwibG9uZ1RvIiwibGF0VG8iLCJsYXRGcm9tIiwiY29vcmRzIiwibGF0aXR1ZGUiLCJsb25nRnJvbSIsImxvbmdpdHVkZSIsImdldFJvYWQiLCJjZW50ZXJNYXBPbkNvb3JkcyIsImxhc3RSb2FkIiwibmF2X2JhY2siLCJzcGxpY2VXYXlwb2ludHMiLCJyZW1vdmVDb250cm9sIiwid2Fsa3Rocm91Z2hfbW9kYWwiLCJkb25lV2Fsa3Rocm91Z2giLCJnZXREb25lV2Fsa3Rocm91Z2giLCJkb2MiLCJzdGF0dXMiLCJvcGVuV2Fsa1Rocm91Z2hNb2RhbCIsIndhbGt0aHJvdWdoRnJvbU1lbnUiLCJjbG9zZU1haW5NZW51IiwiZnJvbVRlbXBsYXRlVXJsIiwic2NvcGUiLCJoYXJkd2FyZUJhY2tCdXR0b25DbG9zZSIsImFuaW1hdGlvbiIsIm1vZGFsIiwic2hvdyIsImZpbmlzaFdhbGt0aHJvdWdoIiwiaGlkZSIsInJlbW92ZSIsInNhdmVEb25lV2Fsa3Rocm91Z2giLCJvcGVuQ29udGFjdCIsIml0ZW1fbW9kYWwiLCJtYWluX21lbnVfbW9kYWwiLCJmb2N1c0ZpcnN0SW5wdXQiLCJvcGVuQ29udGFjdFN1Y2Nlc3MiLCJzZW5kX2NvbnRhY3RfcmVxdWVzdCIsIm5hbWUiLCJlbWFpbCIsInN1YmplY3QiLCJtZXNzYWdlIiwiZXJyb3JMYWJlbCIsImNoZWNrX2ZpZWxkIiwic2VuZF9jb250YWN0IiwidmFsdWUiLCJzZWxlY3RlZEluZGV4IiwicmVzcG9uc2UiLCJodHRwX2RhdGFfcmVzcG9uc2VfaXNfc3VjY2Vzc2Z1bF9hamF4IiwiZXJyb3JDb250YWluZXIiLCJvcGVuTWFpbk1lbnVGcm9tSXRlbSIsIm9wZW5NYWluTWVudSIsIkxhdEZyb20iLCJMb25nRnJvbSIsImNsb3NlUG9wdXAiLCJub3dfbWFya2VyIiwibWFya2VyIiwiYWRkVG8iLCJSb3V0aW5nIiwiY29udHJvbCIsIndheXBvaW50cyIsImxhdExuZyIsImxhbmd1YWdlIiwicm91dGVyIiwibWFwYm94IiwiY3JlYXRlTWFya2VyIiwiaSIsInN0YXJ0IiwibiIsImxpbmVPcHRpb25zIiwic3R5bGVzIiwiY29sb3IiLCJvcGFjaXR5Iiwid2VpZ2h0IiwiZml0U2VsZWN0ZWRSb3V0ZXMiLCJtb2RlbCIsImV4dGVybmFsTW9kZWwiLCJzZWxlY3RlZEl0ZW1zIiwicHJlc2VsZWN0ZWRTZWFyY2hJdGVtcyIsImNsaWNrZWRWYWx1ZU1vZGVsIiwicmVtb3ZlZFZhbHVlTW9kZWwiLCJpdGVtc1JlbW92ZWQiLCJjYWxsYmFjayIsInVzZXJfb3B0aW9ucyIsInN0eWxlIiwiZGlzcGxheSIsInNob3dfYW5vbnltb3VzX21lbnUiLCJzaG93X3VzZXJfbWVudSIsImh0bWwiLCJpbm5lckhUTUwiLCJoZWlnaHQiLCJ3aWR0aCIsImNyZWF0ZV9maWVsZF9hcnJheSIsInR5cGUiLCJmaWVsZCIsIkFycmF5Iiwic2lnbl9pbiIsInBhc3N3b3JkIiwiaXNPbmxpbmUiLCJmaWVsZHMiLCJwdXNoIiwiY2hlY2tfZmllbGRzIiwicmVzcCIsImh0dHBfcmVzcG9uc2VfaXNfc3VjY2Vzc2Z1bCIsInNhdmVfdXNlcl9kYXRhIiwiaWRlbnRpdHlfZG9jdW1lbnQiLCJwaG9uZSIsInBpY3R1cmVfdXJsIiwic2F2ZVVzZXIiLCJjbG9zZV9sb2dpbl9tb2RhbCIsInNldF91c2VyX3BpY3R1cmUiLCJzaG93X2Vycm9yX21lc3NhZ2UiLCJzdGF0dXNUZXh0Iiwic2hvd19hbGVydCIsInNpZ25faW5fYWpheCIsImh0dHBfcmVzcG9uc2VfaXNfc3VjY2Vzc2Z1bF9hamF4Iiwic2lnbl9vdXQiLCJlcmFzZV91c2VyX2RhdGEiLCJlcmFzZVVzZXIiLCJjaGVja191c2VyX2xvZ2dlZCIsInNldF9vZmZsaW5lX3VzZXIiLCJoYXNQaG90byIsInNlYXJjaF9zdHJlZXQiLCJwYXJlbnROb2RlIiwiY2xpY2siLCJMb2FkZXIiLCJyZXBvcnRCdXR0b24iLCJ0ZXh0IiwiaW5pdGlhbF9sYXQiLCJpbml0aWFsX2xuZyIsInNlYXJjaE1vZGUiLCJjYWxsZSIsImVzcXVpbmEiLCJsdWdhciIsImxvY2F0aW9uR2VvbVBhcmFtcyIsInRpcG8iLCJwYXRoUGFyYW1zIiwiaW5pdFJlcG9ydCIsIl9waW4iLCJfcGluSWNvbiIsImdldENlbnRlciIsImNsaWNrYWJsZSIsIlJlcG9ydFNlcnZpY2UiLCJfbmV3IiwiY3VycmVudCIsImlzTnVtZXJpYyIsImlzTmFOIiwicGFyc2VGbG9hdCIsImlzRmluaXRlIiwicHJvbWlzZVNlYXJjaCIsInRyaW0iLCJpdGVtcyIsIml0ZW0iLCJkZXNjVGlwbyIsIm5vbWJyZSIsImNvZGlnbyIsInNlYXJjaEVzcXVpbmFCeVN0ciIsInNlbGVjdGVkSXRlbSIsIml0ZW1zQ2xpY2tlZCIsImlvbkF1dG9jb21wbGV0ZUVsZW1lbnRTZWFyY2giLCJzdHJfdGlwbyIsImdldExvY2F0aW9uR2VvbSIsInJlc3VsdCIsImdvVG9QbGFjZSIsImV4dGVuZCIsImdlb20iLCJnZW9KU09OIiwiYXR0ciIsIml0ZW1zQ2FuY2VsZWQiLCJfaXRlbSIsIm51bVB1ZXJ0YSIsInBhcnNlSW50Iiwic2VhcmNoUXVlcnkiLCJOdW1iZXIiLCJpc0ludGVnZXIiLCJlcnJvciIsInNob3dBbGVydCIsInJlcyIsImZhY3RvcnkiLCIkaHR0cCIsIiRjb3Jkb3ZhRmlsZVRyYW5zZmVyIiwiZ2V0IiwicGFyYW1zIiwicGFzc3dvcmRfc2lnbl9pbiIsImNyZWF0ZV91c2VyIiwiZnVsbG5hbWUiLCJpZF9kb2MiLCJ1c2VyX3Bob25lIiwiZm9ybV9lbWFpbCIsInBhc3N3b3JkX3JlZ2lzdGVyIiwiY2hhbmdlX3Bhc3N3b3JkIiwibG9naW5fZW1haWwiLCJlZGl0X3VzZXIiLCJuZXdfZW1haWwiLCJ1c2VyX3BpY3R1cmVfdXJsIiwiZmlsZUtleSIsInRydXN0QWxsSG9zdHMiLCJ1cGxvYWQiLCJhbGwiLCJuZXdfcmVwb3J0X2xhdCIsIm5ld19yZXBvcnRfbG5nIiwiZm9ybWF0IiwiZ2V0Q2FjaGVkQ2F0ZWdvcmllcyIsImdldENhdGVnb3JpZXMiLCJDb25maWdPYmoiLCIkY29yZG92YU5ldHdvcmsiLCJpc1dlYlZpZXciLCJuYXZpZ2F0b3IiLCJvbkxpbmUiLCJpc09mZmxpbmUiLCJDb250YWluZXIiLCJfZGF0YSIsInRoaXMiLCJnZXRCeUlkIiwiaWQiLCJfZGVmYXVsdCIsInRpdGxlIiwiZGV0YWlsIiwibWF5X3Nob3dfbmFtZSIsImNhdGVnb3J5IiwicGMiLCJmaWxlIiwic3VibWl0X3NpZ25faW4iLCJyZW1lbWJlcl9tZSIsIl9hbGwiLCJwcm90b3R5cGUiLCIkcSIsInVzZXJfbmFtZSIsInVzZXJfZW1haWwiLCJ1c2VyX3Bhc3N3b3JkIiwidXNlcl9pZF9kb2MiLCJ1c2VyIiwiX2lkIiwiZ2V0VXNlciIsIl9yZXYiLCJfZGIiLCJwdXQiLCJQb3VjaERCIiwic2F2ZVJlcG9ydCIsInJlcG9ydCIsImRhdGUiLCJEYXRlIiwibmV3X3JlcG9ydF9pZCIsImdldEZ1bGxZZWFyIiwiZ2V0TW9udGgiLCJnZXREYXRlIiwiZ2V0TWlsbGlzZWNvbmRzIiwidXBkYXRlUmVwb3J0Iiwic2F2ZUNhdGVnb3JpZXMiLCJjYXRlZ29yaWVzIiwiZ2V0UmVwb3J0IiwicmVwb3J0SWQiLCJnZXRBbGxSZXBvcnRzIiwiYWxsRG9jcyIsImluY2x1ZGVfZG9jcyIsImF0dGFjaG1lbnRzIiwic3RhcnRrZXkiLCJlbmRrZXkiLCJkZWxldGVSZXBvcnQiLCJyZXBvcnRfaWQiLCJkZWxldGVHaXZlblJlcG9ydCIsIlZhbGlkYXRpb25TZXJ2aWNlIiwianNvblJlc3VsdCIsImVycm9yQ29udGFpbmVySWQiLCJlcnJvckRpdiIsImh0dHBfcmVzcG9uc2VfaXNfc3VjY2Vzc2Z1bF9wb3B1cCIsImFsZXJ0UG9wdXAiLCJhbGVydCIsInRlbXBsYXRlIiwiaHR0cF9kYXRhX3Jlc3BvbnNlX2lzX3N1Y2Nlc3NmdWwiLCJzaG93X2Vycm9yX21lc3NhZ2VfcG9wdXAiLCJlcnJvcnMiLCJmb3JFYWNoIiwidmFsaWRhdGVfbm90X2VtcHR5IiwidmFsaWRhdGVfZW1haWwiLCJ2YWxpZGF0ZV9pZGRvY191eSIsInZhbGlkYXRlX3R3b193b3JkcyIsImxhYmVsIiwib2siLCJib3JkZXJDb2xvciIsImFqYXgiLCIkaW9uaWNMb2FkaW5nIiwiTE9BREVSQVBJIiwic2hvd0xvYWRpbmciLCJoaWRlTG9hZGluZyIsInRvZ2dsZUxvYWRpbmdXaXRoTWVzc2FnZSIsInNlbGYiLCJjb25maXJtUG9wdXAiLCJjb25maXJtIiwiX3RpdGxlIiwiX3RlbXBsYXRlIiwibG9jYXRpb25zT2JqIiwic2F2ZV9uZXdfcmVwb3J0X3Bvc2l0aW9uIiwic2F2ZWRMb2NhdGlvbnMiLCJwcm9qNCIsImRlZnMiLCJtYXBTZXJ2aWNlIiwiX3BsYWNlIiwiX2dlb0pzb24iLCJjcnMiLCJfbGF0bG5nIiwiUHJvaiIsImdlb0pzb24iLCJwb2ludFRvTGF5ZXIiLCJsYXRsbmciLCJzZXRWaWV3IiwiTGF0TG5nIiwiYmFzZSIsImZvcm0iLCJmaWxlTmFtZSIsImNodW5rZWRNb2RlIiwibWltZVR5cGUiLCJoZWFkZXJzIiwiQ29ubmVjdGlvbiIsInN1YnNjcmliZSIsInJ6bnZ5IiwiYWJ1c2UiLCJlbSIsImRlbGV0ZVVSTCIsImNvbW1lbnQiLCJhZGRfYWxlcnQiLCJmaXhlZCIsInN1Ym1pdF91cGRhdGUiLCJ1cGRhdGUiLCJmb3JtX3J6bnZ5IiwiYWxlcnRfdGl0bGUiLCJhbGVydF9tZXNzYWdlIiwiYXNrRm9yT25lVmFsdWVQb3BVcCIsImZpZWxkX25hbWUiLCJ2YWxpZGF0aW9uVHlwZSIsIm15UG9wdXAiLCJzdWJUaXRsZSIsImJ1dHRvbnMiLCJvblRhcCIsInByZXZlbnREZWZhdWx0IiwiQXBpSW1FbmRwb2ludCIsIkFwaURhdGFFbmRwb2ludCIsInJlc3RQcmVmZml4IiwiX2xvY2F0aW9uIiwibWV0aG9kIiwiZ2V0UGFyYW1QYXRoQnlUaXBvIiwiX3RpcG8iLCJyZXN0R2VvRGF0YVNlcnZpY2VQYXRoIiwiRVNRVUlOQSIsIkRJUkVDQ0lPTiIsIlVzZXJPYmoiLCJnZXRfdXNlcl9kYXRhIiwiYWRkX3Bob3RvIiwiaXNMb2dnZWQiLCJ2YWx1ZXMiLCJzcGxpdCIsImZpbHRlciIsInYiLCJyZSIsInRlc3QiLCJyZXBsYWNlIiwiZGlnIiwiYSJdLCJtYXBwaW5ncyI6IkFBT0EsR0FBSUEsU0FDRkMsWUFBYUMsUUFBUUMsT0FBTyx5QkFDNUJDLFNBQVVGLFFBQVFDLE9BQU8sc0JBRzNCSCxRQUFPSyxJQUFNSCxRQUFRQyxPQUFPLFVBQVcsUUFBUSxlQUFlLG1CQUFtQixvQkFBcUIscUJBQXNCLGtCQUFtQixZQUFhLG9CQUUzSkcsU0FBUyxpQkFDUkMsSUFBSyxpQ0FHTkQsU0FBUyxtQkFDUkMsSUFBSyxVQUlOQyxLQUFBLGlCQUFBLGFBQUEs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YUFBUEEsR0FBNkIsSUFBUEEsRUFBVSxDQUM5Q0EsRUFBUUEsRUFBTXNULFFBQVEsTUFBTyxHQUM3QixJQUFJQyxHQUFNdlQsRUFBTUEsRUFBTXZHLE9BQVMsR0FDM0IrWixFQUFJLEVBQU9uUyxFQUFJLENBQ25CLElBQUdyQixFQUFNdkcsUUFBVSxFQUNqQixJQUFJNEgsRUFBSXJCLEVBQU12RyxPQUFRNEgsRUFBSSxFQUFHQSxJQUMzQnJCLEVBQVEsSUFBTUEsQ0FHbEIsS0FBSXFCLEVBQUksRUFBR0EsRUFBSSxFQUFHQSxJQUNoQm1TLEdBQU0xTCxTQUFTLFVBQVV6RyxJQUFNeUcsU0FBUzlILEVBQU1xQixJQUFPLEVBRXZELElBQUlnRyxFQU1KLE9BSkVBLEdBRENtTSxFQUFFLEtBQU8sRUFDRCxFQUVBLEdBQUtBLEVBQUksR0FFakJELEdBQU9sTSxFQU1aLE9BQU8iLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gSW9uaWMgU3RhcnRlciBBcHBcblxuLy8gYW5ndWxhci5tb2R1bGUgaXMgYSBnbG9iYWwgcGxhY2UgZm9yIGNyZWF0aW5nLCByZWdpc3RlcmluZyBhbmQgcmV0cmlldmluZyBBbmd1bGFyIG1vZHVsZXNcbi8vICdwbWJfaW0nIGlzIHRoZSBuYW1lIG9mIHRoaXMgYW5ndWxhciBtb2R1bGUgZXhhbXBsZSAoYWxzbyBzZXQgaW4gYSA8Ym9keT4gYXR0cmlidXRlIGluIGluZGV4Lmh0bWwpXG4vLyB0aGUgMm5kIHBhcmFtZXRlciBpcyBhbiBhcnJheSBvZiAncmVxdWlyZXMnXG4vLyAnc3RhcnRlci5zZXJ2aWNlcycgaXMgZm91bmQgaW4gc2VydmljZXMuanNcbi8vICdzdGFydGVyLmNvbnRyb2xsZXJzJyBpcyBmb3VuZCBpbiBjb250cm9sbGVycy5qc1xudmFyIHBtYl9pbSA9IHtcbiAgY29udHJvbGxlcnM6IGFuZ3VsYXIubW9kdWxlKCdwbWJfaW0uY29udHJvbGxlcnMnLCBbXSksXG4gIHNlcnZpY2VzOiBhbmd1bGFyLm1vZHVsZSgncG1iX2ltLnNlcnZpY2VzJywgW10pXG59O1xuXG5wbWJfaW0uYXBwID0gYW5ndWxhci5tb2R1bGUoJ3BtYl9pbScsIFsnaW9uaWMnLCdpb25pYy53aXphcmQnLCdpb24tYXV0b2NvbXBsZXRlJywnbGVhZmxldC1kaXJlY3RpdmUnLCAncG1iX2ltLmNvbnRyb2xsZXJzJywgJ3BtYl9pbS5zZXJ2aWNlcycsICduZ0NvcmRvdmEnLCAnaW9uaWMtY2FjaGUtc3JjJ10pXG5cbi5jb25zdGFudCgnQXBpSW1FbmRwb2ludCcsIHtcbiAgdXJsOiAnaHR0cDovL3d3dy5tb250ZXZpZGVvLmd1Yi51eSdcbn0pXG5cbi5jb25zdGFudCgnQXBpRGF0YUVuZHBvaW50Jywge1xuICB1cmw6ICcvZGF0YSdcbn0pXG5cblxuLnJ1bihmdW5jdGlvbigkaW9uaWNQbGF0Zm9ybSwgJHJvb3RTY29wZSwgJGNvcmRvdmFLZXlib2FyZCkge1xuICAkcm9vdFNjb3BlLlZFUlNJT04gPSB3aW5kb3cuVkVSU0lPTjtcbiAgJGlvbmljUGxhdGZvcm0ucmVhZHkoZnVuY3Rpb24oKSB7XG4gICAgLy8gSGlkZSB0aGUgYWNjZXNzb3J5IGJhciBieSBkZWZhdWx0IChyZW1vdmUgdGhpcyB0byBzaG93IHRoZSBhY2Nlc3NvcnkgYmFyIGFib3ZlIHRoZSBrZXlib2FyZFxuICAgIC8vIGZvciBmb3JtIGlucHV0cylcbiAgICBpZiAod2luZG93LmNvcmRvdmEgJiYgd2luZG93LmNvcmRvdmEucGx1Z2lucy5LZXlib2FyZCkge1xuICAgICAgY29yZG92YS5wbHVnaW5zLktleWJvYXJkLmhpZGVLZXlib2FyZEFjY2Vzc29yeUJhcih0cnVlKTtcbiAgICAgIC8vY29yZG92YS5wbHVnaW5zLktleWJvYXJkLmRpc2FibGVTY3JvbGwoZmFsc2UpO1xuICAgIH1cbiAgICAvLyRjb3Jkb3ZhS2V5Ym9hcmQuaGlkZUFjY2Vzc29yeUJhcih0cnVlKVxuICAgIC8vJGNvcmRvdmFLZXlib2FyZC5kaXNhYmxlU2Nyb2xsKGZhbHNlKVxuICAgIGlvbmljLlBsYXRmb3JtLmlzRnVsbFNjcmVlbiA9IGZhbHNlO1xuICAgIGlmICh3aW5kb3cuU3RhdHVzQmFyKSB7XG4gICAgICAvLyBvcmcuYXBhY2hlLmNvcmRvdmEuc3RhdHVzYmFyIHJlcXVpcmVkXG4gICAgICBTdGF0dXNCYXIuc3R5bGVEZWZhdWx0KCk7XG4gICAgfVxuICB9KTtcbn0pXG5cbi5jb25maWcoZnVuY3Rpb24oJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlciwgJGNvbXBpbGVQcm92aWRlciwgJGlvbmljQ29uZmlnUHJvdmlkZXIpIHtcbiAgJGNvbXBpbGVQcm92aWRlci5kZWJ1Z0luZm9FbmFibGVkKGZhbHNlKTtcbiAgLy8kaW9uaWNDb25maWdQcm92aWRlci5zY3JvbGxpbmcuanNTY3JvbGxpbmcodHJ1ZSk7XG5cbiAgLy8gSW9uaWMgdXNlcyBBbmd1bGFyVUkgUm91dGVyIHdoaWNoIHVzZXMgdGhlIGNvbmNlcHQgb2Ygc3RhdGVzXG4gIC8vIExlYXJuIG1vcmUgaGVyZTogaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXItdWkvdWktcm91dGVyXG4gIC8vIFNldCB1cCB0aGUgdmFyaW91cyBzdGF0ZXMgd2hpY2ggdGhlIGFwcCBjYW4gYmUgaW4uXG4gIC8vIEVhY2ggc3RhdGUncyBjb250cm9sbGVyIGNhbiBiZSBmb3VuZCBpbiBjb250cm9sbGVycy5qc1xuICAkc3RhdGVQcm92aWRlclxuXG4uc3RhdGUoJ2FwcCcsIHtcbiAgICBjYWNoZTogZmFsc2UsXG4gICAgdXJsOiBcIi9hcHBcIixcbiAgICBhYnN0cmFjdDogdHJ1ZSxcbiAgICB0ZW1wbGF0ZVVybDogXCJ0ZW1wbGF0ZXMvbWVudS5odG1sXCIsXG4gICAgY29udHJvbGxlcjogJ01hcENvbnRyb2xsZXInXG4gIH0pXG5cbi5zdGF0ZSgnYXBwLm1hcCcsIHtcbiAgICBjYWNoZTogZmFsc2UsXG4gICAgdXJsOiBcIi9tYXAvXCIsXG4gICAgdmlld3M6IHtcbiAgICAgICdtZW51Q29udGVudCcgOntcbiAgICAgICAgdGVtcGxhdGVVcmw6IFwidGVtcGxhdGVzL21hcC5odG1sXCIsXG4gICAgICAgIGNvbnRyb2xsZXIgOiBcIlBNQkN0cmxcIlxuICAgICAgfVxuICAgIH1cbiAgfSlcblxuLnN0YXRlKCdhcHAuaW50cm8nLCB7XG4gIGNhY2hlOiBmYWxzZSxcbiAgdXJsOiBcIi9pbnRyb1wiLFxuICB2aWV3czoge1xuICAgICdtZW51Q29udGVudCcgOntcbiAgICAgIHRlbXBsYXRlVXJsOiBcInRlbXBsYXRlcy9pbnRyby5odG1sXCIsXG4gICAgICBjb250cm9sbGVyIDogXCJJbnRyb0N0cmxcIlxuICAgIH1cbiAgfVxufSlcblxuLy8gaWYgbm9uZSBvZiB0aGUgYWJvdmUgc3RhdGVzIGFyZSBtYXRjaGVkLCB1c2UgdGhpcyBhcyB0aGUgZmFsbGJhY2tcbiR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoJy9hcHAvaW50cm8nKTtcblxufSk7XG4iLCJwbWJfaW0uY29udHJvbGxlcnMuY29udHJvbGxlcignQXV0b0NvbXBsZXRlQ3RybCcsIFsnJHNjb3BlJywgJ2xlYWZsZXREYXRhJywgJ2xvY2F0aW9uQVBJJywgZnVuY3Rpb24oJHNjb3BlLCBsZWFmbGV0RGF0YSwgbG9jYXRpb25BUEkpIHtcblxuXG4gICRzY29wZS5pb25BdXRvY29tcGxldGVFbGVtZW50ID0gYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJpb24tYXV0b2NvbXBsZXRlXCIpKTtcbiAgJHNjb3BlLmlvbkF1dG9jb21wbGV0ZUVsZW1lbnQuYmluZCgndG91Y2hlbmQgY2xpY2sgZm9jdXMnLCAkc2NvcGUub25DbGljayk7XG5cbiAgJHNjb3BlLm9uQ2xpY2sgPSBmdW5jdGlvbigpIHtcblxuICAgICRzY29wZS5pb25BdXRvY29tcGxldGVFbGVtZW50LmNvbnRyb2xsZXIoJ2lvbkF1dG9jb21wbGV0ZScpLnNob3dNb2RhbCgpO1xuXG5cbiAgfTtcblxuXG5cbiAgJHNjb3BlLnNlYXJjaExvY2F0aW9uID0gZnVuY3Rpb24ocXVlcnkpIHtcbiAgICBpZiAocXVlcnkpIHtcbiAgICAgIC8vY29uc29sZS5sb2coXCJxdWVyeT0gXCIgKyBxdWVyeSk7XG4gICAgICByZXR1cm4gbG9jYXRpb25BUEkuc2VhcmNoTG9jYXRpb25CeVN0cihxdWVyeSk7XG5cbiAgICB9XG4gIH07XG5cblxufV0pO1xuIiwicG1iX2ltLmNvbnRyb2xsZXJzLmNvbnRyb2xsZXIoJ0ludHJvQ3RybCcsIFsnJHNjb3BlJywgJyRzdGF0ZScsXG4gICckY29yZG92YUdlb2xvY2F0aW9uJyxcbiAgJyRzdGF0ZVBhcmFtcycsXG4gICckaW9uaWNQbGF0Zm9ybScsXG4gICckaW9uaWNQb3B1cCcsXG4gICdMb2NhdGlvbnNTZXJ2aWNlJyxcbiAgJ0RCU2VydmljZScsXG4gIGZ1bmN0aW9uKCRzY29wZSwgJHN0YXRlLCAkY29yZG92YUdlb2xvY2F0aW9uLCAkc3RhdGVQYXJhbXMsICRpb25pY1BsYXRmb3JtLCAkaW9uaWNQb3B1cCwgTG9jYXRpb25zU2VydmljZSwgREJTZXJ2aWNlKSB7XG5cbiAgdmFyIGRiID0gREJTZXJ2aWNlLmluaXREQigpO1xuICBkYi5pbmZvKCkudGhlbihjb25zb2xlLmxvZy5iaW5kKGNvbnNvbGUpKTtcblxuICAkc2NvcGUuZ2VvbG9jYXRlID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgbG9jYXRlZCA9IGZhbHNlO1xuICAgICAgLypzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgIGlmKCFsb2NhdGVkKXtcbiAgICAgICAgICAkc3RhdGUuZ28oXCJhcHAubWFwXCIpO1xuICAgICAgICB9XG4gICAgICB9LCA0MDAwKTsqL1xuICAgICAgaW9uaWMuUGxhdGZvcm0ucmVhZHkoZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBkZXZpY2UgPSBpb25pYy5QbGF0Zm9ybS5kZXZpY2UoKTtcbiAgICAgICAgLy9hbGVydChkZXZpY2UucGxhdGZvcm0pO1xuICAgICAgICB2YXIgcG9zT3B0aW9ucyA9IHt0aW1lb3V0OiAzNTAwLCBlbmFibGVIaWdoQWNjdXJhY3k6IHRydWUsIG1heGltdW1BZ2U6NjAwMDB9O1xuICAgICAgICAkY29yZG92YUdlb2xvY2F0aW9uXG4gICAgICAgICAgLmdldEN1cnJlbnRQb3NpdGlvbihwb3NPcHRpb25zKVxuICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChwb3NpdGlvbikge1xuICAgICAgICAgICAgLy9hbGVydChcInNhbGlvIHBvciBlbCB0cnVlXCIpO1xuICAgICAgICAgICAgbG9jYXRlZCA9IHRydWU7XG4gICAgICAgICAgICBMb2NhdGlvbnNTZXJ2aWNlLnNhdmVfaW5pdGlhbF9wb3NpdGlvbihwb3NpdGlvbik7XG4gICAgICAgICAgICAkc3RhdGUuZ28oXCJhcHAubWFwXCIpO1xuICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgLy8gZXJyb3JcbiAgICAgICAgICAgIC8vYWxlcnQoXCJzYWxpbyBwb3IgZWwgZXJyb3JcIik7XG4gICAgICAgICAgICAkc3RhdGUuZ28oXCJhcHAubWFwXCIpO1xuICAgICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICB9O1xuXG4gICAkc2NvcGUuJG9uKCckaW9uaWNWaWV3LmVudGVyJywgZnVuY3Rpb24oKXsgLy9UaGlzIGlzIGZpcmVkIHR3aWNlIGluIGEgcm93XG4gICAgICAgJHNjb3BlLmdlb2xvY2F0ZSgpO1xuICAgfSk7XG5cbiAgfVxuXSk7XG4iLCJwbWJfaW0uY29udHJvbGxlcnMuY29udHJvbGxlcignTWFwQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRzY2UnLCAnXycsXG4gICckY29yZG92YUZpbGUnLFxuICAnJGNvcmRvdmFHZW9sb2NhdGlvbicsXG4gICckY29tcGlsZScsXG4gICckc3RhdGUnLFxuICAnJHN0YXRlUGFyYW1zJyxcbiAgJyRpb25pY01vZGFsJyxcbiAgJyRpb25pY1BvcHVwJyxcbiAgJ2xlYWZsZXREYXRhJyxcbiAgJ0NvbmZpZ1NlcnZpY2UnLFxuICAnQ29udGFjdFNlcnZpY2UnLFxuICAnUE1CU2VydmljZScsXG4gICdMb2NhdGlvbnNTZXJ2aWNlJyxcbiAgJ0NvbnRhaW5lclNlcnZpY2UnLFxuICAnTWFwU2VydmljZScsXG4gICdGYXFTZXJ2aWNlJyxcbiAgJ0NhdGVnb3JpZXNTZXJ2aWNlJyxcbiAgJ0F1dGhTZXJ2aWNlJyxcbiAgJ1VzZXJTZXJ2aWNlJyxcbiAgJ0RCU2VydmljZScsXG4gICckdGltZW91dCcsXG4gICckbG9jYXRpb24nLFxuICAnRXJyb3JTZXJ2aWNlJyxcbiAgJyRpb25pY1NsaWRlQm94RGVsZWdhdGUnLFxuICAnJGlvbmljU2Nyb2xsRGVsZWdhdGUnLFxuICAnUG9wVXBTZXJ2aWNlJyxcbiAgJyRpb25pY1BsYXRmb3JtJyxcbiAgJ0Nvbm5lY3Rpdml0eVNlcnZpY2UnLFxuICAnJGNvcmRvdmFJbkFwcEJyb3dzZXInLFxuICAnJGludGVydmFsJyxcbiAgJyRjb3Jkb3ZhS2V5Ym9hcmQnLFxuICBmdW5jdGlvbihcbiAgICAkc2NvcGUsXG4gICAgJHNjZSxcbiAgICBfLFxuICAgICRjb3Jkb3ZhRmlsZSxcbiAgICAkY29yZG92YUdlb2xvY2F0aW9uLFxuICAgICRjb21waWxlLFxuICAgICRzdGF0ZSxcbiAgICAkc3RhdGVQYXJhbXMsXG4gICAgJGlvbmljTW9kYWwsXG4gICAgJGlvbmljUG9wdXAsXG4gICAgbGVhZmxldERhdGEsXG4gICAgQ29uZmlnU2VydmljZSxcbiAgICBDb250YWN0U2VydmljZSxcbiAgICBQTUJTZXJ2aWNlLFxuICAgIExvY2F0aW9uc1NlcnZpY2UsXG4gICAgQ29udGFpbmVyU2VydmljZSxcbiAgICBNYXBTZXJ2aWNlLFxuICAgIEZhcVNlcnZpY2UsXG4gICAgQ2F0ZWdvcmllc1NlcnZpY2UsXG4gICAgQXV0aFNlcnZpY2UsXG4gICAgVXNlclNlcnZpY2UsXG4gICAgREJTZXJ2aWNlLFxuICAgICR0aW1lb3V0LFxuICAgICRsb2NhdGlvbixcbiAgICBFcnJvclNlcnZpY2UsXG4gICAgJGlvbmljU2xpZGVCb3hEZWxlZ2F0ZSxcbiAgICAkaW9uaWNTY3JvbGxEZWxlZ2F0ZSxcbiAgICBQb3BVcFNlcnZpY2UsXG4gICAgJGlvbmljUGxhdGZvcm0sXG4gICAgQ29ubmVjdGl2aXR5U2VydmljZSxcbiAgICAkY29yZG92YUluQXBwQnJvd3NlcixcbiAgICAkaW50ZXJ2YWwsXG4gICAgJGNvcmRvdmFLZXlib2FyZFxuICApIHtcblxuICAgICAgLyoqXG4gICAgICogT25jZSBzdGF0ZSBsb2FkZWQsIGdldCBwdXQgbWFwIG9uIHNjb3BlLlxuICAgICAqL1xuICAgICRzY29wZS5mZWF0dXJlUmVwb3J0cyA9IHt9O1xuICAgICRzY29wZS5iYXNlVVJMID0gQ29uZmlnU2VydmljZS5iYXNlVVJMO1xuICAgICRzY29wZS51c2VyX2NhY2hlZF9pbWFnZSA9IFwiXCI7XG4gICAgJHNjb3BlLnJlcG9ydF9kZXRhaWxfaWQgPSBudWxsO1xuICAgICRzY29wZS5vbmVfdmFsdWVfcG9wdXAgPSBudWxsO1xuICAgICRzY29wZS5hYnVzZV9uYW1lID0gbnVsbDtcbiAgICAkc2NvcGUuYWJ1c2VfZW1haWwgPSBudWxsO1xuICAgICRzY29wZS5hYnVzZV9zdWJqZWN0ID0gbnVsbDtcbiAgICAkc2NvcGUuYWJ1c2VfbWVzc2FnZSA9IG51bGw7XG5cbiAgICAkc2NvcGUuYWN0dWFsU2xpZGVySW5kZXg9MDtcblxuICAgICRzY29wZS4kb24oXCIkaW9uaWNWaWV3LmJlZm9yZUVudGVyXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgREJTZXJ2aWNlLmluaXREQigpO1xuICAgICAgJHNjb3BlLnNldF9uZXR3b3JrX2V2ZW50cygpO1xuICAgICAgJHNjb3BlLmZpbmRfbWUoKTtcbiAgICAgICRzY29wZS53YWxrdGhyb3VnaCgpO1xuICAgIH0pO1xuXG4gICAgJGlvbmljUGxhdGZvcm0ub25IYXJkd2FyZUJhY2tCdXR0b24oZnVuY3Rpb24oKSB7XG4gICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAkc2NvcGUuaGlkZV9zcGVjaWFsX2RpdnM7XG4gICAgfSk7XG5cbiAgICAkc2NvcGUub3BlbldlYnNpdGUgPSBmdW5jdGlvbih1cmwpIHtcbiAgICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgIGxvY2F0aW9uOiAnbm8nLFxuICAgICAgICAgICAgICAgIGNsZWFyY2FjaGU6ICd5ZXMnLFxuICAgICAgICAgICAgICAgIHRvb2xiYXI6ICdubydcbiAgICAgICAgICAgIH07XG5cbiAgICAgJGNvcmRvdmFJbkFwcEJyb3dzZXIub3Blbih1cmwsICdfYmxhbmsnLCBvcHRpb25zKVxuICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAvLyBzdWNjZXNzXG4gICAgICAgICAgfSlcbiAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIC8vIGVycm9yXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgICRzY29wZS5zZXRfbmV0d29ya19ldmVudHMgPSBmdW5jdGlvbigpIHtcbiAgICAgICRzY29wZS5jcmVhdGVfb25saW5lX21hcCgpO1xuICAgICAgJHNjb3BlLmFkZFBpbnNMYXllcigpO1xuICAgICAgJHNjb3BlLm1hcC5jZW50ZXIgPSB7XG4gICAgICAgICAgbGF0OiAtMzQuOTAxMTEzLFxuICAgICAgICAgIGxuZzogLTU2LjE2NDUzMSxcbiAgICAgICAgICB6b29tOiAxOFxuICAgICAgICB9O1xuICAgIH07XG5cbiAgICAkc2NvcGUuY3JlYXRlX29ubGluZV9tYXAgPSBmdW5jdGlvbigpe1xuICAgICAgaWYoJHNjb3BlLm1hcCE9bnVsbCl7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgICRzY29wZS5tYXAgPSB7XG4gICAgICAgIGRlZmF1bHRzOiB7XG4gICAgICAgICAgdGlsZUxheWVyOiAnaHR0cHM6Ly97c30udGlsZS5vcGVuc3RyZWV0bWFwLm9yZy97en0ve3h9L3t5fS5wbmcnLFxuICAgICAgICAgIG1pblpvb206IDEwLFxuICAgICAgICAgIG1heFpvb206IDE4LFxuICAgICAgICAgIHpvb21Db250cm9sUG9zaXRpb246ICd0b3BsZWZ0JyxcbiAgICAgICAgfSxcbiAgICAgICAgbWFya2Vyczoge30sXG4gICAgICAgIGV2ZW50czoge1xuICAgICAgICAgIG1hcDoge1xuICAgICAgICAgICAgZW5hYmxlOiBbJ2NvbnRleHQnXSxcbiAgICAgICAgICAgIGxvZ2ljOiAnZW1pdCdcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfTtcblxuICAgICRzY29wZS5jbGlja09uTWVudUljb24gPSBmdW5jdGlvbigpe1xuICAgICAgdmFyIGxpbmVzbWVudSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibmF2LWljb24tbGluZXNcIik7XG4gICAgICB2YXIgZXhwYW5kZWRfbWVudSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZXhwYW5kZWRfbWVudVwiKTtcbiAgICAgICRzY29wZS50b2dnbGVDbGFzc09uRWxlbWVudChsaW5lc21lbnUsXCJvcGVuXCIpO1xuICAgICAgJHNjb3BlLnRvZ2dsZUNsYXNzT25FbGVtZW50KGV4cGFuZGVkX21lbnUsXCJvcGVuXCIpO1xuICAgIH07XG5cblxuICAgIHZhciBMb2NhdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIExvY2F0aW9uKSkgcmV0dXJuIG5ldyBMb2NhdGlvbigpO1xuICAgICAgdGhpcy5sYXQgPSBcIlwiO1xuICAgICAgdGhpcy5sbmcgPSBcIlwiO1xuICAgICAgdGhpcy5uYW1lID0gXCJcIjtcbiAgICB9O1xuXG4gICRzY29wZS50b2dnbGVDbGFzc09uRWxlbWVudCA9IGZ1bmN0aW9uIChlbGVtZW50LCBjbGFzc05hbWUpe1xuICAgIGlmICghZWxlbWVudCB8fCAhY2xhc3NOYW1lKXtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgY2xhc3NTdHJpbmcgPSBlbGVtZW50LmNsYXNzTmFtZSwgbmFtZUluZGV4ID0gY2xhc3NTdHJpbmcuaW5kZXhPZihjbGFzc05hbWUpO1xuICAgIGlmIChuYW1lSW5kZXggPT0gLTEpIHtcbiAgICAgICAgY2xhc3NTdHJpbmcgKz0gJyAnICsgY2xhc3NOYW1lO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY2xhc3NTdHJpbmcgPSBjbGFzc1N0cmluZy5zdWJzdHIoMCwgbmFtZUluZGV4KSArIGNsYXNzU3RyaW5nLnN1YnN0cihuYW1lSW5kZXgrY2xhc3NOYW1lLmxlbmd0aCk7XG4gICAgfVxuICAgIGVsZW1lbnQuY2xhc3NOYW1lID0gY2xhc3NTdHJpbmc7XG4gIH07XG5cbiAgJHNjb3BlLm5leHQgPSBmdW5jdGlvbigpIHtcbiAgICAkaW9uaWNTbGlkZUJveERlbGVnYXRlLm5leHQoKTtcbiAgICAkc2NvcGUuYWN0dWFsU2xpZGVySW5kZXggPSAkaW9uaWNTbGlkZUJveERlbGVnYXRlLmN1cnJlbnRJbmRleCgpO1xuICB9O1xuXG4gICRzY29wZS5wcmV2aW91cyA9IGZ1bmN0aW9uKCkge1xuICAgICRpb25pY1NsaWRlQm94RGVsZWdhdGUucHJldmlvdXMoKTtcbiAgICAkc2NvcGUuYWN0dWFsU2xpZGVySW5kZXggPSAkaW9uaWNTbGlkZUJveERlbGVnYXRlLmN1cnJlbnRJbmRleCgpO1xuICB9O1xuXG5cbiAgICAkc2NvcGUuc2Nyb2xsTWUgPSBmdW5jdGlvbihhbmNob3JfaWQpe1xuICAgICAgJGxvY2F0aW9uLmhhc2goYW5jaG9yX2lkKTtcbiAgICAgIHZhciBoYW5kbGUgID0gJGlvbmljU2Nyb2xsRGVsZWdhdGUuJGdldEJ5SGFuZGxlKCdjb250ZW50Jyk7XG4gICAgICBoYW5kbGUuYW5jaG9yU2Nyb2xsKCk7XG4gICAgfVxuXG4gICAgJHNjb3BlLnNldF9hY3RpdmVfb3B0aW9uID0gZnVuY3Rpb24oYnV0dG9uaWQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAkc2NvcGUuaGlkZV9zcGVjaWFsX2RpdnMgPSBmdW5jdGlvbigpe1xuICAgICAgdmFyIGNvbnRhaW5lcl9kZXRhaWxzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb250YWluZXJfZGV0YWlsc1wiKTtcbiAgICAgIGlmKGNvbnRhaW5lcl9kZXRhaWxzKXtcbiAgICAgICAgY29udGFpbmVyX2RldGFpbHMuY2xhc3NOYW1lID0gXCJcIjtcbiAgICAgIH1cbiAgICAgIHZhciBuYXZiYWNrID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJuYXZpZ2F0aW9uX2JhY2tcIik7XG4gICAgICBpZihuYXZiYWNrKXtcbiAgICAgICAgbmF2YmFjay5jbGFzc05hbWUgPSBcImhpZGRlblwiO1xuICAgICAgfVxuICAgICAgdmFyIG5hdmlnYXRpb25fbWVudSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibmF2aWdhdGlvbl9tZW51XCIpO1xuICAgICAgaWYobmF2aWdhdGlvbl9tZW51KXtcbiAgICAgICAgbmF2aWdhdGlvbl9tZW51LmNsYXNzTmFtZSA9IFwiXCI7XG4gICAgICB9XG4gICAgfVxuXG5cbiAgICAkc2NvcGUuYWRkTWFwQ29udHJvbHMgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgJHNjb3BlLnN0YXJ0UmVwb3J0RnJvbUNyb3NzaGFpcnMgPSBmdW5jdGlvbigpe1xuICAgIH1cblxuICAgICRzY29wZS5hZGRQaW5zTGF5ZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmKCRzY29wZS5qc29uTGF5ZXIhPW51bGwpe1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICB2YXIgYmFzZVVSTCA9IENvbmZpZ1NlcnZpY2UuYmFzZVVSTDtcbiAgICAgICAgb25FYWNoRmVhdHVyZSA9IGZ1bmN0aW9uKGZlYXR1cmUsIGxheWVyKSB7XG4gICAgICAgICAgdmFyIGh0bWwsIHJlcG9ydElkLCBkZXNjcmlwY2lvbjtcbiAgICAgICAgICBpZiAoZmVhdHVyZS5wcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICBsYXllci5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnNlbGVjdGVkX2NvbnRhaW5lciA9IENvbnRhaW5lclNlcnZpY2UuYnVpbGQoZS50YXJnZXQuZmVhdHVyZS5wcm9wZXJ0aWVzKTtcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2VsZWN0ZWRfY29udGFpbmVyLnNldExhdExuZyhlLnRhcmdldC5mZWF0dXJlLmdlb21ldHJ5LmNvb3JkaW5hdGVzWzFdLGUudGFyZ2V0LmZlYXR1cmUuZ2VvbWV0cnkuY29vcmRpbmF0ZXNbMF0pO1xuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJHNjb3BlLnNlbGVjdGVkX2NvbnRhaW5lcik7XG4gICAgICAgICAgICAgICAgdmFyIGNvbnRhaW5lckRldGFpbHMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbnRhaW5lcl9kZXRhaWxzXCIpO1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lckRldGFpbHMuY2xhc3NOYW1lID0gXCJvcGVuXCI7XG4gICAgICAgICAgICAgICAgdmFyIGJhY2tNZW51ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJuYXZpZ2F0aW9uX2JhY2tcIik7XG4gICAgICAgICAgICAgICAgYmFja01lbnUuY2xhc3NOYW1lPVwiXCI7XG4gICAgICAgICAgICAgICAgdmFyIG1lbnUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm5hdmlnYXRpb25fbWVudVwiKTtcbiAgICAgICAgICAgICAgICBtZW51LmNsYXNzTmFtZSA9IFwiaGlkZGVuXCI7XG4gICAgICAgICAgICAgICAgJHNjb3BlLmdvVG9DZW50ZXIoJHNjb3BlLnNlbGVjdGVkX2NvbnRhaW5lci5sb24sJHNjb3BlLnNlbGVjdGVkX2NvbnRhaW5lci5sYXQpO1xuXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsID0gbmV3IEwuTGF5ZXJKU09OKHtcbiAgICAgICAgICB1cmw6IGJhc2VVUkwgKyBcIi9kYXRhdXkvZ2V0X2NvbnRhaW5lcnNfanNvbi9cIiArIFwie2Jib3h9XCIsXG4gICAgICAgICAgbG9jQXNHZW9KU09OOiB0cnVlLFxuICAgICAgICAgIG1pblNoaWZ0OiA1LFxuICAgICAgICAgIC8vdXBkYXRlT3V0Qm91bmRzOiBmYWxzZSxcbiAgICAgICAgICBwcmVjaXNpb246IDEwLFxuICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IG9uRWFjaEZlYXR1cmVcbiAgICAgICAgfSk7XG5cblxuICAgICAgbGVhZmxldERhdGEuZ2V0TWFwKCkudGhlbihmdW5jdGlvbihtYXApIHtcbiAgICAgICAgaWYoJHNjb3BlLmpzb25MYXllciE9bnVsbCl7XG4gICAgICAgICAgbWFwLnJlbW92ZUxheWVyKCRzY29wZS5qc29uTGF5ZXIpO1xuICAgICAgICB9XG4gICAgICAgICRzY29wZS5qc29uTGF5ZXIgPSBsO1xuICAgICAgICBtYXAuYWRkTGF5ZXIobCk7XG4gICAgICB9KTtcblxuICAgICAgJHNjb3BlLmxhc3RNYXJrZXJMYXllciA9IG51bGw7XG5cblxuICAgICAgbC5vbignZGF0YWxvYWRlZCcsIGZ1bmN0aW9uKGUpIHsgLy9zaG93IGxvYWRlZCBkYXRhIVxuICAgICAgICAkc2NvcGUucmVwb3J0cyA9IGUuZGF0YS5mZWF0dXJlcztcbiAgICAgIH0pO1xuXG5cbiAgICAgIGwub24oJ2xheWVyYWRkJywgZnVuY3Rpb24oZSkge1xuICAgICAgICBlLmxheWVyLmVhY2hMYXllcihmdW5jdGlvbihfbGF5ZXIpIHtcbiAgICAgICAgICB2YXIgaWNvbiA9IFwiL2ltZy9waW4tY29udGFpbmVyLnN2Z1wiO1xuICAgICAgICAgIGlmKF9sYXllci5mZWF0dXJlLnByb3BlcnRpZXMucGluX3VybCl7XG4gICAgICAgICAgICBpY29uID0gX2xheWVyLmZlYXR1cmUucHJvcGVydGllcy5waW5fdXJsO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgbWFya2VySWNvbiA9IEwuaWNvbih7XG4gICAgICAgICAgICBpY29uVXJsOiBiYXNlVVJMICsgaWNvbixcbiAgICAgICAgICAgIGljb25TaXplOiBbMjksIDM0XSxcbiAgICAgICAgICAgIGljb25BbmNob3I6IFs4LCA4XSxcbiAgICAgICAgICAgIHBvcHVwQW5jaG9yOiBbMCwgLThdXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgX2xheWVyLnNldEljb24obWFya2VySWNvbik7XG4gICAgICAgICAgaWYgKCRzY29wZS5mZWF0dXJlUmVwb3J0c1tfbGF5ZXIuZmVhdHVyZS5wcm9wZXJ0aWVzLkdJRF0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgJHNjb3BlLmZlYXR1cmVSZXBvcnRzW19sYXllci5mZWF0dXJlLnByb3BlcnRpZXMuR0lEXSA9IF9sYXllcjtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgJHNjb3BlLmdvVG9DZW50ZXIgPSBmdW5jdGlvbihsb25nVG8sbGF0VG8pe1xuICAgICAgdmFyIHBvc09wdGlvbnMgPSB7dGltZW91dDogNTAwMCwgZW5hYmxlSGlnaEFjY3VyYWN5OiB0cnVlfTtcbiAgICAgICAgJGNvcmRvdmFHZW9sb2NhdGlvblxuICAgICAgICAgIC5nZXRDdXJyZW50UG9zaXRpb24ocG9zT3B0aW9ucylcbiAgICAgICAgICAudGhlbihmdW5jdGlvbiAocG9zaXRpb24pIHtcbiAgICAgICAgICAgICAgICB2YXIgbGF0RnJvbSAgPSBwb3NpdGlvbi5jb29yZHMubGF0aXR1ZGU7XG4gICAgICAgICAgICAgICAgdmFyIGxvbmdGcm9tID0gcG9zaXRpb24uY29vcmRzLmxvbmdpdHVkZTtcbiAgICAgICAgICAgICAgICAkc2NvcGUuZ2V0Um9hZChsYXRGcm9tLGxvbmdGcm9tLGxhdFRvLGxvbmdUbyk7XG4gICAgICAgICAgICAgICAgLy8kc2NvcGUubWFwLm1hcmtlcnMubm93Lm9wZW5Qb3B1cCgpO1xuICAgICAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgICAgICAvL01vdmUgYSBsaXR0bGUgdGhlIG1hcCBjZW50ZXIgYmVjYXVzZSB0aGUgbWFwIHZpZXcgaXMgc21hbGxlciAocmVwb3J0IGxpc3QgaXMgZGlzcGxheWVkKVxuICAgICAgICAgICAgICAgIGxhdFRvID0gbGF0VG8gLSAwLjAwMDY7XG4gICAgICAgICAgICAgICAgTWFwU2VydmljZS5jZW50ZXJNYXBPbkNvb3JkcyhsYXRUbyxsb25nVG8sMTcpO1xuICAgICAgICAgICAgICAgIC8vRXJyb3JTZXJ2aWNlLnNob3dfZXJyb3JfbWVzc2FnZV9wb3B1cChcIk5vIGhlbW9zIHBvZGlkbyBnZW9sb2NhbGl6YXJsby4gwr9UYWwgdmV6IG9sdmlkw7MgaGFiaWxpdGFyIGxvcyBzZXJ2aWNpb3MgZGUgbG9jYWxpemFjacOzbiBlbiBzdSBkaXNwb3NpdGl2bz9cIilcbiAgICAgICAgICAgICAgfSk7XG4gICAgfTtcblxuICAgICRzY29wZS5sYXN0Um9hZCA9IG51bGw7XG5cbiAgICAkc2NvcGUubmF2X2JhY2sgPSBmdW5jdGlvbigpe1xuICAgICAgJHNjb3BlLmhpZGVfc3BlY2lhbF9kaXZzKCk7XG4gICAgICBpZigkc2NvcGUubGFzdFJvYWQhPW51bGwpe1xuICAgICAgICAkc2NvcGUubGFzdFJvYWQuc3BsaWNlV2F5cG9pbnRzKDAsIDIpO1xuICAgICAgICBsZWFmbGV0RGF0YS5nZXRNYXAoKS50aGVuKGZ1bmN0aW9uKG1hcCkge1xuICAgICAgICAgIG1hcC5yZW1vdmVDb250cm9sKCRzY29wZS5sYXN0Um9hZClcbiAgICAgICAgICAkc2NvcGUubGFzdFJvYWQ9bnVsbDtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgJHNjb3BlLndhbGt0aHJvdWdoID0gZnVuY3Rpb24oKXtcbiAgICAgIGlmKCRzY29wZS53YWxrdGhyb3VnaF9tb2RhbCE9bnVsbCl7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciBkb25lV2Fsa3Rocm91Z2ggPSBEQlNlcnZpY2UuZ2V0RG9uZVdhbGt0aHJvdWdoKCk7XG4gICAgICBkb25lV2Fsa3Rocm91Z2gudGhlbihmdW5jdGlvbiAoZG9jKSB7XG4gICAgICAgIGlmKGRvYy5zdGF0dXMhPW51bGwgJiYgZG9jLnN0YXR1cz09XCJkb25lXCIpe1xuICAgICAgICAgIC8vWWEgbG8gdmnDsyB1bmEgdmV6XG4gICAgICAgICAgLy8kc2NvcGUub3BlbldhbGtUaHJvdWdoTW9kYWwoKTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgJHNjb3BlLm9wZW5XYWxrVGhyb3VnaE1vZGFsKCk7XG4gICAgICAgIH1cbiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgJHNjb3BlLm9wZW5XYWxrVGhyb3VnaE1vZGFsKCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAkc2NvcGUud2Fsa3Rocm91Z2hGcm9tTWVudSA9IGZ1bmN0aW9uKCl7XG4gICAgICAkc2NvcGUuY2xvc2VNYWluTWVudSgpO1xuICAgICAgJHNjb3BlLm9wZW5XYWxrVGhyb3VnaE1vZGFsKCk7XG4gICAgfVxuXG4gICAgJHNjb3BlLm9wZW5XYWxrVGhyb3VnaE1vZGFsID0gZnVuY3Rpb24oKXtcbiAgICAgICRpb25pY01vZGFsLmZyb21UZW1wbGF0ZVVybCgndGVtcGxhdGVzL3dhbGt0aHJvdWdoLmh0bWwnLCB7XG4gICAgICAgIHNjb3BlOiAkc2NvcGUsXG4gICAgICAgIGhhcmR3YXJlQmFja0J1dHRvbkNsb3NlOiBmYWxzZSxcbiAgICAgICAgYW5pbWF0aW9uOiAnc2xpZGUtaW4tdXAnLFxuICAgICAgICAvL2ZvY3VzRmlyc3RJbnB1dDogdHJ1ZVxuICAgICAgfSkudGhlbihmdW5jdGlvbihtb2RhbCkge1xuICAgICAgICAgICRzY29wZS53YWxrdGhyb3VnaF9tb2RhbCA9IG1vZGFsO1xuICAgICAgICAgICRzY29wZS53YWxrdGhyb3VnaF9tb2RhbC5zaG93KCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAkc2NvcGUuZmluaXNoV2Fsa3Rocm91Z2ggPSBmdW5jdGlvbigpe1xuICAgICAgJHNjb3BlLndhbGt0aHJvdWdoX21vZGFsLmhpZGUoKTtcbiAgICAgICRzY29wZS53YWxrdGhyb3VnaF9tb2RhbC5yZW1vdmUoKTtcbiAgICAgIERCU2VydmljZS5zYXZlRG9uZVdhbGt0aHJvdWdoKCk7XG4gICAgfVxuXG4gICAgJHNjb3BlLm9wZW5Db250YWN0ID0gZnVuY3Rpb24oKXtcbiAgICAgIGlmKCRzY29wZS5pdGVtX21vZGFsIT1udWxsKXtcbiAgICAgICAgJHNjb3BlLml0ZW1fbW9kYWwuaGlkZSgpO1xuICAgICAgICAkc2NvcGUuaXRlbV9tb2RhbC5yZW1vdmUoKTtcbiAgICAgIH1cbiAgICAgICRzY29wZS5tYWluX21lbnVfbW9kYWwuaGlkZSgpO1xuICAgICAgJHNjb3BlLm1haW5fbWVudV9tb2RhbC5yZW1vdmUoKTtcbiAgICAgICRpb25pY01vZGFsLmZyb21UZW1wbGF0ZVVybCgndGVtcGxhdGVzL2NvbnRhY3QuaHRtbCcsIHtcbiAgICAgICAgc2NvcGU6ICRzY29wZSxcbiAgICAgICAgaGFyZHdhcmVCYWNrQnV0dG9uQ2xvc2U6IHRydWUsXG4gICAgICAgIGFuaW1hdGlvbjogJ25vbmUnLFxuICAgICAgICBmb2N1c0ZpcnN0SW5wdXQ6IHRydWVcbiAgICAgIH0pLnRoZW4oZnVuY3Rpb24obW9kYWwpIHtcbiAgICAgICAgICAkc2NvcGUuaXRlbV9tb2RhbCA9IG1vZGFsO1xuICAgICAgICAgICRzY29wZS5pdGVtX21vZGFsLnNob3coKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgICRzY29wZS5vcGVuQ29udGFjdFN1Y2Nlc3MgPSBmdW5jdGlvbigpe1xuICAgICAgJHNjb3BlLml0ZW1fbW9kYWwuaGlkZSgpO1xuICAgICAgJHNjb3BlLml0ZW1fbW9kYWwucmVtb3ZlKCk7XG4gICAgICAkaW9uaWNNb2RhbC5mcm9tVGVtcGxhdGVVcmwoJ3RlbXBsYXRlcy9jb250YWN0X3N1Y2Nlc3MuaHRtbCcsIHtcbiAgICAgICAgc2NvcGU6ICRzY29wZSxcbiAgICAgICAgaGFyZHdhcmVCYWNrQnV0dG9uQ2xvc2U6IHRydWUsXG4gICAgICAgIGFuaW1hdGlvbjogJ25vbmUnLFxuICAgICAgfSkudGhlbihmdW5jdGlvbihtb2RhbCkge1xuICAgICAgICAgICRzY29wZS5pdGVtX21vZGFsID0gbW9kYWw7XG4gICAgICAgICAgJHNjb3BlLml0ZW1fbW9kYWwuc2hvdygpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgJHNjb3BlLnNlbmRfY29udGFjdF9yZXF1ZXN0ID0gZnVuY3Rpb24oKXtcbiAgICAgIHZhciBuYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb250YWN0X25vbWJyZVwiKTtcbiAgICAgIHZhciBlbWFpbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29udGFjdF9lbWFpbFwiKTtcbiAgICAgIHZhciBzdWJqZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb250YWN0X3NlbGVjdFwiKTtcbiAgICAgIHZhciBtZXNzYWdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb250YWN0X21lbnNhamVcIik7XG4gICAgICB2YXIgZXJyb3JMYWJlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29udGFjdF9lcnJvcl9sYWJlbFwiKTtcbiAgICAgIGlmKEVycm9yU2VydmljZS5jaGVja19maWVsZChuYW1lLFwibm90TnVsbFwiLGVycm9yTGFiZWwpJiZcbiAgICAgICAgRXJyb3JTZXJ2aWNlLmNoZWNrX2ZpZWxkKGVtYWlsLFwibm90TnVsbFwiLGVycm9yTGFiZWwpJiZcbiAgICAgICAgRXJyb3JTZXJ2aWNlLmNoZWNrX2ZpZWxkKGVtYWlsLFwiZW1haWxcIixlcnJvckxhYmVsKSYmXG4gICAgICAgIEVycm9yU2VydmljZS5jaGVja19maWVsZChtZXNzYWdlLFwibm90TnVsbFwiLGVycm9yTGFiZWwpKXtcbiAgICAgICAgQ29udGFjdFNlcnZpY2Uuc2VuZF9jb250YWN0KG5hbWUudmFsdWUsZW1haWwudmFsdWUsc3ViamVjdFtzdWJqZWN0LnNlbGVjdGVkSW5kZXhdLnZhbHVlLG1lc3NhZ2UudmFsdWUpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgaWYoRXJyb3JTZXJ2aWNlLmh0dHBfZGF0YV9yZXNwb25zZV9pc19zdWNjZXNzZnVsX2FqYXgocmVzcG9uc2UpKXtcbiAgICAgICAgICAgICRzY29wZS5vcGVuQ29udGFjdFN1Y2Nlc3MoKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgIH1lbHNle1xuICAgICAgICB2YXIgZXJyb3JDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbnRhY3RfZXJyb3JcIik7XG4gICAgICAgIGVycm9yQ29udGFpbmVyLmNsYXNzTmFtZSA9IFwiY29udGFjdF9lcnJvclwiO1xuICAgICAgfVxuICAgIH1cblxuICAgICRzY29wZS5vcGVuTWFpbk1lbnVGcm9tSXRlbSA9IGZ1bmN0aW9uKCl7XG4gICAgICAkc2NvcGUuaXRlbV9tb2RhbC5oaWRlKCk7XG4gICAgICAkc2NvcGUuaXRlbV9tb2RhbC5yZW1vdmUoKTtcbiAgICAgICRpb25pY01vZGFsLmZyb21UZW1wbGF0ZVVybCgndGVtcGxhdGVzL21haW5fbWVudS5odG1sJywge1xuICAgICAgICBzY29wZTogJHNjb3BlLFxuICAgICAgICBoYXJkd2FyZUJhY2tCdXR0b25DbG9zZTogdHJ1ZSxcbiAgICAgICAgYW5pbWF0aW9uOiAnbm9uZScsXG4gICAgICAgIC8vZm9jdXNGaXJzdElucHV0OiB0cnVlXG4gICAgICB9KS50aGVuKGZ1bmN0aW9uKG1vZGFsKSB7XG4gICAgICAgICAgJHNjb3BlLm1haW5fbWVudV9tb2RhbCA9IG1vZGFsO1xuICAgICAgICAgICRzY29wZS5tYWluX21lbnVfbW9kYWwuc2hvdygpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgJHNjb3BlLm9wZW5NYWluTWVudSA9IGZ1bmN0aW9uKCl7XG4gICAgICAkaW9uaWNNb2RhbC5mcm9tVGVtcGxhdGVVcmwoJ3RlbXBsYXRlcy9tYWluX21lbnUuaHRtbCcsIHtcbiAgICAgICAgc2NvcGU6ICRzY29wZSxcbiAgICAgICAgaGFyZHdhcmVCYWNrQnV0dG9uQ2xvc2U6IHRydWUsXG4gICAgICAgIGFuaW1hdGlvbjogJ25vbmUnLFxuICAgICAgICAvL2ZvY3VzRmlyc3RJbnB1dDogdHJ1ZVxuICAgICAgfSkudGhlbihmdW5jdGlvbihtb2RhbCkge1xuICAgICAgICAgICRzY29wZS5tYWluX21lbnVfbW9kYWwgPSBtb2RhbDtcbiAgICAgICAgICAkc2NvcGUubWFpbl9tZW51X21vZGFsLnNob3coKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgICRzY29wZS5jbG9zZU1haW5NZW51ID0gZnVuY3Rpb24oKXtcbiAgICAgICRzY29wZS5tYWluX21lbnVfbW9kYWwuaGlkZSgpO1xuICAgICAgJHNjb3BlLm1haW5fbWVudV9tb2RhbC5yZW1vdmUoKTtcbiAgICB9XG5cbiAgICAkc2NvcGUuZ2V0Um9hZCA9IGZ1bmN0aW9uKExhdEZyb20sTG9uZ0Zyb20sbGF0VG8sbG9uZ1RvKXtcbiAgICAgIGxlYWZsZXREYXRhLmdldE1hcCgpLnRoZW4oZnVuY3Rpb24obWFwKSB7XG4gICAgICAgIG1hcC5jbG9zZVBvcHVwKCk7XG4gICAgICAgIHZhciBtYXJrZXJJY29uID0gTC5pY29uKHtcbiAgICAgICAgICBpY29uVXJsOiBcIi4vaW1nL21lLnN2Z1wiLFxuICAgICAgICAgIGljb25TaXplOiBbMjksIDM0XSxcbiAgICAgICAgICBpY29uQW5jaG9yOiBbOCwgOF0sXG4gICAgICAgICAgcG9wdXBBbmNob3I6IFswLCAtOF1cbiAgICAgICAgfSk7XG4gICAgICAgIGlmKCRzY29wZS5ub3dfbWFya2VyIT1udWxsKXtcbiAgICAgICAgICBtYXAucmVtb3ZlTGF5ZXIoJHNjb3BlLm5vd19tYXJrZXIpO1xuICAgICAgICB9XG4gICAgICAgICRzY29wZS5ub3dfbWFya2VyID0gTC5tYXJrZXIoW0xhdEZyb20sIExvbmdGcm9tXSwge2ljb246IG1hcmtlckljb259KS5hZGRUbyhtYXApO1xuICAgICAgICBpZigkc2NvcGUubGFzdFJvYWQhPW51bGwpe1xuICAgICAgICAgICRzY29wZS5sYXN0Um9hZC5zcGxpY2VXYXlwb2ludHMoMCwgMik7XG4gICAgICAgICAgbWFwLnJlbW92ZUNvbnRyb2woJHNjb3BlLmxhc3RSb2FkKVxuICAgICAgICAgICRzY29wZS5sYXN0Um9hZD1udWxsO1xuICAgICAgICB9XG4gICAgICAgICRzY29wZS5sYXN0Um9hZCA9IEwuUm91dGluZy5jb250cm9sKHtcbiAgICAgICAgICB3YXlwb2ludHM6IFtcbiAgICAgICAgICAgIEwubGF0TG5nKExhdEZyb20sTG9uZ0Zyb20pLFxuICAgICAgICAgICAgTC5sYXRMbmcobGF0VG8sbG9uZ1RvKVxuICAgICAgICAgIF0sXG4gICAgICAgICAgbGFuZ3VhZ2U6XCJlc1wiLFxuICAgICAgICAgIHJvdXRlcjogTC5Sb3V0aW5nLm1hcGJveCgncGsuZXlKMUlqb2liR2wwYjNod1pYSmhiRzlqWVNJc0ltRWlPaUpqYWpOaGRIVXpiVE13TVRRd01uRndhR1JpZG1jMmVtWjVJbjAuZEVENEQ0X0xCalJjLXNHYTV6dDVZZycpLFxuICAgICAgICAgIGNyZWF0ZU1hcmtlcjogZnVuY3Rpb24gKGksIHN0YXJ0LCBuKXtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgbGluZU9wdGlvbnM6IHtcbiAgICAgICAgICAgICBzdHlsZXM6IFt7Y29sb3I6ICcjNGM0YzRjJywgb3BhY2l0eTogMSwgd2VpZ2h0OiA1fV1cbiAgICAgICAgICB9LFxuICAgICAgICAgIGZpdFNlbGVjdGVkUm91dGVzOiBmYWxzZVxuICAgICAgICB9KS5hZGRUbyhtYXApO1xuICAgICAgICAvL01vdmUgYSBsaXR0bGUgdGhlIG1hcCBjZW50ZXIgYmVjYXVzZSB0aGUgbWFwIHZpZXcgaXMgc21hbGxlciAocmVwb3J0IGxpc3QgaXMgZGlzcGxheWVkKVxuICAgICAgICBsYXRUbyA9IGxhdFRvIC0gMC4wMDA4O1xuICAgICAgICBNYXBTZXJ2aWNlLmNlbnRlck1hcE9uQ29vcmRzKGxhdFRvLGxvbmdUbywxNyk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBTdWdnZXN0aW9uXG4gICAgJHNjb3BlLm1vZGVsID0gW107XG4gICAgJHNjb3BlLmV4dGVybmFsTW9kZWwgPSBbXTtcbiAgICAkc2NvcGUuc2VsZWN0ZWRJdGVtcyA9IFtdO1xuICAgICRzY29wZS5wcmVzZWxlY3RlZFNlYXJjaEl0ZW1zID0gW107XG4gICAgJHNjb3BlLmNsaWNrZWRWYWx1ZU1vZGVsID0gXCJcIjtcbiAgICAkc2NvcGUucmVtb3ZlZFZhbHVlTW9kZWwgPSBcIlwiO1xuXG4gICAgJHNjb3BlLml0ZW1zUmVtb3ZlZCA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgICAkc2NvcGUucmVtb3ZlZFZhbHVlTW9kZWwgPSBjYWxsYmFjaztcbiAgICB9O1xuXG4gICAgJHNjb3BlLnVzZXJfb3B0aW9ucyA9IGZ1bmN0aW9uKCl7XG4gICAgICB2YXIgbWVudSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidXNlci1vcHRpb25zLW1lbnVcIik7XG4gICAgICBpZihtZW51LnN0eWxlLmRpc3BsYXk9PVwiYmxvY2tcIil7XG4gICAgICAgIG1lbnUuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgfWVsc2V7XG4gICAgICAgIHZhciBuYW1lID0gVXNlclNlcnZpY2UubmFtZTtcbiAgICAgICAgaWYobmFtZT09bnVsbCl7XG4gICAgICAgICAgLy9ObyBlc3RhIGxvZ3VlYWRvXG4gICAgICAgICAgJHNjb3BlLnNob3dfYW5vbnltb3VzX21lbnUoKTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgLy9Fc3TDoSBsb2d1ZWFkb1xuICAgICAgICAgICRzY29wZS5zaG93X3VzZXJfbWVudSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgJHNjb3BlLnNob3dfYW5vbnltb3VzX21lbnUgPSBmdW5jdGlvbigpe1xuICAgICAgdmFyIG1lbnUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInVzZXItb3B0aW9ucy1tZW51XCIpO1xuICAgICAgdmFyIGh0bWwgPSBcIjxkaXYgaWQ9J2F1dGhfb3B0aW9ucyc+PGRpdiBjbGFzcz0nbm9uYXV0aC1saW5rJyBuZy1jbGljaz0nc2hvd19sb2dpbl9tb2RhbCgpJz5JbmljaWFyIHNlc2nDs248L2Rpdj5cIjtcbiAgICAgIGh0bWwgPSBodG1sICsgXCI8ZGl2IGNsYXNzPSdub25hdXRoLWxpbmsnIG5nLWNsaWNrPSdzaG93X3NpZ25fdXBfbW9kYWwoKSc+UmVnaXN0cmFyc2U8L2Rpdj48L2Rpdj5cIjtcbiAgICAgIG1lbnUuaW5uZXJIVE1MID0gaHRtbDtcbiAgICAgICRjb21waWxlKG1lbnUpKCRzY29wZSk7IC8vPC0tLS0gcmVjb21waWxhdGlvblxuICAgICAgbWVudS5zdHlsZS5oZWlnaHQgPSAnMTIwcHgnO1xuICAgICAgbWVudS5zdHlsZS53aWR0aCA9ICcxNTBweCc7XG4gICAgICBtZW51LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgfVxuXG4gICAgJHNjb3BlLnNob3dfdXNlcl9tZW51ID0gZnVuY3Rpb24oKXtcbiAgICAgIHZhciBtZW51ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ1c2VyLW9wdGlvbnMtbWVudVwiKTtcbiAgICAgIHZhciBodG1sID0gVXNlclNlcnZpY2UubmFtZSArIFwiPGRpdiBpZD0nYXV0aF9vcHRpb25zJz48ZGl2IGNsYXNzPSd1c2VyLWxvZ2dlZC1saW5rJyBuZy1jbGljaz0nc2hvd19lZGl0X3Byb2ZpbGVfbW9kYWwoKSc+TWkgcGVyZmlsPC9kaXY+XCI7XG4gICAgICBodG1sID0gaHRtbCArIFwiPGRpdiBjbGFzcz0ndXNlci1sb2dnZWQtbGluaycgbmctY2xpY2s9J2xpc3Rfb2ZmbGluZV9yZXBvcnRzX21lbnUoKSc+UmVwb3J0ZXMgcGVuZGllbnRlczwvZGl2PlwiO1xuICAgICAgaHRtbCA9IGh0bWwgKyBcIjxkaXYgY2xhc3M9J3VzZXItbG9nZ2VkLWxpbmsnIG5nLWNsaWNrPSdzaWduX291dCgpJz5DZXJyYXIgc2VzacOzbjwvZGl2PjwvZGl2PlwiO1xuICAgICAgbWVudS5pbm5lckhUTUwgPSBodG1sO1xuICAgICAgJGNvbXBpbGUobWVudSkoJHNjb3BlKTsgLy88LS0tLSByZWNvbXBpbGF0aW9uXG4gICAgICBtZW51LnN0eWxlLmhlaWdodCA9ICcxNjBweCc7XG4gICAgICBtZW51LnN0eWxlLndpZHRoID0gJzIwMHB4JztcbiAgICAgIG1lbnUuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICB9O1xuXG4gICAgJHNjb3BlLmNyZWF0ZV9maWVsZF9hcnJheSA9IGZ1bmN0aW9uKG5hbWUsdHlwZSx2YWx1ZSl7XG4gICAgICB2YXIgZmllbGQgPSBuZXcgQXJyYXkoKTtcbiAgICAgIGZpZWxkLm5hbWUgPSBuYW1lO1xuICAgICAgZmllbGQudHlwZSA9IHR5cGU7XG4gICAgICBmaWVsZC52YWx1ZSA9IHZhbHVlO1xuICAgICAgcmV0dXJuIGZpZWxkO1xuICAgIH07XG5cbiAgICAkc2NvcGUuc2lnbl9pbiA9IGZ1bmN0aW9uKGVtYWlsLCBwYXNzd29yZCl7XG4gICAgICBpZihDb25uZWN0aXZpdHlTZXJ2aWNlLmlzT25saW5lKCkpe1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXItaW5zaWRlLW1vZGFsXCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgIHZhciBmaWVsZHMgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgZmllbGRzLnB1c2goJHNjb3BlLmNyZWF0ZV9maWVsZF9hcnJheShcIkVtYWlsXCIsXCJlbWFpbFwiLGVtYWlsKSk7XG4gICAgICAgIGZpZWxkcy5wdXNoKCRzY29wZS5jcmVhdGVfZmllbGRfYXJyYXkoXCJDb250cmFzZcOxYVwiLFwibm90TnVsbFwiLHBhc3N3b3JkKSk7XG4gICAgICAgIGlmKEVycm9yU2VydmljZS5jaGVja19maWVsZHMoZmllbGRzLFwiZXJyb3JfY29udGFpbmVyXCIpKXtcbiAgICAgICAgICBBdXRoU2VydmljZS5zaWduX2luKHBhc3N3b3JkLCBlbWFpbCkudGhlbihmdW5jdGlvbihyZXNwKSB7XG4gICAgICAgICAgICBpZihFcnJvclNlcnZpY2UuaHR0cF9yZXNwb25zZV9pc19zdWNjZXNzZnVsKHJlc3AsXCJlcnJvcl9jb250YWluZXJcIikpe1xuICAgICAgICAgICAgICBVc2VyU2VydmljZS5zYXZlX3VzZXJfZGF0YShyZXNwLmRhdGEubmFtZSwgZW1haWwsIHBhc3N3b3JkLCByZXNwLmRhdGEuaWRlbnRpdHlfZG9jdW1lbnQsIHJlc3AuZGF0YS5waG9uZSwgcmVzcC5kYXRhLnBpY3R1cmVfdXJsKTtcbiAgICAgICAgICAgICAgREJTZXJ2aWNlLnNhdmVVc2VyKHJlc3AuZGF0YS5uYW1lLGVtYWlsLHBhc3N3b3JkLHJlc3AuZGF0YS5pZGVudGl0eV9kb2N1bWVudCxyZXNwLmRhdGEucGhvbmUscmVzcC5kYXRhLnBpY3R1cmVfdXJsKTtcbiAgICAgICAgICAgICAgLy8kc2NvcGUuc2V0X3VzZXJfcGljdHVyZSgxKTtcbiAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyLWluc2lkZS1tb2RhbFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICAgICRzY29wZS5jbG9zZV9sb2dpbl9tb2RhbCgpO1xuICAgICAgICAgICAgICAvLyRzY29wZS5jaGVja191c2VyX2xvZ2dlZCgpO1xuICAgICAgICAgICAgICAkc2NvcGUuc2V0X3VzZXJfcGljdHVyZSgxKTtcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXItaW5zaWRlLW1vZGFsXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCBmdW5jdGlvbihyZXNwKSB7XG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICAvL2FsZXJ0KFwiRXJyb3IgZW4gc2lnbl9pblwiKTtcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lci1pbnNpZGUtbW9kYWxcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgRXJyb3JTZXJ2aWNlLnNob3dfZXJyb3JfbWVzc2FnZShcImVycm9yX2NvbnRhaW5lclwiLHJlc3Auc3RhdHVzVGV4dCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lci1pbnNpZGUtbW9kYWxcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICB9XG5cbiAgICAgIH1lbHNle1xuICAgICAgICBQb3BVcFNlcnZpY2Uuc2hvd19hbGVydChcIlNpbiBjb25leGnDs24gYSBpbnRlcm5ldFwiLFwiUGFyYSBpbmljaWFyIHNlc2nDs24gZGViZSBlc3RhciBjb25lY3RhZG8gYSBpbnRlcm5ldFwiKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAkc2NvcGUuc2lnbl9pbl9hamF4ID0gZnVuY3Rpb24oZW1haWwsIHBhc3N3b3JkKXtcbiAgICAgIEF1dGhTZXJ2aWNlLnNpZ25faW4ocGFzc3dvcmQsIGVtYWlsKS50aGVuKGZ1bmN0aW9uKHJlc3ApIHtcbiAgICAgICAgaWYoRXJyb3JTZXJ2aWNlLmh0dHBfcmVzcG9uc2VfaXNfc3VjY2Vzc2Z1bF9hamF4KHJlc3ApKXtcbiAgICAgICAgICBVc2VyU2VydmljZS5zYXZlX3VzZXJfZGF0YShyZXNwLmRhdGEubmFtZSwgZW1haWwsIHBhc3N3b3JkLCByZXNwLmRhdGEuaWRlbnRpdHlfZG9jdW1lbnQsIHJlc3AuZGF0YS5waG9uZSwgcmVzcC5kYXRhLnBpY3R1cmVfdXJsKTtcbiAgICAgICAgICBEQlNlcnZpY2Uuc2F2ZVVzZXIocmVzcC5kYXRhLm5hbWUsZW1haWwscGFzc3dvcmQscmVzcC5kYXRhLmlkZW50aXR5X2RvY3VtZW50LHJlc3AuZGF0YS5waG9uZSxyZXNwLmRhdGEucGljdHVyZV91cmwpO1xuICAgICAgICAgICRzY29wZS5zZXRfdXNlcl9waWN0dXJlKDEpO1xuICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuXG4gICAgICB9LCBmdW5jdGlvbihyZXNwKSB7XG4gICAgICAgIC8vY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgLy9FcnJvclNlcnZpY2Uuc2hvd19lcnJvcl9tZXNzYWdlX3BvcHVwKHJlc3Auc3RhdHVzVGV4dCk7XG4gICAgICAgIHJldHVybiAwO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgJHNjb3BlLnNpZ25fb3V0ID0gZnVuY3Rpb24oKXtcbiAgICAgIFVzZXJTZXJ2aWNlLmVyYXNlX3VzZXJfZGF0YSgpO1xuICAgICAgREJTZXJ2aWNlLmVyYXNlVXNlcigpO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICRzY29wZS5zZXRfdXNlcl9waWN0dXJlKDApO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ1c2VyLW9wdGlvbnMtbWVudVwiKS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiO1xuICAgIH1cblxuXG4gICAgJHNjb3BlLmNoZWNrX3VzZXJfbG9nZ2VkID0gZnVuY3Rpb24oKXtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAkc2NvcGUuc2V0X29mZmxpbmVfdXNlciA9IGZ1bmN0aW9uKCl7XG4gICAgfVxuXG5cblxuICAgICRzY29wZS5zZXRfdXNlcl9waWN0dXJlID0gZnVuY3Rpb24oaGFzUGhvdG8pe1xuICAgIH1cblxuICAgICRzY29wZS5zZWFyY2hfc3RyZWV0ID0gZnVuY3Rpb24oKXtcbiAgICAgICRzY29wZS5oaWRlX3NwZWNpYWxfZGl2cygpO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzZWFyY2gtdGV4dGJveFwiKS5wYXJlbnROb2RlLmNsaWNrKCk7XG4gICAgfVxuXG4gICAgJHNjb3BlLmZpbmRfbWUgPSBmdW5jdGlvbigpe1xuICAgICAgICAkc2NvcGUuc2V0X2FjdGl2ZV9vcHRpb24oXCJidXR0b24tZmluZC1tZVwiKTtcbiAgICAgICAgJHNjb3BlLmhpZGVfc3BlY2lhbF9kaXZzKCk7XG4gICAgICAgIHZhciBwb3NPcHRpb25zID0ge3RpbWVvdXQ6IDEwMDAwLCBlbmFibGVIaWdoQWNjdXJhY3k6IHRydWV9O1xuICAgICAgICAkY29yZG92YUdlb2xvY2F0aW9uXG4gICAgICAgICAgLmdldEN1cnJlbnRQb3NpdGlvbihwb3NPcHRpb25zKVxuICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChwb3NpdGlvbikge1xuICAgICAgICAgICAgICAgIC8qJHNjb3BlLm1hcC5jZW50ZXIubGF0ICA9IHBvc2l0aW9uLmNvb3Jkcy5sYXRpdHVkZTtcbiAgICAgICAgICAgICAgICAkc2NvcGUubWFwLmNlbnRlci5sbmcgPSBwb3NpdGlvbi5jb29yZHMubG9uZ2l0dWRlO1xuICAgICAgICAgICAgICAgIExvY2F0aW9uc1NlcnZpY2Uuc2F2ZV9uZXdfcmVwb3J0X3Bvc2l0aW9uKHBvc2l0aW9uLmNvb3Jkcy5sYXRpdHVkZSxwb3NpdGlvbi5jb29yZHMubG9uZ2l0dWRlKTsqL1xuICAgICAgICAgICAgICAgIHZhciB6b29tID0gMTg7XG4gICAgICAgICAgICAgICAgdmFyIG1hcmtlckljb24gPSBMLmljb24oe1xuICAgICAgICAgICAgICAgICAgaWNvblVybDogXCIuL2ltZy9tZS5zdmdcIixcbiAgICAgICAgICAgICAgICAgIGljb25TaXplOiBbMjksIDM0XSxcbiAgICAgICAgICAgICAgICAgIGljb25BbmNob3I6IFs4LCA4XSxcbiAgICAgICAgICAgICAgICAgIHBvcHVwQW5jaG9yOiBbMCwgLThdXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBsZWFmbGV0RGF0YS5nZXRNYXAoKS50aGVuKGZ1bmN0aW9uKG1hcCkge1xuICAgICAgICAgICAgICAgICAgaWYoJHNjb3BlLm5vd19tYXJrZXIhPW51bGwpe1xuICAgICAgICAgICAgICAgICAgICBtYXAucmVtb3ZlTGF5ZXIoJHNjb3BlLm5vd19tYXJrZXIpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgJHNjb3BlLm5vd19tYXJrZXIgPSBMLm1hcmtlcihbcG9zaXRpb24uY29vcmRzLmxhdGl0dWRlLCBwb3NpdGlvbi5jb29yZHMubG9uZ2l0dWRlXSwge2ljb246IG1hcmtlckljb259KS5hZGRUbyhtYXApO1xuICAgICAgICAgICAgICAgICAgTWFwU2VydmljZS5jZW50ZXJNYXBPbkNvb3Jkcyhwb3NpdGlvbi5jb29yZHMubGF0aXR1ZGUscG9zaXRpb24uY29vcmRzLmxvbmdpdHVkZSx6b29tKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICAgICAgLy9FcnJvclNlcnZpY2Uuc2hvd19lcnJvcl9tZXNzYWdlX3BvcHVwKFwiTm8gaGVtb3MgcG9kaWRvIGdlb2xvY2FsaXphcmxvLiDCv1RhbCB2ZXogb2x2aWTDsyBoYWJpbGl0YXIgbG9zIHNlcnZpY2lvcyBkZSBsb2NhbGl6YWNpw7NuIGVuIHN1IGRpc3Bvc2l0aXZvP1wiKVxuICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgIH07XG5cbiAgICAgIHZhciBMb2NhdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoICEodGhpcyBpbnN0YW5jZW9mIExvY2F0aW9uKSApIHJldHVybiBuZXcgTG9jYXRpb24oKTtcbiAgICAgICAgdGhpcy5sYXQgID0gXCJcIjtcbiAgICAgICAgdGhpcy5sbmcgID0gXCJcIjtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJcIjtcbiAgICAgIH07XG5cbiAgfVxuXSk7XG4iLCJwbWJfaW0uY29udHJvbGxlcnMuY29udHJvbGxlcignUE1CQ3RybCcsXG5bJyRzY29wZScsXG4nJHN0YXRlJyxcbidsZWFmbGV0RGF0YScsXG4nUE1CU2VydmljZScsXG4nQ29udGFpbmVyU2VydmljZScsXG4nbG9jYXRpb25BUEknLFxuJ01hcFNlcnZpY2UnLFxuJ18nLFxuJ0xvYWRlcicsXG4nTG9jYXRpb25zU2VydmljZScsXG5mdW5jdGlvbigkc2NvcGUsXG4gICRzdGF0ZSxcbiAgbGVhZmxldERhdGEsXG4gIFBNQlNlcnZpY2UsXG4gIENvbnRhaW5lclNlcnZpY2UsXG4gIGxvY2F0aW9uQVBJLFxuICBNYXBTZXJ2aWNlLFxuICBfLFxuICBMb2FkZXIsXG4gIExvY2F0aW9uc1NlcnZpY2UpIHtcbiAgJHNjb3BlLnJlcG9ydEJ1dHRvbiA9IHtcbiAgICB0ZXh0OiBcIlJlcG9ydGFyXCIsXG4gICAgc3RhdGU6IFwidW5Db25maXJtZWRcIlxuICB9O1xuXG4gIC8vJHNjb3BlLiRvbignJGlvbmljVmlldy5hZnRlckVudGVyJywgZnVuY3Rpb24oKXsgLy9UaGlzIGlzIGZpcmVkIHR3aWNlIGluIGEgcm93XG4gICRzY29wZS4kb24oXCIkaW9uaWNWaWV3LmFmdGVyRW50ZXJcIiwgZnVuY3Rpb24oKSB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICB2YXIgbWFwID0gbGVhZmxldERhdGEuZ2V0TWFwKCk7XG4gICAgaWYoTG9jYXRpb25zU2VydmljZS5pbml0aWFsX2xhdCE9XCJcIil7XG4gICAgICBNYXBTZXJ2aWNlLmNlbnRlck1hcE9uQ29vcmRzKExvY2F0aW9uc1NlcnZpY2UuaW5pdGlhbF9sYXQsIExvY2F0aW9uc1NlcnZpY2UuaW5pdGlhbF9sbmcsIDE4KTtcbiAgICB9ZWxzZXtcbiAgICAgIE1hcFNlcnZpY2UuY2VudGVyTWFwT25Db29yZHMoLTM0LjkwMTExMywgLTU2LjE2NDUzMSwgMTYpO1xuICAgIH1cbiAgfSk7XG5cblxuICAvKiovXG5cbiAgJHNjb3BlLnNlYXJjaE1vZGUgPSBcImNhbGxlLmx1Z2FyXCI7XG4gICRzY29wZS5sb2NhdGlvbiA9e2NhbGxlOm51bGwsZXNxdWluYTpudWxsLGx1Z2FyOm51bGx9O1xuXG5cbiAgLy9BdXRvIGNvbXBsZXRlXG5cblxuICB2YXIgbG9jYXRpb25HZW9tUGFyYW1zID17dGlwbzpudWxsLHBhdGhQYXJhbXM6W119O1xuICAkc2NvcGUuJG9uKFwiJHN0YXRlQ2hhbmdlU3VjY2Vzc1wiLCBmdW5jdGlvbigpIHtcbiAgICAkc2NvcGUuaW9uQXV0b2NvbXBsZXRlRWxlbWVudCA9IGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiaW9uLWF1dG9jb21wbGV0ZVwiKSk7XG4gICAgLy9jb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeSgkc2NvcGUuaW9uQXV0b2NvbXBsZXRlRWxlbWVudCkpO1xuICAgICRzY29wZS5pb25BdXRvY29tcGxldGVFbGVtZW50LmJpbmQoJ3RvdWNoZW5kIGNsaWNrIGZvY3VzJywgJHNjb3BlLm9uQ2xpY2spO1xuICB9KTtcblxuXG4gICRzY29wZS5pbml0UmVwb3J0ID0gZnVuY3Rpb24oKSB7XG5cbiAgICB2YXIgX3BpbiwgX3Bpbkljb24gPSBMLmljb24oe1xuICAgICAgaWNvblVybDogJ2ltZy9waW5AeDIucG5nJyxcbiAgICAgIGljb25TaXplOiBbNzAsIDExMF0sIC8vIHNpemUgb2YgdGhlIGljb25cbiAgICAgIGljb25BbmNob3I6IFstMTgsIDU1XSwgLy8gcG9pbnQgb2YgdGhlIGljb24gd2hpY2ggd2lsbCBjb3JyZXNwb25kIHRvIG1hcmtlcidzIGxvY2F0aW9uXG4gICAgfSk7XG5cbiAgICBpZiAoJHNjb3BlLnJlcG9ydEJ1dHRvbi5zdGF0ZSA9PSBcInVuQ29uZmlybWVkXCIpIHtcblxuICAgICAgJHNjb3BlLnJlcG9ydEJ1dHRvbi50ZXh0ID0gXCJDb25maXJtYXJcIjtcbiAgICAgICRzY29wZS5yZXBvcnRCdXR0b24uc3RhdGUgPSBcImFib3V0MkNvbmZpcm1cIjtcblxuXG4gICAgICBsZWFmbGV0RGF0YS5nZXRNYXAoKS50aGVuKGZ1bmN0aW9uKG1hcCkge1xuICAgICAgICBfcGluID0gbmV3IEwubWFya2VyKG1hcC5nZXRDZW50ZXIoKSwge1xuICAgICAgICAgIGljb246IF9waW5JY29uLFxuICAgICAgICAgIGNsaWNrYWJsZTogZmFsc2VcbiAgICAgICAgfSkuYWRkVG8obWFwKTtcblxuICAgICAgICBSZXBvcnRTZXJ2aWNlLl9uZXcoKTtcbiAgICAgICAgUmVwb3J0U2VydmljZS5jdXJyZW50LnNldExhdExuZyhtYXAuZ2V0Q2VudGVyKCkpO1xuICAgICAgICAvL2NvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KCRzY29wZS5jdXJyZW50UmVwb3J0KSk7XG5cbiAgICAgICAgJHNjb3BlLmlvbkF1dG9jb21wbGV0ZUVsZW1lbnQgPSBhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImlvbi1hdXRvY29tcGxldGVcIikpO1xuICAgICAgICAkc2NvcGUuaW9uQXV0b2NvbXBsZXRlRWxlbWVudC5iaW5kKCd0b3VjaGVuZCBjbGljayBmb2N1cycsICRzY29wZS5vbkNsaWNrKTtcblxuXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy9jb25zb2xlLmxvZyhcImN1cnJlbnRSZXBvcnQgPVwiICsgSlNPTi5zdHJpbmdpZnkoJHNjb3BlLmN1cnJlbnRSZXBvcnQpKTtcbiAgICB9XG5cbiAgfTtcblxuICAkc2NvcGUuaXNOdW1lcmljID0gZnVuY3Rpb24obikge1xuICAgIHJldHVybiAhaXNOYU4ocGFyc2VGbG9hdChuKSkgJiYgaXNGaW5pdGUobik7XG4gIH07XG5cbiAgJHNjb3BlLnNlYXJjaExvY2F0aW9uID0gZnVuY3Rpb24ocXVlcnkpIHtcbiAgICB2YXIgcHJvbWlzZVNlYXJjaDtcbiAgICBpZiAocXVlcnkgJiYgcXVlcnkubGVuZ3RoPj0yKSB7XG5cblxuICAgICAgaWYgKCRzY29wZS5zZWFyY2hNb2RlID09IFwiY2FsbGUubHVnYXJcIikge1xuICAgICAgICBwcm9taXNlU2VhcmNoID0gbG9jYXRpb25BUEkuc2VhcmNoTG9jYXRpb25CeVN0cihxdWVyeSk7XG5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vY29uc29sZS5sb2coXCJidXNjYW5kbyBjYWxsZS9cIiskc2NvcGUuc2VsZWN0ZWRJdGVtLmNvZGlnbytcImVzcXVpbmEgPSBcIiArIHF1ZXJ5KTtcbiAgICAgICAgaWYoJHNjb3BlLmlzTnVtZXJpYyhxdWVyeS50cmltKCkpKXtcbiAgICAgICAgICB2YXIgaXRlbXMgPSBbXTtcbiAgICAgICAgICB2YXIgaXRlbSA9IHtcImRlc2NUaXBvXCI6XCJOVU1FUk9cIixcIm5vbWJyZVwiOnF1ZXJ5LFwiY29kaWdvXCI6cXVlcnl9O1xuICAgICAgICAgIGl0ZW1zWzBdID0gaXRlbTtcbiAgICAgICAgICByZXR1cm4gaXRlbXM7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIHByb21pc2VTZWFyY2ggPSBsb2NhdGlvbkFQSS5zZWFyY2hFc3F1aW5hQnlTdHIoe1xuICAgICAgICAgICAgY2FsbGU6ICRzY29wZS5zZWxlY3RlZEl0ZW0uY29kaWdvLFxuICAgICAgICAgICAgZXNxdWluYTogcXVlcnlcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHByb21pc2VTZWFyY2g7XG4gICAgfWVsc2V7XG4gICAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgfTtcblxuICAkc2NvcGUub25DbGljayA9IGZ1bmN0aW9uKCkge1xuXG4gICAgJHNjb3BlLmlvbkF1dG9jb21wbGV0ZUVsZW1lbnQuY29udHJvbGxlcignaW9uQXV0b2NvbXBsZXRlJykuc2hvd01vZGFsKCk7XG5cbiAgfTtcblxuICAkc2NvcGUuaXRlbXNDbGlja2VkID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcblxuICAgICRzY29wZS5jbGlja2VkVmFsdWVNb2RlbCA9IGNhbGxiYWNrO1xuICAgIC8vJHNjb3BlLnNlbGVjdGVkSXRlbSA9IGNhbGxiYWNrLnNlbGVjdGVkSXRlbXNbMF07XG4gICAgJHNjb3BlLnNlbGVjdGVkSXRlbSA9IGNhbGxiYWNrLml0ZW07XG4gICAgJHNjb3BlLmlvbkF1dG9jb21wbGV0ZUVsZW1lbnRTZWFyY2ggPSBhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImlvbi1hdXRvY29tcGxldGUtc2VhcmNoXCIpKTtcbiAgICBpZiAoJHNjb3BlLnNlYXJjaE1vZGUgPT0gXCJlc3F1aW5hLm51bWVyb1wiKSB7XG4gICAgICBsb2NhdGlvbkdlb21QYXJhbXMucGF0aFBhcmFtcyA9IFtdO1xuICAgICAgJHNjb3BlLmxvY2F0aW9uLmVzcXVpbmE9ICRzY29wZS5zZWxlY3RlZEl0ZW07XG4gICAgICBsb2NhdGlvbkdlb21QYXJhbXMucGF0aFBhcmFtcy5wdXNoKCRzY29wZS5sb2NhdGlvbi5jYWxsZS5jb2RpZ28pO1xuICAgICAgbG9jYXRpb25HZW9tUGFyYW1zLnBhdGhQYXJhbXMucHVzaCgkc2NvcGUubG9jYXRpb24uZXNxdWluYS5jb2RpZ28pO1xuICAgICAgdmFyIHN0cl90aXBvID0gXCJcIjtcbiAgICAgIGlmKCRzY29wZS5pc051bWVyaWMoJHNjb3BlLnNlbGVjdGVkSXRlbS5ub21icmUpKXtcbiAgICAgICAgLy9TZWxlY2Npb27DsyB1biBuw7ptZXJvIGRlIHB1ZXJ0YVxuICAgICAgICBsb2NhdGlvbkdlb21QYXJhbXMudGlwbz1cIkRJUkVDQ0lPTlwiO1xuICAgICAgfWVsc2V7XG4gICAgICAgIC8vc2VsZWNjaW9ubyB1bmEgZXNxdWluYVxuICAgICAgICBsb2NhdGlvbkdlb21QYXJhbXMudGlwbz1cIkVTUVVJTkFcIjsvLyRzY29wZS5zZWxlY3RlZEl0ZW0uZGVzY1RpcG87XG4gICAgICAgIHN0cl90aXBvID0gXCJlc3F1aW5hXCI7XG4gICAgICB9XG4gICAgICBsb2NhdGlvbkFQSS5nZXRMb2NhdGlvbkdlb20obG9jYXRpb25HZW9tUGFyYW1zKS50aGVuKGZ1bmN0aW9uKHJlc3VsdCl7XG4gICAgICAgIC8vY29uc29sZS5sb2cocmVzdWx0Lmdlb0pTT04pO1xuICAgICAgICBNYXBTZXJ2aWNlLmdvVG9QbGFjZShhbmd1bGFyLmV4dGVuZCh7bm9tYnJlOiAkc2NvcGUubG9jYXRpb24uY2FsbGUubm9tYnJlICsgXCIgXCIgKyBzdHJfdGlwbyArIFwiIFwiICsgJHNjb3BlLnNlbGVjdGVkSXRlbS5ub21icmUsIGdlb206IHJlc3VsdC5nZW9KU09OfSxyZXN1bHQpLCRzY29wZSk7XG4gICAgICAgICRzY29wZS5zZWFyY2hNb2RlID0gXCJjYWxsZS5sdWdhclwiO1xuICAgICAgICAkc2NvcGUuaW9uQXV0b2NvbXBsZXRlRWxlbWVudFNlYXJjaC5hdHRyKFwicGxhY2Vob2xkZXJcIiwgXCJCdXNjYXIgY2FsbGVcIik7XG4gICAgICAgICRzY29wZS5leHRlcm5hbE1vZGVsID0gW107XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgJHNjb3BlLmxvY2F0aW9uLmNhbGxlPSAkc2NvcGUuc2VsZWN0ZWRJdGVtO1xuICAgICAgJHNjb3BlLnNlYXJjaE1vZGUgPSBcImVzcXVpbmEubnVtZXJvXCI7XG4gICAgICAkc2NvcGUuaW9uQXV0b2NvbXBsZXRlRWxlbWVudFNlYXJjaC5hdHRyKFwicGxhY2Vob2xkZXJcIiwgXCJFc3F1aW5hIG8gbsO6bWVyb1wiKTtcbiAgICAgICRzY29wZS5pb25BdXRvY29tcGxldGVFbGVtZW50LmNvbnRyb2xsZXIoJ2lvbkF1dG9jb21wbGV0ZScpLnNob3dNb2RhbCgpO1xuICAgICAgJHNjb3BlLnByZXNlbGVjdGVkU2VhcmNoSXRlbXMgPSBbXTtcbiAgICB9XG5cbiAgfTtcblxuICAkc2NvcGUuaXRlbXNDYW5jZWxlZD0gZnVuY3Rpb24oX2l0ZW0pe1xuICAgIHZhciBudW1QdWVydGEgPSBwYXJzZUludChfaXRlbS5zZWFyY2hRdWVyeSk7XG4gICAgaWYoTnVtYmVyLmlzSW50ZWdlcihudW1QdWVydGEpKXtcbiAgICAgIC8vY29uc29sZS5sb2coXCJJUyBudW1iZXJcIik7XG4gICAgICBsb2NhdGlvbkdlb21QYXJhbXMudGlwbz1cIkRJUkVDQ0lPTlwiOy8vJHNjb3BlLnNlbGVjdGVkSXRlbS5kZXNjVGlwbztcbiAgICAgIGxvY2F0aW9uR2VvbVBhcmFtcy5wYXRoUGFyYW1zLnB1c2goJHNjb3BlLmxvY2F0aW9uLmNhbGxlLmNvZGlnbyk7XG4gICAgICBsb2NhdGlvbkdlb21QYXJhbXMucGF0aFBhcmFtcy5wdXNoKG51bVB1ZXJ0YSk7XG4gICAgICBsb2NhdGlvbkFQSS5nZXRMb2NhdGlvbkdlb20obG9jYXRpb25HZW9tUGFyYW1zKS50aGVuKGZ1bmN0aW9uKHJlc3VsdCl7XG4gICAgICBNYXBTZXJ2aWNlLmdvVG9QbGFjZShhbmd1bGFyLmV4dGVuZCh7bm9tYnJlOiRzY29wZS5zZWxlY3RlZEl0ZW0ubm9tYnJlICsgXCIgXCIgKyBudW1QdWVydGEgfSxyZXN1bHQpLCRzY29wZSk7XG4gICAgICAkc2NvcGUuc2VhcmNoTW9kZSA9IFwiY2FsbGUubHVnYXJcIjtcblxuICAgIH0sZnVuY3Rpb24oZXJyb3Ipe1xuICAgICAgLy9jb25zb2xlLmxvZyhcIkVycm9yIG9idGVuaWVuZG8gbGEgZGlyZWNjaW9uIFwiKyBKU09OLnN0cmluZ2lmeShlcnJvcikpO1xuICAgICAgTG9hZGVyLnNob3dBbGVydChcIkVycm9yXCIsXCJObyBleGlzdGUgZXNhIGRpcmVjY2lvblwiKS50aGVuKGZ1bmN0aW9uKHJlcyl7XG4gICAgICAgICAgJHNjb3BlLmlvbkF1dG9jb21wbGV0ZUVsZW1lbnQuY29udHJvbGxlcignaW9uQXV0b2NvbXBsZXRlJykuc2hvd01vZGFsKCk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgfTtcbn1dKTtcbiIsInBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdBdXRoU2VydmljZScsIFsnJGh0dHAnLCAnJGNvcmRvdmFGaWxlVHJhbnNmZXInLCAnQ29uZmlnU2VydmljZScsIGZ1bmN0aW9uKCRodHRwLCAkY29yZG92YUZpbGVUcmFuc2ZlciwgQ29uZmlnU2VydmljZSkge1xuXG4gIHZhciBiYXNlVVJMID0gQ29uZmlnU2VydmljZS5iYXNlVVJMICsgXCIvYXV0aC9hamF4L1wiO1xuXG4gIHJldHVybiB7XG4gICAgc2lnbl9pbjogZnVuY3Rpb24gKHBhc3N3b3JkLCBlbWFpbCkge1xuICAgICAgcmV0dXJuICRodHRwLmdldChiYXNlVVJMICsgXCJzaWduX2luXCIsIHsgcGFyYW1zOiB7IHBhc3N3b3JkX3NpZ25faW46IHBhc3N3b3JkLCBlbWFpbDogZW1haWwgfSB9KTtcbiAgICB9LFxuXG4gICAgc2lnbl9vdXQ6IGZ1bmN0aW9uIChwYXNzd29yZCwgZW1haWwpIHtcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoYmFzZVVSTCArIFwic2lnbl9vdXRcIiwgeyBwYXJhbXM6IHsgcGFzc3dvcmRfc2lnbl9pbjogcGFzc3dvcmQsIGVtYWlsOiBlbWFpbCB9IH0pO1xuICAgIH0sXG5cbiAgICBjcmVhdGVfdXNlcjogZnVuY3Rpb24gKGVtYWlsLGZ1bGxuYW1lLHBhc3N3b3JkLCBpZF9kb2MsIHVzZXJfcGhvbmUpIHtcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoYmFzZVVSTCArIFwiY3JlYXRlX3VzZXJcIiwgeyBwYXJhbXM6IHsgZm9ybV9lbWFpbDogZW1haWwsIG5hbWU6IGZ1bGxuYW1lLCBwYXNzd29yZF9yZWdpc3RlcjogcGFzc3dvcmQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZGVudGl0eV9kb2N1bWVudDogaWRfZG9jLCBwaG9uZTogdXNlcl9waG9uZSB9IH0pO1xuICAgIH0sXG5cbiAgICBjaGFuZ2VfcGFzc3dvcmQ6IGZ1bmN0aW9uIChlbWFpbCxmdWxsbmFtZSxwYXNzd29yZCwgaWRfZG9jLCB1c2VyX3Bob25lKSB7XG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KGJhc2VVUkwgKyBcImNyZWF0ZV91c2VyXCIsIHsgcGFyYW1zOiB7IGxvZ2luX2VtYWlsOiBlbWFpbCwgbmFtZTogZnVsbG5hbWUsIHBhc3N3b3JkX3JlZ2lzdGVyOiBwYXNzd29yZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkZW50aXR5X2RvY3VtZW50OiBpZF9kb2MsIHBob25lOiB1c2VyX3Bob25lIH0gfSk7XG4gICAgfSxcblxuICAgIGVkaXRfdXNlcjogZnVuY3Rpb24gKGVtYWlsLHBhc3N3b3JkLCBmdWxsbmFtZSwgbmV3X2VtYWlsLCBpZF9kb2MsIHVzZXJfcGhvbmUsIHVzZXJfcGljdHVyZV91cmwpIHtcbiAgICAgIGlmICh1c2VyX3BpY3R1cmVfdXJsIT1udWxsICYmIHVzZXJfcGljdHVyZV91cmwhPVwiXCIpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICAgICBmaWxlS2V5OiBcInBob3RvXCIsXG4gICAgICAgICAvL2ZpbGVOYW1lOiBmaWxlbmFtZSxcbiAgICAgICAgIC8vY2h1bmtlZE1vZGU6IGZhbHNlLFxuICAgICAgICAgLy9taW1lVHlwZTogXCJpbWFnZS9qcGdcIixcbiAgICAgICAgIHBhcmFtcyA6IHsgIGVtYWlsOiBlbWFpbCxcbiAgICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkX3NpZ25faW46IHBhc3N3b3JkLFxuICAgICAgICAgICAgICAgICAgICAgbmFtZTogZnVsbG5hbWUsXG4gICAgICAgICAgICAgICAgICAgICBuZXdfZW1haWw6IG5ld19lbWFpbCxcbiAgICAgICAgICAgICAgICAgICAgIGlkZW50aXR5X2RvY3VtZW50OiBpZF9kb2MsXG4gICAgICAgICAgICAgICAgICAgICBwaG9uZTogdXNlcl9waG9uZVxuICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHRydXN0QWxsSG9zdHMgPSB0cnVlO1xuICAgICAgICByZXR1cm4gJGNvcmRvdmFGaWxlVHJhbnNmZXIudXBsb2FkKGJhc2VVUkwgKyBcImVkaXRfdXNlclwiLCB1c2VyX3BpY3R1cmVfdXJsLCBvcHRpb25zLCB0cnVzdEFsbEhvc3RzKTtcbiAgICAgIH1lbHNle1xuICAgICAgICByZXR1cm4gJGh0dHAuZ2V0KGJhc2VVUkwgKyBcImVkaXRfdXNlclwiLCB7IHBhcmFtczogeyBlbWFpbDogZW1haWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzd29yZF9zaWduX2luOiBwYXNzd29yZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGZ1bGxuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3X2VtYWlsOiBuZXdfZW1haWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZGVudGl0eV9kb2N1bWVudDogaWRfZG9jLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGhvbmU6IHVzZXJfcGhvbmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgfTtcbn1dKTtcbiIsInBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdDYXRlZ29yaWVzU2VydmljZScsIFsnJGh0dHAnLCdMb2NhdGlvbnNTZXJ2aWNlJywgJ0NvbmZpZ1NlcnZpY2UnLCAnREJTZXJ2aWNlJywgZnVuY3Rpb24oJGh0dHAsTG9jYXRpb25zU2VydmljZSwgQ29uZmlnU2VydmljZSwgREJTZXJ2aWNlKSB7XG5cbiAgdmFyIGJhc2VVUkwgPSBDb25maWdTZXJ2aWNlLmJhc2VVUkwgKyBcIi9yZXBvcnQvbmV3L2FqYXhcIjtcblxuICByZXR1cm4ge1xuICAgIGFsbDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuICRodHRwLmdldChiYXNlVVJMLCB7IHBhcmFtczogeyBsYXQ6IExvY2F0aW9uc1NlcnZpY2UubmV3X3JlcG9ydF9sYXQsIGxvbjogTG9jYXRpb25zU2VydmljZS5uZXdfcmVwb3J0X2xuZywgZm9ybWF0OiBcImpzb25cIiB9IH0pXG4gICAgfSxcblxuICAgIGdldENhY2hlZENhdGVnb3JpZXM6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBEQlNlcnZpY2UuZ2V0Q2F0ZWdvcmllcygpO1xuICAgIH1cbiAgfTtcbn1dKTtcbiIsInBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdDb25maWdTZXJ2aWNlJywgWyckaHR0cCcsIGZ1bmN0aW9uKCRodHRwKSB7XG5cbiAgdmFyIENvbmZpZ09iaiA9IHt9O1xuICBDb25maWdPYmouYmFzZVVSTCA9IFwiaHR0cDovL2RvbmRlcmVjaWNsby5kZXZlbG9wbWVudC5kYXRhdXkub3JnXCI7XG5cbiAgcmV0dXJuIENvbmZpZ09iajtcblxufV0pO1xuIiwicG1iX2ltLnNlcnZpY2VzLmZhY3RvcnkoJ0Nvbm5lY3Rpdml0eVNlcnZpY2UnLCBbJyRjb3Jkb3ZhTmV0d29yaycsIGZ1bmN0aW9uKCRjb3Jkb3ZhTmV0d29yayl7XG5cbiAgcmV0dXJuIHtcbiAgICBpc09ubGluZTogZnVuY3Rpb24oKXtcbiAgICAgIGlmKGlvbmljLlBsYXRmb3JtLmlzV2ViVmlldygpKXtcbiAgICAgICAgcmV0dXJuICRjb3Jkb3ZhTmV0d29yay5pc09ubGluZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG5hdmlnYXRvci5vbkxpbmU7XG4gICAgICAgIC8vcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH0sXG4gICAgaXNPZmZsaW5lOiBmdW5jdGlvbigpe1xuICAgICAgaWYoaW9uaWMuUGxhdGZvcm0uaXNXZWJWaWV3KCkpe1xuICAgICAgICByZXR1cm4gISRjb3Jkb3ZhTmV0d29yay5pc09ubGluZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuICFuYXZpZ2F0b3Iub25MaW5lO1xuICAgICAgfVxuICAgIH1cbiAgfVxufV0pXG4iLCJwbWJfaW0uc2VydmljZXMuZmFjdG9yeSgnQ29udGFjdFNlcnZpY2UnLCBbJyRodHRwJywgJ0NvbmZpZ1NlcnZpY2UnLCBmdW5jdGlvbigkaHR0cCwgQ29uZmlnU2VydmljZSkge1xuXG4gIHZhciBiYXNlVVJMID0gQ29uZmlnU2VydmljZS5iYXNlVVJMICsgXCIvZGF0YXV5L2NvbnRhY3QvXCI7XG5cbiAgcmV0dXJuIHtcbiAgICBzZW5kX2NvbnRhY3Q6IGZ1bmN0aW9uIChuYW1lLCBlbWFpbCwgc3ViamVjdCwgbWVzc2FnZSkge1xuICAgICAgcmV0dXJuICRodHRwLmdldChiYXNlVVJMICsgbmFtZSArIFwiL1wiICsgZW1haWwgKyBcIi9cIiArIHN1YmplY3QgKyBcIi9cIiArIG1lc3NhZ2UsIHsgcGFyYW1zOiB7IH0gfSk7XG4gICAgfVxuXG4gIH07XG59XSk7XG4iLCJwbWJfaW0uc2VydmljZXMuZmFjdG9yeSgnQ29udGFpbmVyU2VydmljZScsIFsnJGh0dHAnLCAnbGVhZmxldERhdGEnLCdDb25maWdTZXJ2aWNlJywgZnVuY3Rpb24oJGh0dHAsIGxlYWZsZXREYXRhLCBDb25maWdTZXJ2aWNlKSB7XG5cbiAgdmFyIGJhc2VVUkwgPSBDb25maWdTZXJ2aWNlLmJhc2VVUkwgKyBcIi9yZXBvcnQvYWpheC9cIjtcblxuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3Rvciwgd2l0aCBjbGFzcyBuYW1lXG4gICAqL1xuICBmdW5jdGlvbiBDb250YWluZXIoX2RhdGEpIHtcbiAgICBhbmd1bGFyLmV4dGVuZCh0aGlzLCBfZGF0YSk7XG4gIH1cblxuICBDb250YWluZXIuZ2V0QnlJZCA9IGZ1bmN0aW9uKGlkKXtcbiAgICB2YXIgdXJsID0gYmFzZVVSTCArIGlkO1xuICAgIHJldHVybiAkaHR0cC5nZXQodXJsKS50aGVuKGZ1bmN0aW9uKHJlc3VsdCl7XG4gICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSk7XG4gIH1cblxuXG4gIENvbnRhaW5lci5fZGVmYXVsdCA9IGZ1bmN0aW9uKCl7XG4gICAgdmFyIF9kYXRhID0ge1xuICAgICAgbGF0OiAwLFxuICAgICAgbG9uOiAwLFxuICAgICAgdGl0bGU6IG51bGwsXG4gICAgICBkZXRhaWw6IG51bGwsXG4gICAgICBtYXlfc2hvd19uYW1lOiAxLFxuICAgICAgY2F0ZWdvcnk6IG51bGwsXG4gICAgICBwaG9uZTogbnVsbCxcbiAgICAgIHBjOiAnJyxcbiAgICAgIGZpbGU6IG51bGwsXG4gICAgICBuYW1lOiBudWxsLFxuICAgICAgZW1haWw6IG51bGwsXG4gICAgICBzdWJtaXRfc2lnbl9pbjogMSxcbiAgICAgIHBhc3N3b3JkX3NpZ25faW46IG51bGwsXG4gICAgICByZW1lbWJlcl9tZToxXG4gICAgfTtcbiAgICByZXR1cm4gbmV3IENvbnRhaW5lcihfZGF0YSk7XG4gIH07XG5cbiAgICBDb250YWluZXIuX2FsbCA9IFtdO1xuICAgIENvbnRhaW5lci5jdXJyZW50ID0ge307XG4gICAgQ29udGFpbmVyLl9uZXcgPSBmdW5jdGlvbigpe1xuICAgICAgLypSZXBvcnQuY3VycmVudCA9IFJlcG9ydC5fZGVmYXVsdCgpO1xuICAgICAgcmV0dXJuIFJlcG9ydC5jdXJyZW50OyovXG4gICAgICByZXR1cm4gQ29udGFpbmVyLl9kZWZhdWx0KCk7XG4gICAgfTtcblxuXG5cbiAgICAvKipcbiAgICAgKiBTdGF0aWMgbWV0aG9kLCBhc3NpZ25lZCB0byBjbGFzc1xuICAgICAqIEluc3RhbmNlICgndGhpcycpIGlzIG5vdCBhdmFpbGFibGUgaW4gc3RhdGljIGNvbnRleHRcbiAgICAgKi9cbiAgICBDb250YWluZXIuYnVpbGQgPSBmdW5jdGlvbihfZGF0YSkge1xuICAgICAgcmV0dXJuIG5ldyBDb250YWluZXIoX2RhdGEpO1xuICAgIH07XG5cbiAgICBDb250YWluZXIucHJvdG90eXBlLnNldExhdExuZyA9IGZ1bmN0aW9uIChsYXQsbG5nKSB7XG4gICAgICB0aGlzLmxhdCA9IGxhdDtcbiAgICAgIHRoaXMubG9uID0gbG5nO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIGNvbnN0cnVjdG9yIGZ1bmN0aW9uXG4gICAgICovXG4gICAgcmV0dXJuIENvbnRhaW5lcjtcblxufV0pO1xuIiwicG1iX2ltLnNlcnZpY2VzLmZhY3RvcnkoJ0RCU2VydmljZScsIFsnJHEnLCBmdW5jdGlvbigkcSkge1xuICAgdmFyIF9kYjtcblxuICAgcmV0dXJuIHtcbiAgICAgICBpbml0REI6IGluaXREQixcbiAgICAgICBzYXZlVXNlcjogc2F2ZVVzZXIsXG4gICAgICAgZ2V0VXNlcjogZ2V0VXNlcixcbiAgICAgICBlcmFzZVVzZXI6IGVyYXNlVXNlcixcbiAgICAgICBzYXZlUmVwb3J0OiBzYXZlUmVwb3J0LFxuICAgICAgIGdldFJlcG9ydDogZ2V0UmVwb3J0LFxuICAgICAgIGdldEFsbFJlcG9ydHM6IGdldEFsbFJlcG9ydHMsXG4gICAgICAgdXBkYXRlUmVwb3J0OiB1cGRhdGVSZXBvcnQsXG4gICAgICAgZGVsZXRlUmVwb3J0OiBkZWxldGVSZXBvcnQsXG4gICAgICAgZGVsZXRlR2l2ZW5SZXBvcnQ6IGRlbGV0ZUdpdmVuUmVwb3J0LFxuICAgICAgIGdldENhdGVnb3JpZXM6IGdldENhdGVnb3JpZXMsXG4gICAgICAgc2F2ZUNhdGVnb3JpZXM6IHNhdmVDYXRlZ29yaWVzLFxuICAgICAgIGdldERvbmVXYWxrdGhyb3VnaDogZ2V0RG9uZVdhbGt0aHJvdWdoLFxuICAgICAgIHNhdmVEb25lV2Fsa3Rocm91Z2g6IHNhdmVEb25lV2Fsa3Rocm91Z2hcbiAgIH07XG5cbiAgIGZ1bmN0aW9uIHNhdmVVc2VyKHVzZXJfbmFtZSwgdXNlcl9lbWFpbCwgdXNlcl9wYXNzd29yZCwgdXNlcl9pZF9kb2MsIHVzZXJfcGhvbmUsIHVzZXJfcGljdHVyZV91cmwpIHtcbiAgICAgICAgIHZhciB1c2VyID0ge1xuICAgICAgICAgICAgX2lkOiAndXNlci1sb2dnZWQnLFxuICAgICAgICAgICAgbmFtZTogdXNlcl9uYW1lLFxuICAgICAgICAgICAgZW1haWw6IHVzZXJfZW1haWwsXG4gICAgICAgICAgICBwYXNzd29yZDogdXNlcl9wYXNzd29yZCxcbiAgICAgICAgICAgIGlkZW50aXR5X2RvY3VtZW50OiB1c2VyX2lkX2RvYyxcbiAgICAgICAgICAgIHBob25lOiB1c2VyX3Bob25lLFxuICAgICAgICAgICAgcGljdHVyZV91cmw6IHVzZXJfcGljdHVyZV91cmxcbiAgICAgICAgIH07XG4gICAgICAgICBnZXRVc2VyKCkudGhlbihmdW5jdGlvbiAoZG9jKSB7XG4gICAgICAgICAgIHVzZXIuX3JldiA9IGRvYy5fcmV2O1xuICAgICAgICAgICByZXR1cm4gX2RiLnB1dCh1c2VyKTtcbiAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgcmV0dXJuIF9kYi5wdXQodXNlcik7XG4gICAgICAgICB9KVxuICAgfTtcblxuICAgZnVuY3Rpb24gc2F2ZURvbmVXYWxrdGhyb3VnaCgpIHtcbiAgICAgIHZhciBkb25lV2Fsa3Rocm91Z2ggPSB7XG4gICAgICAgICBfaWQ6ICdkb25lLXdhbGt0aHJvdWdoJyxcbiAgICAgICAgIHN0YXR1czogJ2RvbmUnXG4gICAgICB9O1xuICAgICAgcmV0dXJuIF9kYi5wdXQoZG9uZVdhbGt0aHJvdWdoKTtcbiAgICB9O1xuXG4gIGZ1bmN0aW9uIGdldERvbmVXYWxrdGhyb3VnaCgpIHtcbiAgIHJldHVybiBfZGIuZ2V0KCdkb25lLXdhbGt0aHJvdWdoJyk7XG4gIH07XG5cbiAgZnVuY3Rpb24gZ2V0VXNlcigpIHtcbiAgICAgcmV0dXJuIF9kYi5nZXQoJ3VzZXItbG9nZ2VkJyk7XG4gIH07XG5cbiAgZnVuY3Rpb24gZXJhc2VVc2VyKCkge1xuICAgIF9kYi5nZXQoJ3VzZXItbG9nZ2VkJykudGhlbihmdW5jdGlvbihkb2MpIHtcbiAgICAgIHJldHVybiBfZGIucmVtb3ZlKGRvYyk7XG4gICAgfSk7XG4gIH1cblxuICAgZnVuY3Rpb24gaW5pdERCKCkge1xuICAgICAgIC8vIENyZWF0ZXMgdGhlIGRhdGFiYXNlIG9yIG9wZW5zIGlmIGl0IGFscmVhZHkgZXhpc3RzXG4gICAgICAgX2RiID0gbmV3IFBvdWNoREIoJ3BtYl9sb2NhbF9kYicpO1xuICAgICAgIHJldHVybiBfZGI7XG4gICB9O1xuXG4gICBmdW5jdGlvbiBzYXZlUmVwb3J0KHJlcG9ydCkge1xuICAgICAgLy9uZXdfcmVwb3J0X2lkID0gXCJyZXBvcnRfXCIgKyBwb3VjaENvbGxhdGUudG9JbmRleGFibGVTdHJpbmcoW3JlcG9ydF0pO1xuICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSgpO1xuICAgICAgdmFyIG5ld19yZXBvcnRfaWQgPSBcInJlcG9ydF9cIiArIGRhdGUuZ2V0RnVsbFllYXIoKSArIChkYXRlLmdldE1vbnRoKCkgKyAxKSArIGRhdGUuZ2V0RGF0ZSgpICsgZGF0ZS5nZXRNaWxsaXNlY29uZHMoKTtcbiAgICAgIHJlcG9ydC5faWQgPSBuZXdfcmVwb3J0X2lkO1xuICAgICAgcmV0dXJuIF9kYi5wdXQocmVwb3J0KTtcbiAgIH07XG5cbiAgIGZ1bmN0aW9uIHVwZGF0ZVJlcG9ydChyZXBvcnQpIHtcbiAgICAgcmV0dXJuIF9kYi5wdXQocmVwb3J0KTtcbiAgfTtcblxuICAgZnVuY3Rpb24gZ2V0Q2F0ZWdvcmllcygpIHtcbiAgICAgcmV0dXJuIF9kYi5nZXQoJ2NhdGVnb3JpZXMtbGlzdCcpO1xuICAgfTtcblxuICAgZnVuY3Rpb24gc2F2ZUNhdGVnb3JpZXMoY2F0ZWdvcmllcykge1xuICAgICBnZXRDYXRlZ29yaWVzKCkudGhlbihmdW5jdGlvbiAoZG9jKSB7XG4gICAgICAgY2F0ZWdvcmllcy5fcmV2ID0gZG9jLl9yZXY7XG4gICAgICAgcmV0dXJuIF9kYi5wdXQoY2F0ZWdvcmllcyk7XG4gICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICBjYXRlZ29yaWVzLl9pZCA9IFwiY2F0ZWdvcmllcy1saXN0XCI7XG4gICAgICAgcmV0dXJuIF9kYi5wdXQoY2F0ZWdvcmllcyk7XG4gICAgIH0pXG4gICB9O1xuXG4gIGZ1bmN0aW9uIGdldFJlcG9ydChyZXBvcnRJZCkge1xuICAgICByZXR1cm4gX2RiLmdldChyZXBvcnRJZCk7XG4gIH07XG5cbiAgIGZ1bmN0aW9uIGdldEFsbFJlcG9ydHMoKSB7XG4gICAgIHJldHVybiBfZGIuYWxsRG9jcyh7XG4gICAgICBpbmNsdWRlX2RvY3M6IHRydWUsXG4gICAgICBhdHRhY2htZW50czogZmFsc2UsXG4gICAgICBzdGFydGtleTogJ3JlcG9ydF8nLFxuICAgICAgZW5ka2V5OiAncmVwb3J0X1xcdWZmZmYnXG4gICAgIH0pOy8qLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgLy8gaGFuZGxlIHJlc3VsdFxuICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgfSk7Ki9cbiAgfTtcblxuICBmdW5jdGlvbiBkZWxldGVSZXBvcnQocmVwb3J0X2lkKSB7XG4gICAgX2RiLmdldChyZXBvcnRfaWQpLnRoZW4oZnVuY3Rpb24oZG9jKSB7XG4gICAgICByZXR1cm4gX2RiLnJlbW92ZShkb2MpO1xuICAgIH0pO1xuICB9O1xuXG4gIGZ1bmN0aW9uIGRlbGV0ZUdpdmVuUmVwb3J0KHJlcG9ydCkge1xuICAgIHJldHVybiBfZGIucmVtb3ZlKHJlcG9ydCk7XG4gIH07XG5cbn1dKTtcbiIsInBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdFcnJvclNlcnZpY2UnLCBbJyRodHRwJywnJGlvbmljUG9wdXAnLCAnVmFsaWRhdGlvblNlcnZpY2UnLCBmdW5jdGlvbigkaHR0cCwkaW9uaWNQb3B1cCxWYWxpZGF0aW9uU2VydmljZSkge1xuXG4gIHJldHVybiB7XG4gICAgaHR0cF9yZXNwb25zZV9pc19zdWNjZXNzZnVsOiBmdW5jdGlvbiAoanNvblJlc3VsdCwgZXJyb3JDb250YWluZXJJZCkge1xuICAgICAgdmFyIGVycm9yRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZXJyb3JDb250YWluZXJJZCk7XG4gICAgICBpZihqc29uUmVzdWx0LmRhdGEucmVzdWx0PT0wKXtcbiAgICAgICAgZXJyb3JEaXYuaW5uZXJIVE1MPVwiPGgzPlwiICsganNvblJlc3VsdC5kYXRhLm1lc3NhZ2UgKyBcIjwvaDM+XCI7XG4gICAgICAgIGVycm9yRGl2LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1lbHNle1xuICAgICAgICBlcnJvckRpdi5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBodHRwX3Jlc3BvbnNlX2lzX3N1Y2Nlc3NmdWxfYWpheDogZnVuY3Rpb24gKGpzb25SZXN1bHQpIHtcbiAgICAgIGlmKGpzb25SZXN1bHQuZGF0YS5yZXN1bHQ9PTApe1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfSxcblxuICAgIGh0dHBfcmVzcG9uc2VfaXNfc3VjY2Vzc2Z1bF9wb3B1cDogZnVuY3Rpb24gKGpzb25SZXN1bHQpIHtcbiAgICAgIGlmKGpzb25SZXN1bHQuZGF0YS5yZXN1bHQ9PTApe1xuICAgICAgICB2YXIgYWxlcnRQb3B1cCA9ICRpb25pY1BvcHVwLmFsZXJ0KHtcbiAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICB0ZW1wbGF0ZToganNvblJlc3VsdC5kYXRhLm1lc3NhZ2VcbiAgICAgICAgfSk7XG4gICAgICAgIGFsZXJ0UG9wdXAudGhlbihmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfSxcblxuICAgIGh0dHBfZGF0YV9yZXNwb25zZV9pc19zdWNjZXNzZnVsOiBmdW5jdGlvbiAoZGF0YSwgZXJyb3JDb250YWluZXJJZCkge1xuICAgICAgdmFyIGVycm9yRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZXJyb3JDb250YWluZXJJZCk7XG4gICAgICBpZihkYXRhLnJlc3VsdD09MCl7XG4gICAgICAgIGVycm9yRGl2LmlubmVySFRNTD1cIjxoMz5cIiArIGRhdGEubWVzc2FnZSArIFwiPC9oMz5cIjtcbiAgICAgICAgZXJyb3JEaXYuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfWVsc2V7XG4gICAgICAgIGVycm9yRGl2LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfSxcblxuICAgIGh0dHBfZGF0YV9yZXNwb25zZV9pc19zdWNjZXNzZnVsX2FqYXg6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICBpZihkYXRhLnJlc3VsdD09MCl7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1lbHNle1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgc2hvd19lcnJvcl9tZXNzYWdlOiBmdW5jdGlvbiAoZXJyb3JDb250YWluZXJJZCwgbWVzc2FnZSkge1xuICAgICAgICB2YXIgZXJyb3JEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlcnJvckNvbnRhaW5lcklkKTtcbiAgICAgICAgZXJyb3JEaXYuaW5uZXJIVE1MPVwiPGgzPlwiICsgbWVzc2FnZSArIFwiPC9oMz5cIjtcbiAgICAgICAgZXJyb3JEaXYuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG5cbiAgICBzaG93X2Vycm9yX21lc3NhZ2VfcG9wdXA6IGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgICAgIHZhciBhbGVydFBvcHVwID0gJGlvbmljUG9wdXAuYWxlcnQoe1xuICAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcbiAgICAgICAgIHRlbXBsYXRlOiBtZXNzYWdlXG4gICAgICAgIH0pO1xuICAgICAgICBhbGVydFBvcHVwLnRoZW4oZnVuY3Rpb24ocmVzKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG5cbiAgICBjaGVja19maWVsZHM6IGZ1bmN0aW9uIChmaWVsZHMsIGVycm9yQ29udGFpbmVySWQpIHtcbiAgICAgIHZhciBlcnJvcnMgPSBcIlwiO1xuICAgICAgZmllbGRzLmZvckVhY2goZnVuY3Rpb24oZmllbGQpIHtcbiAgICAgICAgaWYoZmllbGQudHlwZT09XCJub3ROdWxsXCIpe1xuICAgICAgICAgIGlmKCFWYWxpZGF0aW9uU2VydmljZS52YWxpZGF0ZV9ub3RfZW1wdHkoZmllbGQudmFsdWUpKXtcbiAgICAgICAgICAgIGVycm9ycyA9IGVycm9ycyArICc8aDM+LSBFbCBjYW1wbyBcIicgKyBmaWVsZC5uYW1lICsgJ1wiIG5vIHB1ZWRlIGVzdGFyIHZhY8Otby48L2gzPic7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmKGZpZWxkLnR5cGU9PVwiZW1haWxcIil7XG4gICAgICAgICAgaWYoIVZhbGlkYXRpb25TZXJ2aWNlLnZhbGlkYXRlX2VtYWlsKGZpZWxkLnZhbHVlKSl7XG4gICAgICAgICAgICBlcnJvcnMgPSBlcnJvcnMgKyAnPGgzPi0gRWwgY2FtcG8gXCInICsgZmllbGQubmFtZSArICdcIiBubyBlcyB1bmEgZGlyZWNjacOzbiBkZSBjb3JyZW8gdsOhbGlkYS48L2gzPic7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmKGZpZWxkLnR5cGU9PVwiaWRkb2NfdXlcIil7XG4gICAgICAgICAgaWYoIVZhbGlkYXRpb25TZXJ2aWNlLnZhbGlkYXRlX2lkZG9jX3V5KGZpZWxkLnZhbHVlKSl7XG4gICAgICAgICAgICBlcnJvcnMgPSBlcnJvcnMgKyAnPGgzPi0gRWwgY2FtcG8gXCInICsgZmllbGQubmFtZSArICdcIiBubyBlcyB1bmEgY8OpZHVsYSB1cnVndWF5YSB2w6FsaWRhLjwvaDM+JztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYoZmllbGQudHlwZT09XCJ0d29fd29yZHNcIil7XG4gICAgICAgICAgaWYoIVZhbGlkYXRpb25TZXJ2aWNlLnZhbGlkYXRlX3R3b193b3JkcyhmaWVsZC52YWx1ZSkpe1xuICAgICAgICAgICAgZXJyb3JzID0gZXJyb3JzICsgJzxoMz4tIEVsIGNhbXBvIFwiJyArIGZpZWxkLm5hbWUgKyAnXCIgZGViZSBjb250ZW5lciBhbCBtZW5vcyBkb3MgcGFsYWJyYXMuPC9oMz4nO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZihlcnJvcnMgPT1cIlwiKXtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgdmFyIGVycm9yRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZXJyb3JDb250YWluZXJJZCk7XG4gICAgICAgIGVycm9yRGl2LmlubmVySFRNTD0gZXJyb3JzO1xuICAgICAgICBlcnJvckRpdi5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfSxcblxuICAgIGNoZWNrX2ZpZWxkOiBmdW5jdGlvbiAoZmllbGQsIHR5cGUsIGxhYmVsKSB7XG4gICAgICAgIHZhciBvayA9IHRydWU7XG4gICAgICAgIGlmKHR5cGU9PVwibm90TnVsbFwiKXtcbiAgICAgICAgICBpZighVmFsaWRhdGlvblNlcnZpY2UudmFsaWRhdGVfbm90X2VtcHR5KGZpZWxkLnZhbHVlKSl7XG4gICAgICAgICAgICBvayA9IGZhbHNlO1xuICAgICAgICAgICAgbGFiZWwuaW5uZXJIVE1MPVwiRGViZXMgY29tcGxldGFyPGJyLz5lbCBjYW1wbyBcIitmaWVsZC5uYW1lO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZih0eXBlPT1cImVtYWlsXCIpe1xuICAgICAgICAgIGlmKCFWYWxpZGF0aW9uU2VydmljZS52YWxpZGF0ZV9lbWFpbChmaWVsZC52YWx1ZSkpe1xuICAgICAgICAgICAgb2sgPSBmYWxzZTtcbiAgICAgICAgICAgIGxhYmVsLmlubmVySFRNTD1cIkVsIGNhbXBvIFwiK2ZpZWxkLm5hbWUrXCI8YnIvPm5vIGVzIHVuIGVtYWlsIHbDoWxpZG9cIjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYodHlwZT09XCJpZGRvY191eVwiKXtcbiAgICAgICAgICBpZighVmFsaWRhdGlvblNlcnZpY2UudmFsaWRhdGVfaWRkb2NfdXkoZmllbGQudmFsdWUpKXtcbiAgICAgICAgICAgIG9rID0gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmKHR5cGU9PVwidHdvX3dvcmRzXCIpe1xuICAgICAgICAgIGlmKCFWYWxpZGF0aW9uU2VydmljZS52YWxpZGF0ZV90d29fd29yZHMoZmllbGQudmFsdWUpKXtcbiAgICAgICAgICAgIG9rID0gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmKHR5cGU9PVwidGV4dGFyZWFcIil7XG4gICAgICAgICAgaWYoIVZhbGlkYXRpb25TZXJ2aWNlLnZhbGlkYXRlX25vdF9lbXB0eShmaWVsZC5pbm5lckhUTUwpKXtcbiAgICAgICAgICAgIG9rID0gZmFsc2U7XG4gICAgICAgICAgICBsYWJlbC5pbm5lckhUTUw9XCJEZWJlcyBjb21wbGV0YXI8YnIvPmVsIGNhbXBvIFwiK2ZpZWxkLm5hbWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmKHR5cGU9PVwic2VsZWN0XCIpe1xuICAgICAgICAgIGlmKCFWYWxpZGF0aW9uU2VydmljZS52YWxpZGF0ZV9ub3RfZW1wdHkoZmllbGQuaW5uZXJIVE1MKSl7XG4gICAgICAgICAgICBvayA9IGZhbHNlO1xuICAgICAgICAgICAgbGFiZWwuaW5uZXJIVE1MPVwiRGViZXMgY29tcGxldGFyPGJyLz5lbCBjYW1wbyBcIitmaWVsZC5uYW1lO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZighb2spe1xuICAgICAgICAgIGZpZWxkLnN0eWxlLmJvcmRlckNvbG9yID0gXCJyZWRcIjtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgZmllbGQuc3R5bGUuYm9yZGVyQ29sb3IgPSBcIiM5Nzk3OTdcIjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2s7XG4gICAgfVxuXG5cbiAgfTtcbn1dKTtcbiIsInBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdGYXFTZXJ2aWNlJywgWyckaHR0cCcsICdDb25maWdTZXJ2aWNlJywgZnVuY3Rpb24oJGh0dHAsIENvbmZpZ1NlcnZpY2UpIHtcblxuICB2YXIgYmFzZVVSTCA9IENvbmZpZ1NlcnZpY2UuYmFzZVVSTCArIFwiL2ZhcVwiO1xuXG4gIHJldHVybiB7XG4gICAgYWxsOiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KGJhc2VVUkwsIHsgcGFyYW1zOiB7IGFqYXg6IFwiMVwiIH0gfSk7XG4gICAgfVxuICB9O1xufV0pO1xuIiwicG1iX2ltLnNlcnZpY2VzLmZhY3RvcnkoJ0xvYWRlcicsIFsnJGlvbmljTG9hZGluZycsICckdGltZW91dCcsJyRpb25pY1BvcHVwJyxmdW5jdGlvbigkaW9uaWNMb2FkaW5nLCR0aW1lb3V0LCRpb25pY1BvcHVwKSB7XG5cbiAgdmFyIExPQURFUkFQSSA9IHtcblxuICAgIHNob3dMb2FkaW5nOiBmdW5jdGlvbih0ZXh0KSB7XG4gICAgICB0ZXh0ID0gdGV4dCB8fCAnTG9hZGluZy4uLic7XG4gICAgICAkaW9uaWNMb2FkaW5nLnNob3coe1xuICAgICAgICB0ZW1wbGF0ZTogdGV4dFxuICAgICAgfSk7XG4gICAgfSxcblxuICAgIGhpZGVMb2FkaW5nOiBmdW5jdGlvbigpIHtcbiAgICAgICRpb25pY0xvYWRpbmcuaGlkZSgpO1xuICAgIH0sXG5cbiAgICB0b2dnbGVMb2FkaW5nV2l0aE1lc3NhZ2U6IGZ1bmN0aW9uKHRleHQsIHRpbWVvdXQpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgc2VsZi5zaG93TG9hZGluZyh0ZXh0KTtcblxuICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIHNlbGYuaGlkZUxvYWRpbmcoKTtcbiAgICAgIH0sIHRpbWVvdXQgfHwgMzAwMCk7XG4gICAgfSxcblxuICAgIGNvbmZpcm1Qb3B1cDpmdW5jdGlvbih0aXRsZSx0ZXh0KXtcbiAgICAgIHZhciBjb25maXJtUG9wdXAgPSAkaW9uaWNQb3B1cC5jb25maXJtKHtcbiAgICAgdGl0bGU6IHRpdGxlLFxuICAgICB0ZW1wbGF0ZTogdGV4dFxuICAgfSk7XG4gICByZXR1cm4gY29uZmlybVBvcHVwO1xuIH0sXG5cblxuICAgIHNob3dBbGVydDpmdW5jdGlvbihfdGl0bGUsX3RlbXBsYXRlKSB7XG4gICAgICB2YXIgYWxlcnRQb3B1cCA9ICRpb25pY1BvcHVwLmFsZXJ0KHtcbiAgICAgICAgdGl0bGU6IF90aXRsZSxcbiAgICAgICAgdGVtcGxhdGU6IF90ZW1wbGF0ZVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gYWxlcnRQb3B1cDtcbiB9XG5cbiAgfTtcbiAgcmV0dXJuIExPQURFUkFQSTtcbn1dKTtcbiIsInBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdMb2NhdGlvbnNTZXJ2aWNlJywgWyBmdW5jdGlvbigpIHtcblxuICB2YXIgbG9jYXRpb25zT2JqID0ge307XG4gIGxvY2F0aW9uc09iai5pbml0aWFsX2xhdCA9IFwiXCI7XG4gIGxvY2F0aW9uc09iai5pbml0aWFsX2xuZyA9IFwiXCI7XG4gIGxvY2F0aW9uc09iai5uZXdfcmVwb3J0X2xhdCA9IFwiXCI7XG4gIGxvY2F0aW9uc09iai5uZXdfcmVwb3J0X2xuZyA9IFwiXCI7XG5cbiAgbG9jYXRpb25zT2JqLnNhdmVfaW5pdGlhbF9wb3NpdGlvbiA9IGZ1bmN0aW9uKHBvc2l0aW9uKSB7XG4gICAgbG9jYXRpb25zT2JqLmluaXRpYWxfbGF0ID0gIHBvc2l0aW9uLmNvb3Jkcy5sYXRpdHVkZTtcbiAgICBsb2NhdGlvbnNPYmouaW5pdGlhbF9sbmcgPSAgcG9zaXRpb24uY29vcmRzLmxvbmdpdHVkZTtcbiAgfVxuXG4gIGxvY2F0aW9uc09iai5zYXZlX25ld19yZXBvcnRfcG9zaXRpb24gPSBmdW5jdGlvbihsYXQsbG5nKXtcbiAgICBsb2NhdGlvbnNPYmoubmV3X3JlcG9ydF9sYXQgPSBsYXQ7XG4gICAgbG9jYXRpb25zT2JqLm5ld19yZXBvcnRfbG5nID0gbG5nO1xuICB9XG5cbiAgbG9jYXRpb25zT2JqLnNhdmVkTG9jYXRpb25zID0gW107XG5cbiAgcmV0dXJuIGxvY2F0aW9uc09iajtcblxufV0pO1xuIiwiIC8vcG1iX2ltLnNlcnZpY2VzLmZhY3RvcnkoJ01hcFNlcnZpY2UnLCBbIGZ1bmN0aW9uKCkge1xuIHBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdNYXBTZXJ2aWNlJywgWydsZWFmbGV0RGF0YScsICckY29tcGlsZScsIGZ1bmN0aW9uKGxlYWZsZXREYXRhLCAkY29tcGlsZSkge1xuXG4gICAvL0RlZmluaWNpb24gZGUgbGEgcHJveWVjY2Npb24gVVRNIDIxIHNcbiAgIHByb2o0LmRlZnMoJ0VQU0c6MzI3MjEnLCAnK3Byb2o9dXRtICt6b25lPTIxICtzb3V0aCArZWxscHM9V0dTODQgK2RhdHVtPVdHUzg0ICt1bml0cz1tICtub19kZWZzJyk7XG5cblxuICAgdmFyIG1hcFNlcnZpY2UgPSB7fTtcblxuICAgbWFwU2VydmljZS5nb1RvUGxhY2UgPSBmdW5jdGlvbihfcGxhY2Usc2NvcGUpIHtcblxuICAgICB2YXIgX2dlb0pzb24gPSB7XG4gICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgbm9tYnJlOiBfcGxhY2Uubm9tYnJlXG4gICAgICAgfSxcbiAgICAgICBjcnM6IHtcbiAgICAgICAgIHR5cGU6ICduYW1lJyxcbiAgICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICAgbmFtZTogJ3VybjpvZ2M6ZGVmOmNyczpFUFNHOjozMjcyMSdcbiAgICAgICAgIH1cbiAgICAgICB9XG4gICAgIH07XG4gICAgIF9nZW9Kc29uID0gYW5ndWxhci5leHRlbmQoX2dlb0pzb24sIF9wbGFjZS5nZW9tKTtcbiAgICAgLy9hbGVydChKU09OLnN0cmluZ2lmeShfcGxhY2UuZ2VvbSkpO1xuICAgICBsZWFmbGV0RGF0YS5nZXRNYXAoKS50aGVuKGZ1bmN0aW9uKG1hcCkge1xuICAgICAgIHZhciBfbGF0bG5nO1xuICAgICAgIHZhciBsYXllciA9IEwuUHJvai5nZW9Kc29uKF9nZW9Kc29uLCB7XG4gICAgICAgICAncG9pbnRUb0xheWVyJzogZnVuY3Rpb24oZmVhdHVyZSwgbGF0bG5nKSB7XG4gICAgICAgICAgIF9sYXRsbmcgPSBsYXRsbmc7XG4gICAgICAgICAgIHJldHVybiBMLm1hcmtlcihsYXRsbmcpO1xuICAgICAgICAgfVxuICAgICAgIH0pO1xuICAgICAgIC8qbGF5ZXIuYWRkVG8obWFwKTsqL1xuICAgICAgIC8vIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KGxheWVyKSk7XG5cbiAgICAgICBtYXAuc2V0VmlldyhfbGF0bG5nLCAxOCk7XG4gICAgICAgLy9sYXllci5vcGVuUG9wdXAoKTtcbiAgICAgfSk7XG4gICB9O1xuXG4gICBtYXBTZXJ2aWNlLmNlbnRlck1hcE9uQ29vcmRzID0gZnVuY3Rpb24obGF0LGxuZyx6b29tKSB7XG4gICAgIGxlYWZsZXREYXRhLmdldE1hcCgpLnRoZW4oZnVuY3Rpb24obWFwKSB7XG4gICAgICAgIG1hcC5zZXRWaWV3KG5ldyBMLkxhdExuZyhsYXQsIGxuZyksem9vbSk7XG4gICAgICAgfSk7XG4gICAgIH1cblxuICAgcmV0dXJuIG1hcFNlcnZpY2U7XG5cbiB9XSk7XG4iLCJwbWJfaW0uc2VydmljZXMuZmFjdG9yeSgnUE1CU2VydmljZScsIFsnJGh0dHAnLCAnbGVhZmxldERhdGEnLCAnJGNvcmRvdmFGaWxlVHJhbnNmZXInLCAnQ29uZmlnU2VydmljZScsIGZ1bmN0aW9uKCRodHRwLCBsZWFmbGV0RGF0YSwgJGNvcmRvdmFGaWxlVHJhbnNmZXIsQ29uZmlnU2VydmljZSkge1xuXG4gIHZhciBiYXNlID0gQ29uZmlnU2VydmljZS5iYXNlVVJMO1xuXG4gIHZhciBQTUJTZXJ2aWNlID0ge1xuXG4gICAgcmVwb3J0OiBmdW5jdGlvbihmb3JtKSB7XG4gICAgICBpZiAoZm9ybS5maWxlKSB7XG4gICAgICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgICAgZmlsZUtleTogXCJwaG90b1wiLFxuICAgICAgICAgZmlsZU5hbWU6IFwiaW1hZ2UuanBlZ1wiLFxuICAgICAgICAgY2h1bmtlZE1vZGU6IGZhbHNlLFxuICAgICAgICAgbWltZVR5cGU6IFwiaW1hZ2UvanBlZ1wiLFxuICAgICAgICAgcGFyYW1zIDogZm9ybVxuICAgICAgICB9O1xuICAgICAgICBvcHRpb25zLmhlYWRlcnMgPSB7XG4gICAgICAgICAgQ29ubmVjdGlvbjogXCJDbG9zZVwiXG4gICAgICAgIH07XG4gICAgICAgIHZhciB0cnVzdEFsbEhvc3RzID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuICRjb3Jkb3ZhRmlsZVRyYW5zZmVyLnVwbG9hZChiYXNlICsgJy9yZXBvcnQvbmV3L21vYmlsZScsIGZvcm0uZmlsZSwgb3B0aW9ucywgdHJ1c3RBbGxIb3N0cyk7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgcmV0dXJuICRodHRwLmdldChiYXNlICsgJy9yZXBvcnQvbmV3L21vYmlsZScsIHsgcGFyYW1zOiBmb3JtIH0pO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBzdWJzY3JpYmU6IGZ1bmN0aW9uIChlbWFpbCxyZXBvcnRfaWQpIHtcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoYmFzZSArIFwiL2FsZXJ0L3N1YnNjcmliZV9hamF4XCIsIHsgcGFyYW1zOiB7IHJ6bnZ5OiBlbWFpbCwgaWQ6IHJlcG9ydF9pZCwgdHlwZTogXCJ1cGRhdGVzXCIgfSB9KTtcbiAgICB9LFxuXG4gICAgYWJ1c2U6IGZ1bmN0aW9uIChlbWFpbCxyZXBvcnRfaWQsIG5hbWUsIHN1YmplY3QsIG1lc3NhZ2UpIHtcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoYmFzZSArIFwiL2NvbnRhY3Qvc3VibWl0X2FqYXhcIiwgeyBwYXJhbXM6IHsgZW06IGVtYWlsLCBpZDogcmVwb3J0X2lkLCBuYW1lOiBuYW1lLCBzdWJqZWN0OiBzdWJqZWN0LCBtZXNzYWdlOiBtZXNzYWdlIH0gfSk7XG4gICAgfSxcblxuICAgIGhpZGU6IGZ1bmN0aW9uIChyZXBvcnRfaWQpIHtcbiAgICAgIHZhciBkZWxldGVVUkwgPSBcIi9yZXBvcnQvZGVsZXRlX2FqYXgvXCIgKyByZXBvcnRfaWQ7XG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KGJhc2UgKyBkZWxldGVVUkwsIHsgcGFyYW1zOiB7fSB9KTtcbiAgICB9LFxuXG4gICAgY29tbWVudDogZnVuY3Rpb24gKHJlcG9ydF9pZCxtZXNzYWdlLG5hbWUsZW1haWwsbWF5X3Nob3dfbmFtZSxhZGRfYWxlcnQsZml4ZWQpIHtcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoYmFzZSArIFwiL3JlcG9ydC91cGRhdGVfYWpheFwiLFxuICAgICAgeyBwYXJhbXM6XG4gICAgICAgIHtcbiAgICAgICAgICBzdWJtaXRfdXBkYXRlOiAxLFxuICAgICAgICAgIGlkOiByZXBvcnRfaWQsXG4gICAgICAgICAgbWF5X3Nob3dfbmFtZTogbWF5X3Nob3dfbmFtZSxcbiAgICAgICAgICBhZGRfYWxlcnQ6IGFkZF9hbGVydCxcbiAgICAgICAgICBmaXhlZDogZml4ZWQsXG4gICAgICAgICAgdXBkYXRlOiBtZXNzYWdlLFxuICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgZm9ybV9yem52eTogZW1haWxcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSxcblxuICB9O1xuICByZXR1cm4gUE1CU2VydmljZTtcblxufV0pO1xuIiwicG1iX2ltLnNlcnZpY2VzLmZhY3RvcnkoJ1BvcFVwU2VydmljZScsIFsnJGlvbmljUG9wdXAnLCdWYWxpZGF0aW9uU2VydmljZScsIGZ1bmN0aW9uKCRpb25pY1BvcHVwLFZhbGlkYXRpb25TZXJ2aWNlKSB7XG5cbiAgcmV0dXJuIHtcbiAgICBzaG93X2FsZXJ0OiBmdW5jdGlvbiAoYWxlcnRfdGl0bGUsYWxlcnRfbWVzc2FnZSkge1xuICAgICAgICB2YXIgYWxlcnRQb3B1cCA9ICRpb25pY1BvcHVwLmFsZXJ0KHtcbiAgICAgICAgIHRpdGxlOiBhbGVydF90aXRsZSxcbiAgICAgICAgIHRlbXBsYXRlOiBhbGVydF9tZXNzYWdlXG4gICAgICAgIH0pO1xuICAgICAgICBhbGVydFBvcHVwLnRoZW4oZnVuY3Rpb24ocmVzKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuXG4gICBjb25maXJtUG9wdXA6IGZ1bmN0aW9uKHRpdGxlLHRleHQpe1xuICAgICB2YXIgY29uZmlybVBvcHVwID0gJGlvbmljUG9wdXAuY29uZmlybSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHRpdGxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiB0ZXh0XG4gICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICByZXR1cm4gY29uZmlybVBvcHVwO1xuICAgfSxcblxuICAgYXNrRm9yT25lVmFsdWVQb3BVcDogZnVuY3Rpb24oc2NvcGUsdGl0bGUsdGV4dCxmaWVsZF9uYW1lLHZhbGlkYXRpb25UeXBlKXtcbiAgICAgICRzY29wZSA9IHNjb3BlO1xuICAgICAgdmFyIG15UG9wdXAgPSAkaW9uaWNQb3B1cC5zaG93KHtcbiAgICAgIHRlbXBsYXRlOiBmaWVsZF9uYW1lICsgJzogPGlucHV0IHR5cGU9XCJ0ZXh0XCIgaWQ9XCJvbmVfdmFsdWVfcG9wdXBcIj48ZGl2IGlkPVwiZXJyb3JfY29udGFpbmVyX2luc2lkZVwiPjwvZGl2PicsXG4gICAgICB0aXRsZTogdGl0bGUsXG4gICAgICBzdWJUaXRsZTogdGV4dCxcbiAgICAgIHNjb3BlOiAkc2NvcGUsXG4gICAgICBidXR0b25zOiBbXG4gICAgICAgIHsgdGV4dDogJ0NhbmNlbGFyJyB9LFxuICAgICAgICB7XG4gICAgICAgICAgdGV4dDogJzxiPkVudmlhcjwvYj4nLFxuICAgICAgICAgIHR5cGU6ICdidXR0b24tcG9zaXRpdmUnLFxuICAgICAgICAgIG9uVGFwOiBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICB2YXIgZXJyb3JzID0gXCJcIjtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwib25lX3ZhbHVlX3BvcHVwXCIpLnZhbHVlO1xuICAgICAgICAgICAgaWYodmFsaWRhdGlvblR5cGU9PVwibm90TnVsbFwiKXtcbiAgICAgICAgICAgICAgaWYoIVZhbGlkYXRpb25TZXJ2aWNlLnZhbGlkYXRlX25vdF9lbXB0eSh2YWx1ZSkpe1xuICAgICAgICAgICAgICAgIGVycm9ycyA9IGVycm9ycyArICc8aDM+LSBFbCBjYW1wbyBcIicgKyBmaWVsZF9uYW1lICsgJ1wiIG5vIHB1ZWRlIGVzdGFyIHZhY8Otby48L2gzPic7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKHZhbGlkYXRpb25UeXBlPT1cImVtYWlsXCIpe1xuICAgICAgICAgICAgICBpZighVmFsaWRhdGlvblNlcnZpY2UudmFsaWRhdGVfZW1haWwodmFsdWUpKXtcbiAgICAgICAgICAgICAgICBlcnJvcnMgPSBlcnJvcnMgKyAnPGgzPi0gRWwgY2FtcG8gXCInICsgZmllbGRfbmFtZSArICdcIiBubyBlcyB1bmEgZGlyZWNjacOzbiBkZSBjb3JyZW8gdsOhbGlkYS48L2gzPic7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKHZhbGlkYXRpb25UeXBlPT1cImlkZG9jX3V5XCIpe1xuICAgICAgICAgICAgICBpZighVmFsaWRhdGlvblNlcnZpY2UudmFsaWRhdGVfaWRkb2NfdXkodmFsdWUpKXtcbiAgICAgICAgICAgICAgICBlcnJvcnMgPSBlcnJvcnMgKyAnPGgzPi0gRWwgY2FtcG8gXCInICsgZmllbGRfbmFtZSArICdcIiBubyBlcyB1bmEgY8OpZHVsYSB1cnVndWF5YSB2w6FsaWRhLjwvaDM+JztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYodmFsaWRhdGlvblR5cGU9PVwidHdvX3dvcmRzXCIpe1xuICAgICAgICAgICAgICBpZighVmFsaWRhdGlvblNlcnZpY2UudmFsaWRhdGVfdHdvX3dvcmRzKHZhbHVlKSl7XG4gICAgICAgICAgICAgICAgZXJyb3JzID0gZXJyb3JzICsgJzxoMz4tIEVsIGNhbXBvIFwiJyArIGZpZWxkX25hbWUgKyAnXCIgZGViZSBjb250ZW5lciBhbCBtZW5vcyBkb3MgcGFsYWJyYXMuPC9oMz4nO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZihlcnJvcnMhPVwiXCIpe1xuICAgICAgICAgICAgICB2YXIgZXJyb3JEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImVycm9yX2NvbnRhaW5lcl9pbnNpZGVcIik7XG4gICAgICAgICAgICAgIGVycm9yRGl2LmlubmVySFRNTD0gZXJyb3JzO1xuICAgICAgICAgICAgICBlcnJvckRpdi5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICAgICAgICAvL2Rvbid0IGFsbG93IHRoZSB1c2VyIHRvIGNsb3NlIHVubGVzcyBoZSBlbnRlcnMgd2lmaSBwYXNzd29yZFxuICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICBdXG4gICAgfSk7XG4gICAgcmV0dXJuIG15UG9wdXA7XG4gICB9XG5cblxuICB9O1xufV0pO1xuIiwicG1iX2ltLnNlcnZpY2VzLmZhY3RvcnkoJ2xvY2F0aW9uQVBJJywgWyckaHR0cCcsICckcScsICdBcGlJbUVuZHBvaW50JywgJ0FwaURhdGFFbmRwb2ludCcsIGZ1bmN0aW9uKCRodHRwLCAkcSwgQXBpSW1FbmRwb2ludCwgQXBpRGF0YUVuZHBvaW50KSB7XG5cbiAgdmFyIHJlc3RQcmVmZml4ID0gXCJ1YmljYWNpb25lc1Jlc3RQcm9kXCI7XG5cblxuICB2YXIgbG9jYXRpb25BUEkgPSB7fTtcblxuICBsb2NhdGlvbkFQSS5zZWFyY2hMb2NhdGlvbkJ5U3RyID0gZnVuY3Rpb24oX2xvY2F0aW9uKSB7XG4gICAgcmV0dXJuICRodHRwLmdldChBcGlJbUVuZHBvaW50LnVybCArICcvJyArIHJlc3RQcmVmZml4ICsgJy9jYWxsZXMnLCB7XG4gICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgcGFyYW1zOiB7XG4gICAgICAgIG5vbWJyZTogX2xvY2F0aW9uXG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cblxuICBsb2NhdGlvbkFQSS5zZWFyY2hFc3F1aW5hQnlTdHIgPSBmdW5jdGlvbihfbG9jYXRpb24pIHtcbiAgICAvL2NvbnNvbGUubG9nKFwic2VhcmNoRXNxdWluYUJ5U3RyID0gXCIgKyBKU09OLnN0cmluZ2lmeShfbG9jYXRpb24pKTtcbiAgICAvL3JldHVybiAkaHR0cC5nZXQoQXBpSW1FbmRwb2ludC51cmwgKyAnLycgKyByZXN0UHJlZmZpeCArICcvZXNxdWluYS8nICsgX2xvY2F0aW9uLmNhbGxlICsgJy8nICsgX2xvY2F0aW9uLmVzcXVpbmEsIHtcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoQXBpSW1FbmRwb2ludC51cmwgKyAnLycgKyByZXN0UHJlZmZpeCArICcvY3J1Y2VzLycgKyBfbG9jYXRpb24uY2FsbGUgKyAnLycsXG4gICAgICB7XG4gICAgICAgIHBhcmFtczoge1xuICAgICAgICAgIG5vbWJyZTogX2xvY2F0aW9uLmVzcXVpbmFcbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH07XG5cbiAgbG9jYXRpb25BUEkuZ2V0TG9jYXRpb25HZW9tID0gZnVuY3Rpb24oX2xvY2F0aW9uKSB7XG4gICAgdmFyIHVybCA9IEFwaUltRW5kcG9pbnQudXJsICsgJy8nICsgcmVzdFByZWZmaXggKyBsb2NhdGlvbkFQSS5nZXRQYXJhbVBhdGhCeVRpcG8oX2xvY2F0aW9uLnRpcG8pO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgX2xvY2F0aW9uLnBhdGhQYXJhbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHVybCArPSAnLycgKyBfbG9jYXRpb24ucGF0aFBhcmFtc1tpXTtcbiAgICB9XG5cbiAgICByZXR1cm4gJGh0dHAuZ2V0KHVybCkudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XG4gICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgICB9KTtcblxuXG4gIH07XG5cbiAgbG9jYXRpb25BUEkuZ2V0UGFyYW1QYXRoQnlUaXBvID0gZnVuY3Rpb24oX3RpcG8pIHtcblxuICAgIHZhciByZXN0R2VvRGF0YVNlcnZpY2VQYXRoID0ge1xuICAgICAgJ0VTUVVJTkEnOlwiL2VzcXVpbmFcIixcbiAgICAgICdESVJFQ0NJT04nOlwiL2RpcmVjY2lvblwiXG4gICAgfTtcblxuICAgIHJldHVybiByZXN0R2VvRGF0YVNlcnZpY2VQYXRoW190aXBvXTtcblxuXG4gIH07XG5cbiAgcmV0dXJuIGxvY2F0aW9uQVBJO1xuXG59XSk7XG4iLCJwbWJfaW0uc2VydmljZXMuZmFjdG9yeSgnXycsIFtmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHdpbmRvdy5fOyAvL1VuZGVyc2NvcmUgbXVzdCBhbHJlYWR5IGJlIGxvYWRlZCBvbiB0aGUgcGFnZVxufV0pO1xuIiwicG1iX2ltLnNlcnZpY2VzLmZhY3RvcnkoJ1VzZXJTZXJ2aWNlJywgWyckaHR0cCcsIGZ1bmN0aW9uKCRodHRwKSB7XG5cbiAgLy92YXIgYmFzZVVSTCA9IFwiaHR0cDovL3BtYnV5LmRldmVsb3BtZW50LmRhdGF1eS5vcmcvYXV0aC9hamF4L1wiO1xuICB2YXIgVXNlck9iaiA9IHt9O1xuICBVc2VyT2JqLm5hbWUgPSBudWxsO1xuICBVc2VyT2JqLmVtYWlsID0gbnVsbDtcbiAgVXNlck9iai5wYXNzd29yZCA9IG51bGw7XG4gIFVzZXJPYmouaWRlbnRpdHlfZG9jdW1lbnQgPSBudWxsO1xuICBVc2VyT2JqLnBob25lID0gJyc7XG4gIFVzZXJPYmoucGljdHVyZV91cmwgPSBcInVybCguL2ltZy9pY29uLXVzZXItYW5vbnltb3VzLnBuZylcIjtcblxuXG4gIFVzZXJPYmouc2F2ZV91c2VyX2RhdGEgPSBmdW5jdGlvbiAodXNlcl9uYW1lLCB1c2VyX2VtYWlsLCB1c2VyX3Bhc3N3b3JkLCB1c2VyX2lkX2RvYywgdXNlcl9waG9uZSwgdXNlcl9waWN0dXJlX3VybCkge1xuICAgICAgVXNlck9iai5uYW1lID0gdXNlcl9uYW1lO1xuICAgICAgVXNlck9iai5lbWFpbCA9IHVzZXJfZW1haWw7XG4gICAgICBVc2VyT2JqLnBhc3N3b3JkID0gdXNlcl9wYXNzd29yZDtcbiAgICAgIFVzZXJPYmouaWRlbnRpdHlfZG9jdW1lbnQgPSB1c2VyX2lkX2RvYztcbiAgICAgIFVzZXJPYmoucGhvbmUgPSB1c2VyX3Bob25lO1xuICAgICAgVXNlck9iai5waWN0dXJlX3VybCA9IHVzZXJfcGljdHVyZV91cmw7XG4gICAgICAvL1NBVkUgSU4gUE9VQ0hEQlxuICB9XG5cbiAgVXNlck9iai5lcmFzZV91c2VyX2RhdGEgPSBmdW5jdGlvbiAoKSB7XG4gICAgVXNlck9iai5uYW1lID0gbnVsbDtcbiAgICBVc2VyT2JqLmVtYWlsID0gbnVsbDtcbiAgICBVc2VyT2JqLnBhc3N3b3JkID0gbnVsbDtcbiAgICBVc2VyT2JqLmlkZW50aXR5X2RvY3VtZW50ID0gbnVsbDtcbiAgICBVc2VyT2JqLnBob25lID0gbnVsbDtcbiAgICBVc2VyT2JqLnBpY3R1cmVfdXJsID0gbnVsbDtcbiAgICAvL0RFTEVURSBJTiBQT1VDSERCXG4gIH1cblxuICBVc2VyT2JqLmdldF91c2VyX2RhdGEgPSBmdW5jdGlvbiAoKSB7XG4gICAgLy9MRVZBTlRBIERFIFBPVUNIREIgTE9TIERBVE9TIERFTCBVU1VBUklPLiBTSSBIQVkgTE9TIFBPTkUgRU4gTEFTIFZBUklBQkxFUyBERUwgU0VSVklDSU8uIFNJIE5PIEhBWSBQT05FIFRPRE8gTlVMTFxuICB9XG5cbiAgVXNlck9iai5hZGRfcGhvdG8gPSBmdW5jdGlvbiAodXNlcl9waWN0dXJlX3VybCkge1xuICAgIFVzZXJPYmoucGljdHVyZV91cmwgPSB1c2VyX3BpY3R1cmVfdXJsO1xuICB9XG5cbiAgVXNlck9iai5pc0xvZ2dlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZihVc2VyT2JqLm5hbWUhPW51bGwgJiYgVXNlck9iai5uYW1lIT1cIlwiKXtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1lbHNle1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG5cbiAgcmV0dXJuIFVzZXJPYmo7XG5cbn1dKTtcbiIsInBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdWYWxpZGF0aW9uU2VydmljZScsIFsnJGh0dHAnLCckaW9uaWNQb3B1cCcsIGZ1bmN0aW9uKCRodHRwLCRpb25pY1BvcHVwKSB7XG5cbiAgcmV0dXJuIHtcbiAgICB2YWxpZGF0ZV9ub3RfZW1wdHk6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZih2YWx1ZSE9bnVsbCAmJiB2YWx1ZSE9XCJ1bmRlZmluZWRcIiAmJiB2YWx1ZSE9XCJcIil7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICB2YWxpZGF0ZV90d29fd29yZHM6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZih2YWx1ZSE9bnVsbCAmJiB2YWx1ZSE9XCJ1bmRlZmluZWRcIiAmJiB2YWx1ZSE9XCJcIil7XG4gICAgICAgICAgdmFyIHZhbHVlcyA9IHZhbHVlLnNwbGl0KCcgJykuZmlsdGVyKGZ1bmN0aW9uKHYpe3JldHVybiB2IT09Jyd9KTtcbiAgICAgICAgICBpZiAodmFsdWVzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgLy90d28gb3IgbW9yZSB3b3Jkc1xuICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvL25vdCBlbm91Z2ggd29yZHNcbiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIHZhbGlkYXRlX2VtYWlsOiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYodmFsdWUhPW51bGwgJiYgdmFsdWUhPVwidW5kZWZpbmVkXCIgJiYgdmFsdWUhPVwiXCIpe1xuICAgICAgICAgIHZhciByZSA9IC9eKChbXjw+KClcXFtcXF1cXFxcLiw7Olxcc0BcIl0rKFxcLltePD4oKVxcW1xcXVxcXFwuLDs6XFxzQFwiXSspKil8KFwiLitcIikpQCgoXFxbWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfV0pfCgoW2EtekEtWlxcLTAtOV0rXFwuKStbYS16QS1aXXsyLH0pKSQvO1xuICAgICAgICAgIHJldHVybiByZS50ZXN0KHZhbHVlKTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIHZhbGlkYXRlX2lkZG9jX3V5OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIGlmKHZhbHVlIT1udWxsICYmIHZhbHVlIT1cInVuZGVmaW5lZFwiICYmIHZhbHVlIT1cIlwiKXtcbiAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UoL1xcRC9nLCAnJyk7XG4gICAgICAgICAgdmFyIGRpZyA9IHZhbHVlW3ZhbHVlLmxlbmd0aCAtIDFdO1xuICAgICAgICAgIHZhciBhID0gMDsgdmFyIGkgPSAwO1xuICAgICAgICAgIGlmKHZhbHVlLmxlbmd0aCA8PSA2KXtcbiAgICAgICAgICAgIGZvcihpID0gdmFsdWUubGVuZ3RoOyBpIDwgNzsgaSsrKXtcbiAgICAgICAgICAgICAgdmFsdWUgPSAnMCcgKyB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgZm9yKGkgPSAwOyBpIDwgNzsgaSsrKXtcbiAgICAgICAgICAgIGEgKz0gKHBhcnNlSW50KFwiMjk4NzYzNFwiW2ldKSAqIHBhcnNlSW50KHZhbHVlW2ldKSkgJSAxMDtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIHJlc3VsdDtcbiAgICAgICAgICBpZihhJTEwID09PSAwKXtcbiAgICAgICAgICAgIHJlc3VsdCA9IDA7XG4gICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICByZXN1bHQgPSAxMCAtIGEgJSAxMDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYoZGlnID09IHJlc3VsdCl7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICB9ZWxzZXtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbn1dKTtcbiJdfQ==
