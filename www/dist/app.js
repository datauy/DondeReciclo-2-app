window.VERSION = "0.0.3";var pmb_im={controllers:angular.module("pmb_im.controllers",[]),services:angular.module("pmb_im.services",[])};pmb_im.app=angular.module("pmb_im",["ionic","ionic.wizard","ion-autocomplete","leaflet-directive","pmb_im.controllers","pmb_im.services","ngCordova","ionic-cache-src"]).constant("ApiImEndpoint",{url:"http://www.montevideo.gub.uy"}).constant("ApiDataEndpoint",{url:"/data"}).run(["$ionicPlatform","$rootScope","$cordovaKeyboard",function(e,n,t){n.VERSION=window.VERSION,e.ready(function(){window.cordova&&window.cordova.plugins.Keyboard&&cordova.plugins.Keyboard.hideKeyboardAccessoryBar(!0),ionic.Platform.isFullScreen=!1,window.StatusBar&&StatusBar.styleDefault()})}]).config(["$stateProvider","$urlRouterProvider","$compileProvider","$ionicConfigProvider",function(e,n,t,o){t.debugInfoEnabled(!1),e.state("app",{cache:!1,url:"/app","abstract":!0,templateUrl:"templates/menu.html",controller:"MapController"}).state("app.map",{cache:!1,url:"/map/",views:{menuContent:{templateUrl:"templates/map.html",controller:"PMBCtrl"}}}).state("app.intro",{cache:!1,url:"/intro",views:{menuContent:{templateUrl:"templates/intro.html",controller:"IntroCtrl"}}}),n.otherwise("/app/intro")}]),pmb_im.controllers.controller("AutoCompleteCtrl",["$scope","leafletData","locationAPI",function(e,n,t){e.ionAutocompleteElement=angular.element(document.getElementsByClassName("ion-autocomplete")),e.ionAutocompleteElement.bind("touchend click focus",e.onClick),e.onClick=function(){e.ionAutocompleteElement.controller("ionAutocomplete").showModal()},e.searchLocation=function(e){if(e)return t.searchLocationByStr(e)}}]),pmb_im.controllers.controller("IntroCtrl",["$scope","$state","$cordovaGeolocation","$stateParams","$ionicPlatform","$ionicPopup","LocationsService","DBService",function(e,n,t,o,r,a,i,l){var c=l.initDB();c.info().then(console.log.bind(console)),e.geolocate=function(){var e=!1;ionic.Platform.ready(function(){var o=(ionic.Platform.device(),{timeout:3500,enableHighAccuracy:!0,maximumAge:6e4});t.getCurrentPosition(o).then(function(t){e=!0,i.save_initial_position(t),n.go("app.map")},function(e){n.go("app.map")})})},e.$on("$ionicView.enter",function(){e.geolocate()})}]),pmb_im.controllers.controller("MapController",["$scope","$sce","_","$cordovaFile","$cordovaGeolocation","$compile","$state","$stateParams","$ionicModal","$ionicPopup","leafletData","ConfigService","PMBService","LocationsService","ContainerService","MapService","FaqService","CategoriesService","AuthService","UserService","DBService","$timeout","$location","ErrorService","$ionicSlideBoxDelegate","$ionicScrollDelegate","PopUpService","$ionicPlatform","ConnectivityService","$cordovaInAppBrowser","$interval","$cordovaKeyboard",function(n,t,o,r,a,i,c,u,s,d,m,p,_,f,g,h,v,y,b,w,E,S,k,C,I,B,M,$,P,R,x,A){n.featureReports={},n.baseURL=p.baseURL,n.user_cached_image="",n.report_detail_id=null,n.one_value_popup=null,n.abuse_name=null,n.abuse_email=null,n.abuse_subject=null,n.abuse_message=null,n.actualSliderIndex=0,n.$on("$ionicView.beforeEnter",function(){E.initDB(),n.set_network_events(),n.find_me(),n.walkthrough()}),$.onHardwareBackButton(function(){e.stopPropagation(),n.hide_special_divs}),n.openWebsite=function(e){var n={location:"no",clearcache:"yes",toolbar:"no"};R.open(e,"_blank",n).then(function(e){})["catch"](function(e){})},n.set_network_events=function(){n.create_online_map(),n.addPinsLayer(),n.map.center={lat:-34.901113,lng:-56.164531,zoom:18}},n.create_online_map=function(){return null==n.map&&void(n.map={defaults:{tileLayer:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",minZoom:16,maxZoom:18,zoomControlPosition:"topleft"},markers:{},events:{map:{enable:["context"],logic:"emit"}}})},n.clickOnMenuIcon=function(){var e=document.getElementById("nav-icon-lines"),t=document.getElementById("expanded_menu");n.toggleClassOnElement(e,"open"),n.toggleClassOnElement(t,"open")};n.toggleClassOnElement=function(e,n){if(e&&n){var t=e.className,o=t.indexOf(n);o==-1?t+=" "+n:t=t.substr(0,o)+t.substr(o+n.length),e.className=t}},n.next=function(){I.next(),n.actualSliderIndex=I.currentIndex()},n.previous=function(){I.previous(),n.actualSliderIndex=I.currentIndex()},n.scrollMe=function(e){k.hash(e);var n=B.$getByHandle("content");n.anchorScroll()},n.set_active_option=function(e){return!1},n.hide_special_divs=function(){var e=document.getElementById("container_details");e&&(e.className="");var n=document.getElementById("navigation_back");n&&(n.className="hidden");var t=document.getElementById("navigation_menu");t&&(t.className="")},n.addMapControls=function(){return!1},n.startReportFromCrosshairs=function(){},n.addPinsLayer=function(){if(null!=n.jsonLayer)return!1;var e=p.baseURL;onEachFeature=function(e,t){e.properties&&t.on("click",function(e){n.selected_container=g.build(e.target.feature.properties),n.selected_container.setLatLng(e.target.feature.geometry.coordinates[1],e.target.feature.geometry.coordinates[0]);var t=document.getElementById("container_details");t.className="open";var o=document.getElementById("navigation_back");o.className="";var r=document.getElementById("navigation_menu");r.className="hidden",n.goToCenter(n.selected_container.lon,n.selected_container.lat)})},l=new L.LayerJSON({url:e+"/datauy/get_containers_json/{bbox}",locAsGeoJSON:!0,minShift:5,precision:10,onEachFeature:onEachFeature}),m.getMap().then(function(e){null!=n.jsonLayer&&e.removeLayer(n.jsonLayer),n.jsonLayer=l,e.addLayer(l)}),n.lastMarkerLayer=null,l.on("dataloaded",function(e){n.reports=e.data.features}),l.on("layeradd",function(t){t.layer.eachLayer(function(t){var o="/img/pin-container.svg";t.feature.properties.pin_url&&(o=t.feature.properties.pin_url);var r=L.icon({iconUrl:e+o,iconSize:[29,34],iconAnchor:[8,8],popupAnchor:[0,-8]});t.setIcon(r),void 0===n.featureReports[t.feature.properties.GID]&&(n.featureReports[t.feature.properties.GID]=t)})})},n.goToCenter=function(e,t){var o={timeout:5e3,enableHighAccuracy:!0};a.getCurrentPosition(o).then(function(o){var r=o.coords.latitude,a=o.coords.longitude;n.getRoad(r,a,t,e)},function(n){t-=6e-4,h.centerMapOnCoords(t,e,17)})},n.lastRoad=null,n.nav_back=function(){n.hide_special_divs(),null!=n.lastRoad&&(n.lastRoad.spliceWaypoints(0,2),m.getMap().then(function(e){e.removeControl(n.lastRoad),n.lastRoad=null}))},n.walkthrough=function(){if(null!=n.walkthrough_modal)return!1;var e=E.getDoneWalkthrough();e.then(function(e){null!=e.status&&"done"==e.status||n.openWalkThroughModal()})["catch"](function(e){n.openWalkThroughModal()})},n.openWalkThroughModal=function(){s.fromTemplateUrl("templates/walkthrough.html",{scope:n,hardwareBackButtonClose:!1,animation:"slide-in-up"}).then(function(e){n.walkthrough_modal=e,n.walkthrough_modal.show()})},n.finishWalkthrough=function(){n.walkthrough_modal.hide(),n.walkthrough_modal.remove(),E.saveDoneWalkthrough()},n.openMainMenu=function(){s.fromTemplateUrl("templates/main_menu.html",{scope:n,hardwareBackButtonClose:!0,animation:"slide-in-up"}).then(function(e){n.main_menu_modal=e,n.main_menu_modal.show()})},n.closeMainMenu=function(){n.main_menu_modal.hide(),n.main_menu_modal.remove()},n.getRoad=function(e,t,o,r){m.getMap().then(function(a){a.closePopup();var i=L.icon({iconUrl:"./img/me.svg",iconSize:[29,34],iconAnchor:[8,8],popupAnchor:[0,-8]});null!=n.now_marker&&a.removeLayer(n.now_marker),n.now_marker=L.marker([e,t],{icon:i}).addTo(a),null!=n.lastRoad&&(n.lastRoad.spliceWaypoints(0,2),a.removeControl(n.lastRoad),n.lastRoad=null),n.lastRoad=L.Routing.control({waypoints:[L.latLng(e,t),L.latLng(o,r)],language:"es",router:L.Routing.mapbox("pk.eyJ1IjoibGl0b3hwZXJhbG9jYSIsImEiOiJjajNhdHUzbTMwMTQwMnFwaGRidmc2emZ5In0.dED4D4_LBjRc-sGa5zt5Yg"),createMarker:function(e,n,t){return null},lineOptions:{styles:[{color:"#4c4c4c",opacity:1,weight:5}]},fitSelectedRoutes:!1}).addTo(a),o-=8e-4,h.centerMapOnCoords(o,r,17)})},n.model=[],n.externalModel=[],n.selectedItems=[],n.preselectedSearchItems=[],n.clickedValueModel="",n.removedValueModel="",n.itemsRemoved=function(e){n.removedValueModel=e},n.user_options=function(){var e=document.getElementById("user-options-menu");if("block"==e.style.display)e.style.display="none";else{var t=w.name;null==t?n.show_anonymous_menu():n.show_user_menu()}},n.show_anonymous_menu=function(){var e=document.getElementById("user-options-menu"),t="<div id='auth_options'><div class='nonauth-link' ng-click='show_login_modal()'>Iniciar sesión</div>";t+="<div class='nonauth-link' ng-click='show_sign_up_modal()'>Registrarse</div></div>",e.innerHTML=t,i(e)(n),e.style.height="120px",e.style.width="150px",e.style.display="block"},n.show_user_menu=function(){var e=document.getElementById("user-options-menu"),t=w.name+"<div id='auth_options'><div class='user-logged-link' ng-click='show_edit_profile_modal()'>Mi perfil</div>";t+="<div class='user-logged-link' ng-click='list_offline_reports_menu()'>Reportes pendientes</div>",t+="<div class='user-logged-link' ng-click='sign_out()'>Cerrar sesión</div></div>",e.innerHTML=t,i(e)(n),e.style.height="160px",e.style.width="200px",e.style.display="block"},n.create_field_array=function(e,n,t){var o=new Array;return o.name=e,o.type=n,o.value=t,o},n.sign_in=function(e,t){if(P.isOnline()){document.getElementById("spinner-inside-modal").style.display="block";var o=new Array;o.push(n.create_field_array("Email","email",e)),o.push(n.create_field_array("Contraseña","notNull",t)),C.check_fields(o,"error_container")?b.sign_in(t,e).then(function(o){C.http_response_is_successful(o,"error_container")?(w.save_user_data(o.data.name,e,t,o.data.identity_document,o.data.phone,o.data.picture_url),E.saveUser(o.data.name,e,t,o.data.identity_document,o.data.phone,o.data.picture_url),document.getElementById("spinner-inside-modal").style.display="none",n.close_login_modal(),n.set_user_picture(1)):document.getElementById("spinner-inside-modal").style.display="none"},function(e){document.getElementById("spinner-inside-modal").style.display="none",C.show_error_message("error_container",e.statusText)}):document.getElementById("spinner-inside-modal").style.display="none"}else M.show_alert("Sin conexión a internet","Para iniciar sesión debe estar conectado a internet")},n.sign_in_ajax=function(e,t){b.sign_in(t,e).then(function(o){return C.http_response_is_successful_ajax(o)?(w.save_user_data(o.data.name,e,t,o.data.identity_document,o.data.phone,o.data.picture_url),E.saveUser(o.data.name,e,t,o.data.identity_document,o.data.phone,o.data.picture_url),n.set_user_picture(1),1):0},function(e){return 0})},n.sign_out=function(){w.erase_user_data(),E.eraseUser(),document.getElementById("spinner").style.display="none",n.set_user_picture(0),document.getElementById("user-options-menu").style.display="none"},n.check_user_logged=function(){return!1},n.set_offline_user=function(){},n.set_user_picture=function(e){},n.search_street=function(){n.hide_special_divs(),document.getElementById("search-textbox").parentNode.click()},n.find_me=function(){n.set_active_option("button-find-me"),n.hide_special_divs();var e={timeout:1e4,enableHighAccuracy:!0};a.getCurrentPosition(e).then(function(e){var t=18;P.isOnline()||(t=16);var o=L.icon({iconUrl:"./img/me.svg",iconSize:[29,34],iconAnchor:[8,8],popupAnchor:[0,-8]});m.getMap().then(function(r){null!=n.now_marker&&r.removeLayer(n.now_marker),n.now_marker=L.marker([e.coords.latitude,e.coords.longitude],{icon:o}).addTo(r),h.centerMapOnCoords(e.coords.latitude,e.coords.longitude,t)})},function(e){})}}]),pmb_im.controllers.controller("PMBCtrl",["$scope","$state","leafletData","PMBService","ContainerService","locationAPI","MapService","_","Loader","LocationsService",function(e,n,t,o,r,a,i,l,c,u){e.reportButton={text:"Reportar",state:"unConfirmed"},e.$on("$ionicView.afterEnter",function(){document.getElementById("spinner").style.display="none";t.getMap();""!=u.initial_lat?i.centerMapOnCoords(u.initial_lat,u.initial_lng,18):i.centerMapOnCoords(-34.901113,-56.164531,14)}),e.searchMode="calle.lugar",e.location={calle:null,esquina:null,lugar:null};var s={tipo:null,pathParams:[]};e.$on("$stateChangeSuccess",function(){e.ionAutocompleteElement=angular.element(document.getElementsByClassName("ion-autocomplete")),e.ionAutocompleteElement.bind("touchend click focus",e.onClick)}),e.initReport=function(){var n,o=L.icon({iconUrl:"img/pin@x2.png",iconSize:[70,110],iconAnchor:[-18,55]});"unConfirmed"==e.reportButton.state&&(e.reportButton.text="Confirmar",e.reportButton.state="about2Confirm",t.getMap().then(function(t){n=new L.marker(t.getCenter(),{icon:o,clickable:!1}).addTo(t),ReportService._new(),ReportService.current.setLatLng(t.getCenter()),e.ionAutocompleteElement=angular.element(document.getElementsByClassName("ion-autocomplete")),e.ionAutocompleteElement.bind("touchend click focus",e.onClick)}))},e.isNumeric=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},e.searchLocation=function(n){var t;if(n&&n.length>=2){if("calle.lugar"==e.searchMode)t=a.searchLocationByStr(n);else{if(e.isNumeric(n.trim())){var o=[],r={descTipo:"NUMERO",nombre:n,codigo:n};return o[0]=r,o}t=a.searchEsquinaByStr({calle:e.selectedItem.codigo,esquina:n})}return t}return[]},e.onClick=function(){e.ionAutocompleteElement.controller("ionAutocomplete").showModal()},e.itemsClicked=function(n){if(e.clickedValueModel=n,e.selectedItem=n.item,e.ionAutocompleteElementSearch=angular.element(document.getElementsByClassName("ion-autocomplete-search")),"esquina.numero"==e.searchMode){s.pathParams=[],e.location.esquina=e.selectedItem,s.pathParams.push(e.location.calle.codigo),s.pathParams.push(e.location.esquina.codigo);var t="";e.isNumeric(e.selectedItem.nombre)?s.tipo="DIRECCION":(s.tipo="ESQUINA",t="esquina"),a.getLocationGeom(s).then(function(n){i.goToPlace(angular.extend({nombre:e.location.calle.nombre+" "+t+" "+e.selectedItem.nombre,geom:n.geoJSON},n),e),e.searchMode="calle.lugar",e.ionAutocompleteElementSearch.attr("placeholder","Buscar calle"),e.externalModel=[]})}else e.location.calle=e.selectedItem,e.searchMode="esquina.numero",e.ionAutocompleteElementSearch.attr("placeholder","Esquina o número"),e.ionAutocompleteElement.controller("ionAutocomplete").showModal(),e.preselectedSearchItems=[]},e.itemsCanceled=function(n){var t=parseInt(n.searchQuery);Number.isInteger(t)&&(s.tipo="DIRECCION",s.pathParams.push(e.location.calle.codigo),s.pathParams.push(t),a.getLocationGeom(s).then(function(n){i.goToPlace(angular.extend({nombre:e.selectedItem.nombre+" "+t},n),e),e.searchMode="calle.lugar"},function(n){c.showAlert("Error","No existe esa direccion").then(function(n){e.ionAutocompleteElement.controller("ionAutocomplete").showModal()})}))}}]),pmb_im.services.factory("AuthService",["$http","$cordovaFileTransfer","ConfigService",function(e,n,t){var o=t.baseURL+"/auth/ajax/";return{sign_in:function(n,t){return e.get(o+"sign_in",{params:{password_sign_in:n,email:t}})},sign_out:function(n,t){return e.get(o+"sign_out",{params:{password_sign_in:n,email:t}})},create_user:function(n,t,r,a,i){return e.get(o+"create_user",{params:{form_email:n,name:t,password_register:r,identity_document:a,phone:i}})},change_password:function(n,t,r,a,i){return e.get(o+"create_user",{params:{login_email:n,name:t,password_register:r,identity_document:a,phone:i}})},edit_user:function(t,r,a,i,l,c,u){if(null!=u&&""!=u){var s={fileKey:"photo",params:{email:t,password_sign_in:r,name:a,new_email:i,identity_document:l,phone:c}},d=!0;return n.upload(o+"edit_user",u,s,d)}return e.get(o+"edit_user",{params:{email:t,password_sign_in:r,name:a,new_email:i,identity_document:l,phone:c}})}}}]),pmb_im.services.factory("CategoriesService",["$http","LocationsService","ConfigService","DBService",function(e,n,t,o){var r=t.baseURL+"/report/new/ajax";return{all:function(){return e.get(r,{params:{lat:n.new_report_lat,lon:n.new_report_lng,format:"json"}})},getCachedCategories:function(){return o.getCategories()}}}]),pmb_im.services.factory("ConfigService",["$http",function(e){var n={};return n.baseURL="http://dondereciclo.development.datauy.org",n}]),pmb_im.services.factory("ConnectivityService",["$cordovaNetwork",function(e){return{isOnline:function(){return ionic.Platform.isWebView()?e.isOnline():navigator.onLine},isOffline:function(){return ionic.Platform.isWebView()?!e.isOnline():!navigator.onLine}}}]),pmb_im.services.factory("ContainerService",["$http","leafletData","ConfigService",function(e,n,t){function o(e){angular.extend(this,e)}var r=t.baseURL+"/report/ajax/";return o.getById=function(n){var t=r+n;return e.get(t).then(function(e){return e})},o._default=function(){var e={lat:0,lon:0,title:null,detail:null,may_show_name:1,category:null,phone:null,pc:"",file:null,name:null,email:null,submit_sign_in:1,password_sign_in:null,remember_me:1};return new o(e)},o._all=[],o.current={},o._new=function(){return o._default()},o.build=function(e){return new o(e)},o.prototype.setLatLng=function(e,n){this.lat=e,this.lon=n},o}]),pmb_im.services.factory("DBService",["$q",function(e){function n(e,n,t,o,a,i){var l={_id:"user-logged",name:e,email:n,password:t,identity_document:o,phone:a,picture_url:i};r().then(function(e){return l._rev=e._rev,f.put(l)})["catch"](function(e){return f.put(l)})}function t(){var e={_id:"done-walkthrough",status:"done"};return f.put(e)}function o(){return f.get("done-walkthrough")}function r(){return f.get("user-logged")}function a(){f.get("user-logged").then(function(e){return f.remove(e)})}function i(){return f=new PouchDB("pmb_local_db")}function l(e){var n=new Date,t="report_"+n.getFullYear()+(n.getMonth()+1)+n.getDate()+n.getMilliseconds();return e._id=t,f.put(e)}function c(e){return f.put(e)}function u(){return f.get("categories-list")}function s(e){u().then(function(n){return e._rev=n._rev,f.put(e)})["catch"](function(n){return e._id="categories-list",f.put(e)})}function d(e){return f.get(e)}function m(){return f.allDocs({include_docs:!0,attachments:!1,startkey:"report_",endkey:"report_￿"})}function p(e){f.get(e).then(function(e){return f.remove(e)})}function _(e){return f.remove(e)}var f;return{initDB:i,saveUser:n,getUser:r,eraseUser:a,saveReport:l,getReport:d,getAllReports:m,updateReport:c,deleteReport:p,deleteGivenReport:_,getCategories:u,saveCategories:s,getDoneWalkthrough:o,saveDoneWalkthrough:t}}]),pmb_im.services.factory("ErrorService",["$http","$ionicPopup","ValidationService",function(e,n,t){return{http_response_is_successful:function(e,n){var t=document.getElementById(n);return 0==e.data.result?(t.innerHTML="<h3>"+e.data.message+"</h3>",t.style.display="block",!1):(t.style.display="none",!0)},http_response_is_successful_ajax:function(e){return 0!=e.data.result},http_response_is_successful_popup:function(e){if(0==e.data.result){var t=n.alert({title:"Error",template:e.data.message});return t.then(function(e){return!1}),!1}return!0},http_data_response_is_successful:function(e,n){var t=document.getElementById(n);return 0==e.result?(t.innerHTML="<h3>"+e.message+"</h3>",t.style.display="block",!1):(t.style.display="none",!0)},http_data_response_is_successful_ajax:function(e){return 0!=e.result},show_error_message:function(e,n){var t=document.getElementById(e);return t.innerHTML="<h3>"+n+"</h3>",t.style.display="block",!1},show_error_message_popup:function(e){var t=n.alert({title:"Error",template:e});return t.then(function(e){return!1}),!1},check_fields:function(e,n){var o="";if(e.forEach(function(e){"notNull"==e.type&&(t.validate_not_empty(e.value)||(o=o+'<h3>- El campo "'+e.name+'" no puede estar vacío.</h3>')),"email"==e.type&&(t.validate_email(e.value)||(o=o+'<h3>- El campo "'+e.name+'" no es una dirección de correo válida.</h3>')),"iddoc_uy"==e.type&&(t.validate_iddoc_uy(e.value)||(o=o+'<h3>- El campo "'+e.name+'" no es una cédula uruguaya válida.</h3>')),"two_words"==e.type&&(t.validate_two_words(e.value)||(o=o+'<h3>- El campo "'+e.name+'" debe contener al menos dos palabras.</h3>'))}),""==o)return!0;var r=document.getElementById(n);return r.innerHTML=o,r.style.display="block",!1}}}]),pmb_im.services.factory("FaqService",["$http","ConfigService",function(e,n){var t=n.baseURL+"/faq";return{all:function(){return e.get(t,{params:{ajax:"1"}})}}}]),pmb_im.services.factory("Loader",["$ionicLoading","$timeout","$ionicPopup",function(e,n,t){var o={showLoading:function(n){n=n||"Loading...",e.show({template:n})},hideLoading:function(){e.hide()},toggleLoadingWithMessage:function(e,t){var o=this;o.showLoading(e),n(function(){o.hideLoading()},t||3e3)},confirmPopup:function(e,n){var o=t.confirm({title:e,template:n});return o},showAlert:function(e,n){var o=t.alert({title:e,template:n});return o}};return o}]),pmb_im.services.factory("LocationsService",[function(){var e={};return e.initial_lat="",e.initial_lng="",e.new_report_lat="",e.new_report_lng="",e.save_initial_position=function(n){e.initial_lat=n.coords.latitude,e.initial_lng=n.coords.longitude},e.save_new_report_position=function(n,t){e.new_report_lat=n,e.new_report_lng=t},e.savedLocations=[],e}]),pmb_im.services.factory("MapService",["leafletData","$compile",function(e,n){proj4.defs("EPSG:32721","+proj=utm +zone=21 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs");var t={};return t.goToPlace=function(n,t){var o={properties:{nombre:n.nombre},crs:{type:"name",properties:{name:"urn:ogc:def:crs:EPSG::32721"}}};o=angular.extend(o,n.geom),e.getMap().then(function(e){var n;L.Proj.geoJson(o,{pointToLayer:function(e,t){return n=t,L.marker(t)}});e.setView(n,18)})},t.centerMapOnCoords=function(n,t,o){e.getMap().then(function(e){e.setView(new L.LatLng(n,t),o)})},t}]),pmb_im.services.factory("PMBService",["$http","leafletData","$cordovaFileTransfer","ConfigService",function(e,n,t,o){var r=o.baseURL,a={report:function(n){if(n.file){var o={fileKey:"photo",fileName:"image.jpeg",chunkedMode:!1,mimeType:"image/jpeg",params:n};o.headers={Connection:"Close"};var a=!0;return t.upload(r+"/report/new/mobile",n.file,o,a)}return e.get(r+"/report/new/mobile",{params:n})},subscribe:function(n,t){return e.get(r+"/alert/subscribe_ajax",{params:{rznvy:n,id:t,type:"updates"}})},abuse:function(n,t,o,a,i){return e.get(r+"/contact/submit_ajax",{params:{em:n,id:t,name:o,subject:a,message:i}})},hide:function(n){var t="/report/delete_ajax/"+n;return e.get(r+t,{params:{}})},comment:function(n,t,o,a,i,l,c){return e.get(r+"/report/update_ajax",{params:{submit_update:1,id:n,may_show_name:i,add_alert:l,fixed:c,update:t,name:o,form_rznvy:a}})}};return a}]),pmb_im.services.factory("PopUpService",["$ionicPopup","ValidationService",function(e,n){return{show_alert:function(n,t){var o=e.alert({title:n,template:t});return o.then(function(e){return!0}),!0},confirmPopup:function(n,t){var o=e.confirm({title:n,template:t});return o},askForOneValuePopUp:function(t,o,r,a,i){$scope=t;var l=e.show({template:a+': <input type="text" id="one_value_popup"><div id="error_container_inside"></div>',title:o,subTitle:r,scope:$scope,buttons:[{text:"Cancelar"},{text:"<b>Enviar</b>",type:"button-positive",onTap:function(e){var t="",o=document.getElementById("one_value_popup").value;if("notNull"==i&&(n.validate_not_empty(o)||(t=t+'<h3>- El campo "'+a+'" no puede estar vacío.</h3>')),"email"==i&&(n.validate_email(o)||(t=t+'<h3>- El campo "'+a+'" no es una dirección de correo válida.</h3>')),"iddoc_uy"==i&&(n.validate_iddoc_uy(o)||(t=t+'<h3>- El campo "'+a+'" no es una cédula uruguaya válida.</h3>')),"two_words"==i&&(n.validate_two_words(o)||(t=t+'<h3>- El campo "'+a+'" debe contener al menos dos palabras.</h3>')),""==t)return o;var r=document.getElementById("error_container_inside");r.innerHTML=t,r.style.display="block",e.preventDefault()}}]});return l}}}]),pmb_im.services.factory("locationAPI",["$http","$q","ApiImEndpoint","ApiDataEndpoint",function(e,n,t,o){var r="ubicacionesRestProd",a={};return a.searchLocationByStr=function(n){return e.get(t.url+"/"+r+"/calles",{method:"GET",params:{nombre:n}})},a.searchEsquinaByStr=function(n){return e.get(t.url+"/"+r+"/cruces/"+n.calle+"/",{params:{nombre:n.esquina}})},a.getLocationGeom=function(n){for(var o=t.url+"/"+r+a.getParamPathByTipo(n.tipo),i=0;i<n.pathParams.length;i++)o+="/"+n.pathParams[i];return e.get(o).then(function(e){return e.data})},a.getParamPathByTipo=function(e){var n={ESQUINA:"/esquina",DIRECCION:"/direccion"};return n[e]},a}]),pmb_im.services.factory("_",[function(){return window._}]),pmb_im.services.factory("UserService",["$http",function(e){var n={};return n.name=null,n.email=null,n.password=null,n.identity_document=null,n.phone="",n.picture_url="url(./img/icon-user-anonymous.png)",n.save_user_data=function(e,t,o,r,a,i){n.name=e,n.email=t,n.password=o,n.identity_document=r,n.phone=a,n.picture_url=i},n.erase_user_data=function(){n.name=null,n.email=null,n.password=null,n.identity_document=null,n.phone=null,n.picture_url=null},n.get_user_data=function(){},n.add_photo=function(e){n.picture_url=e},n.isLogged=function(){return null!=n.name&&""!=n.name},n}]),pmb_im.services.factory("ValidationService",["$http","$ionicPopup",function(e,n){return{validate_not_empty:function(e){return null!=e&&"undefined"!=e&&""!=e},validate_two_words:function(e){if(null!=e&&"undefined"!=e&&""!=e){var n=e.split(" ").filter(function(e){return""!==e});return n.length>1}return!1},validate_email:function(e){if(null!=e&&"undefined"!=e&&""!=e){var n=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return n.test(e)}return!1},validate_iddoc_uy:function(e){if(null!=e&&"undefined"!=e&&""!=e){e=e.replace(/\D/g,"");var n=e[e.length-1],t=0,o=0;if(e.length<=6)for(o=e.length;o<7;o++)e="0"+e;for(o=0;o<7;o++)t+=parseInt("2987634"[o])*parseInt(e[o])%10;var r;return r=t%10===0?0:10-t%10,n==r}return!1}}}]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImNvbnRyb2xsZXJzL2F1dG9jb21wbHRlLmN0cmwuanMiLCJjb250cm9sbGVycy9pbnRyby5jdHJsLmpzIiwiY29udHJvbGxlcnMvbWFwLmN0cmwuanMiLCJjb250cm9sbGVycy9wbWIuY3RybC5qcyIsInNlcnZpY2VzL2F1dGguc2VydmljZXMuanMiLCJzZXJ2aWNlcy9jYXRlZ29yaWVzLnNlcnZpY2UuanMiLCJzZXJ2aWNlcy9jb25maWcuc2VydmljZXMuanMiLCJzZXJ2aWNlcy9jb25uZWN0aXZpdHkuc2VydmljZXMuanMiLCJzZXJ2aWNlcy9jb250YWluZXIuc2VydmljZS5qcyIsInNlcnZpY2VzL2RiLnNlcnZpY2VzLmpzIiwic2VydmljZXMvZXJyb3Iuc2VydmljZXMuanMiLCJzZXJ2aWNlcy9mYXEuc2VydmljZS5qcyIsInNlcnZpY2VzL2xvYWRlci5zZXJ2aWNlcy5qcyIsInNlcnZpY2VzL2xvY2F0aW9uc1NlcnZpY2UuanMiLCJzZXJ2aWNlcy9tYXAuc2VydmljZXMuanMiLCJzZXJ2aWNlcy9wbWIuc2VydmljZS5qcyIsInNlcnZpY2VzL3BvcHVwLnNlcnZpY2VzLmpzIiwic2VydmljZXMvdWJpY2FjaW9uZXMuc2VydmljZXMuanMiLCJzZXJ2aWNlcy91bmRlcnNjb3JlLnNlcnZpY2UuanMiLCJzZXJ2aWNlcy91c2VyLnNlcnZpY2VzLmpzIiwic2VydmljZXMvdmFsaWRhdGlvbi5zZXJ2aWNlcy5qcyJdLCJuYW1lcyI6WyJwbWJfaW0iLCJjb250cm9sbGVycyIsImFuZ3VsYXIiLCJtb2R1bGUiLCJzZXJ2aWNlcyIsImFwcCIsImNvbnN0YW50IiwidXJsIiwicnVuIiwiJGlvbmljUGxhdGZvcm0iLCIkcm9vdFNjb3BlIiwiJGNvcmRvdmFLZXlib2FyZCIsIlZFUlNJT04iLCJ3aW5kb3ciLCJyZWFkeSIsImNvcmRvdmEiLCJwbHVnaW5zIiwiS2V5Ym9hcmQiLCJoaWRlS2V5Ym9hcmRBY2Nlc3NvcnlCYXIiLCJpb25pYyIsIlBsYXRmb3JtIiwiaXNGdWxsU2NyZWVuIiwiU3RhdHVzQmFyIiwic3R5bGVEZWZhdWx0IiwiY29uZmlnIiwiJHN0YXRlUHJvdmlkZXIiLCIkdXJsUm91dGVyUHJvdmlkZXIiLCIkY29tcGlsZVByb3ZpZGVyIiwiJGlvbmljQ29uZmlnUHJvdmlkZXIiLCJkZWJ1Z0luZm9FbmFibGVkIiwic3RhdGUiLCJjYWNoZSIsImFic3RyYWN0IiwidGVtcGxhdGVVcmwiLCJjb250cm9sbGVyIiwidmlld3MiLCJtZW51Q29udGVudCIsIm90aGVyd2lzZSIsIiRzY29wZSIsImxlYWZsZXREYXRhIiwibG9jYXRpb25BUEkiLCJpb25BdXRvY29tcGxldGVFbGVtZW50IiwiZWxlbWVudCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsImJpbmQiLCJvbkNsaWNrIiwic2hvd01vZGFsIiwic2VhcmNoTG9jYXRpb24iLCJxdWVyeSIsInNlYXJjaExvY2F0aW9uQnlTdHIiLCIkc3RhdGUiLCIkY29yZG92YUdlb2xvY2F0aW9uIiwiJHN0YXRlUGFyYW1zIiwiJGlvbmljUG9wdXAiLCJMb2NhdGlvbnNTZXJ2aWNlIiwiREJTZXJ2aWNlIiwiZGIiLCJpbml0REIiLCJpbmZvIiwidGhlbiIsImNvbnNvbGUiLCJsb2ciLCJnZW9sb2NhdGUiLCJsb2NhdGVkIiwicG9zT3B0aW9ucyIsImRldmljZSIsInRpbWVvdXQiLCJlbmFibGVIaWdoQWNjdXJhY3kiLCJtYXhpbXVtQWdlIiwiZ2V0Q3VycmVudFBvc2l0aW9uIiwicG9zaXRpb24iLCJzYXZlX2luaXRpYWxfcG9zaXRpb24iLCJnbyIsImVyciIsIiRvbiIsIiRzY2UiLCJfIiwiJGNvcmRvdmFGaWxlIiwiJGNvbXBpbGUiLCIkaW9uaWNNb2RhbCIsIkNvbmZpZ1NlcnZpY2UiLCJQTUJTZXJ2aWNlIiwiQ29udGFpbmVyU2VydmljZSIsIk1hcFNlcnZpY2UiLCJGYXFTZXJ2aWNlIiwiQ2F0ZWdvcmllc1NlcnZpY2UiLCJBdXRoU2VydmljZSIsIlVzZXJTZXJ2aWNlIiwiJHRpbWVvdXQiLCIkbG9jYXRpb24iLCJFcnJvclNlcnZpY2UiLCIkaW9uaWNTbGlkZUJveERlbGVnYXRlIiwiJGlvbmljU2Nyb2xsRGVsZWdhdGUiLCJQb3BVcFNlcnZpY2UiLCJDb25uZWN0aXZpdHlTZXJ2aWNlIiwiJGNvcmRvdmFJbkFwcEJyb3dzZXIiLCIkaW50ZXJ2YWwiLCJmZWF0dXJlUmVwb3J0cyIsImJhc2VVUkwiLCJ1c2VyX2NhY2hlZF9pbWFnZSIsInJlcG9ydF9kZXRhaWxfaWQiLCJvbmVfdmFsdWVfcG9wdXAiLCJhYnVzZV9uYW1lIiwiYWJ1c2VfZW1haWwiLCJhYnVzZV9zdWJqZWN0IiwiYWJ1c2VfbWVzc2FnZSIsImFjdHVhbFNsaWRlckluZGV4Iiwic2V0X25ldHdvcmtfZXZlbnRzIiwiZmluZF9tZSIsIndhbGt0aHJvdWdoIiwib25IYXJkd2FyZUJhY2tCdXR0b24iLCJlIiwic3RvcFByb3BhZ2F0aW9uIiwiaGlkZV9zcGVjaWFsX2RpdnMiLCJvcGVuV2Vic2l0ZSIsIm9wdGlvbnMiLCJsb2NhdGlvbiIsImNsZWFyY2FjaGUiLCJ0b29sYmFyIiwib3BlbiIsImV2ZW50IiwiY3JlYXRlX29ubGluZV9tYXAiLCJhZGRQaW5zTGF5ZXIiLCJtYXAiLCJjZW50ZXIiLCJsYXQiLCJsbmciLCJ6b29tIiwiZGVmYXVsdHMiLCJ0aWxlTGF5ZXIiLCJtaW5ab29tIiwibWF4Wm9vbSIsInpvb21Db250cm9sUG9zaXRpb24iLCJtYXJrZXJzIiwiZXZlbnRzIiwiZW5hYmxlIiwibG9naWMiLCJjbGlja09uTWVudUljb24iLCJsaW5lc21lbnUiLCJnZXRFbGVtZW50QnlJZCIsImV4cGFuZGVkX21lbnUiLCJ0b2dnbGVDbGFzc09uRWxlbWVudCIsImNsYXNzTmFtZSIsImNsYXNzU3RyaW5nIiwibmFtZUluZGV4IiwiaW5kZXhPZiIsInN1YnN0ciIsImxlbmd0aCIsIm5leHQiLCJjdXJyZW50SW5kZXgiLCJwcmV2aW91cyIsInNjcm9sbE1lIiwiYW5jaG9yX2lkIiwiaGFzaCIsImhhbmRsZSIsIiRnZXRCeUhhbmRsZSIsImFuY2hvclNjcm9sbCIsInNldF9hY3RpdmVfb3B0aW9uIiwiYnV0dG9uaWQiLCJjb250YWluZXJfZGV0YWlscyIsIm5hdmJhY2siLCJuYXZpZ2F0aW9uX21lbnUiLCJhZGRNYXBDb250cm9scyIsInN0YXJ0UmVwb3J0RnJvbUNyb3NzaGFpcnMiLCJqc29uTGF5ZXIiLCJvbkVhY2hGZWF0dXJlIiwiZmVhdHVyZSIsImxheWVyIiwicHJvcGVydGllcyIsIm9uIiwic2VsZWN0ZWRfY29udGFpbmVyIiwiYnVpbGQiLCJ0YXJnZXQiLCJzZXRMYXRMbmciLCJnZW9tZXRyeSIsImNvb3JkaW5hdGVzIiwiY29udGFpbmVyRGV0YWlscyIsImJhY2tNZW51IiwibWVudSIsImdvVG9DZW50ZXIiLCJsb24iLCJsIiwiTCIsIkxheWVySlNPTiIsImxvY0FzR2VvSlNPTiIsIm1pblNoaWZ0IiwicHJlY2lzaW9uIiwiZ2V0TWFwIiwicmVtb3ZlTGF5ZXIiLCJhZGRMYXllciIsImxhc3RNYXJrZXJMYXllciIsInJlcG9ydHMiLCJkYXRhIiwiZmVhdHVyZXMiLCJlYWNoTGF5ZXIiLCJfbGF5ZXIiLCJpY29uIiwicGluX3VybCIsIm1hcmtlckljb24iLCJpY29uVXJsIiwiaWNvblNpemUiLCJpY29uQW5jaG9yIiwicG9wdXBBbmNob3IiLCJzZXRJY29uIiwidW5kZWZpbmVkIiwiR0lEIiwibG9uZ1RvIiwibGF0VG8iLCJsYXRGcm9tIiwiY29vcmRzIiwibGF0aXR1ZGUiLCJsb25nRnJvbSIsImxvbmdpdHVkZSIsImdldFJvYWQiLCJjZW50ZXJNYXBPbkNvb3JkcyIsImxhc3RSb2FkIiwibmF2X2JhY2siLCJzcGxpY2VXYXlwb2ludHMiLCJyZW1vdmVDb250cm9sIiwid2Fsa3Rocm91Z2hfbW9kYWwiLCJkb25lV2Fsa3Rocm91Z2giLCJnZXREb25lV2Fsa3Rocm91Z2giLCJkb2MiLCJzdGF0dXMiLCJvcGVuV2Fsa1Rocm91Z2hNb2RhbCIsImZyb21UZW1wbGF0ZVVybCIsInNjb3BlIiwiaGFyZHdhcmVCYWNrQnV0dG9uQ2xvc2UiLCJhbmltYXRpb24iLCJtb2RhbCIsInNob3ciLCJmaW5pc2hXYWxrdGhyb3VnaCIsImhpZGUiLCJyZW1vdmUiLCJzYXZlRG9uZVdhbGt0aHJvdWdoIiwib3Blbk1haW5NZW51IiwibWFpbl9tZW51X21vZGFsIiwiY2xvc2VNYWluTWVudSIsIkxhdEZyb20iLCJMb25nRnJvbSIsImNsb3NlUG9wdXAiLCJub3dfbWFya2VyIiwibWFya2VyIiwiYWRkVG8iLCJSb3V0aW5nIiwiY29udHJvbCIsIndheXBvaW50cyIsImxhdExuZyIsImxhbmd1YWdlIiwicm91dGVyIiwibWFwYm94IiwiY3JlYXRlTWFya2VyIiwiaSIsInN0YXJ0IiwibiIsImxpbmVPcHRpb25zIiwic3R5bGVzIiwiY29sb3IiLCJvcGFjaXR5Iiwid2VpZ2h0IiwiZml0U2VsZWN0ZWRSb3V0ZXMiLCJtb2RlbCIsImV4dGVybmFsTW9kZWwiLCJzZWxlY3RlZEl0ZW1zIiwicHJlc2VsZWN0ZWRTZWFyY2hJdGVtcyIsImNsaWNrZWRWYWx1ZU1vZGVsIiwicmVtb3ZlZFZhbHVlTW9kZWwiLCJpdGVtc1JlbW92ZWQiLCJjYWxsYmFjayIsInVzZXJfb3B0aW9ucyIsInN0eWxlIiwiZGlzcGxheSIsIm5hbWUiLCJzaG93X2Fub255bW91c19tZW51Iiwic2hvd191c2VyX21lbnUiLCJodG1sIiwiaW5uZXJIVE1MIiwiaGVpZ2h0Iiwid2lkdGgiLCJjcmVhdGVfZmllbGRfYXJyYXkiLCJ0eXBlIiwidmFsdWUiLCJmaWVsZCIsIkFycmF5Iiwic2lnbl9pbiIsImVtYWlsIiwicGFzc3dvcmQiLCJpc09ubGluZSIsImZpZWxkcyIsInB1c2giLCJjaGVja19maWVsZHMiLCJyZXNwIiwiaHR0cF9yZXNwb25zZV9pc19zdWNjZXNzZnVsIiwic2F2ZV91c2VyX2RhdGEiLCJpZGVudGl0eV9kb2N1bWVudCIsInBob25lIiwicGljdHVyZV91cmwiLCJzYXZlVXNlciIsImNsb3NlX2xvZ2luX21vZGFsIiwic2V0X3VzZXJfcGljdHVyZSIsInNob3dfZXJyb3JfbWVzc2FnZSIsInN0YXR1c1RleHQiLCJzaG93X2FsZXJ0Iiwic2lnbl9pbl9hamF4IiwiaHR0cF9yZXNwb25zZV9pc19zdWNjZXNzZnVsX2FqYXgiLCJzaWduX291dCIsImVyYXNlX3VzZXJfZGF0YSIsImVyYXNlVXNlciIsImNoZWNrX3VzZXJfbG9nZ2VkIiwic2V0X29mZmxpbmVfdXNlciIsImhhc1Bob3RvIiwic2VhcmNoX3N0cmVldCIsInBhcmVudE5vZGUiLCJjbGljayIsIkxvYWRlciIsInJlcG9ydEJ1dHRvbiIsInRleHQiLCJpbml0aWFsX2xhdCIsImluaXRpYWxfbG5nIiwic2VhcmNoTW9kZSIsImNhbGxlIiwiZXNxdWluYSIsImx1Z2FyIiwibG9jYXRpb25HZW9tUGFyYW1zIiwidGlwbyIsInBhdGhQYXJhbXMiLCJpbml0UmVwb3J0IiwiX3BpbiIsIl9waW5JY29uIiwiZ2V0Q2VudGVyIiwiY2xpY2thYmxlIiwiUmVwb3J0U2VydmljZSIsIl9uZXciLCJjdXJyZW50IiwiaXNOdW1lcmljIiwiaXNOYU4iLCJwYXJzZUZsb2F0IiwiaXNGaW5pdGUiLCJwcm9taXNlU2VhcmNoIiwidHJpbSIsIml0ZW1zIiwiaXRlbSIsImRlc2NUaXBvIiwibm9tYnJlIiwiY29kaWdvIiwic2VhcmNoRXNxdWluYUJ5U3RyIiwic2VsZWN0ZWRJdGVtIiwiaXRlbXNDbGlja2VkIiwiaW9uQXV0b2NvbXBsZXRlRWxlbWVudFNlYXJjaCIsInN0cl90aXBvIiwiZ2V0TG9jYXRpb25HZW9tIiwicmVzdWx0IiwiZ29Ub1BsYWNlIiwiZXh0ZW5kIiwiZ2VvbSIsImdlb0pTT04iLCJhdHRyIiwiaXRlbXNDYW5jZWxlZCIsIl9pdGVtIiwibnVtUHVlcnRhIiwicGFyc2VJbnQiLCJzZWFyY2hRdWVyeSIsIk51bWJlciIsImlzSW50ZWdlciIsImVycm9yIiwic2hvd0FsZXJ0IiwicmVzIiwiZmFjdG9yeSIsIiRodHRwIiwiJGNvcmRvdmFGaWxlVHJhbnNmZXIiLCJnZXQiLCJwYXJhbXMiLCJwYXNzd29yZF9zaWduX2luIiwiY3JlYXRlX3VzZXIiLCJmdWxsbmFtZSIsImlkX2RvYyIsInVzZXJfcGhvbmUiLCJmb3JtX2VtYWlsIiwicGFzc3dvcmRfcmVnaXN0ZXIiLCJjaGFuZ2VfcGFzc3dvcmQiLCJsb2dpbl9lbWFpbCIsImVkaXRfdXNlciIsIm5ld19lbWFpbCIsInVzZXJfcGljdHVyZV91cmwiLCJmaWxlS2V5IiwidHJ1c3RBbGxIb3N0cyIsInVwbG9hZCIsImFsbCIsIm5ld19yZXBvcnRfbGF0IiwibmV3X3JlcG9ydF9sbmciLCJmb3JtYXQiLCJnZXRDYWNoZWRDYXRlZ29yaWVzIiwiZ2V0Q2F0ZWdvcmllcyIsIkNvbmZpZ09iaiIsIiRjb3Jkb3ZhTmV0d29yayIsImlzV2ViVmlldyIsIm5hdmlnYXRvciIsIm9uTGluZSIsImlzT2ZmbGluZSIsIkNvbnRhaW5lciIsIl9kYXRhIiwidGhpcyIsImdldEJ5SWQiLCJpZCIsIl9kZWZhdWx0IiwidGl0bGUiLCJkZXRhaWwiLCJtYXlfc2hvd19uYW1lIiwiY2F0ZWdvcnkiLCJwYyIsImZpbGUiLCJzdWJtaXRfc2lnbl9pbiIsInJlbWVtYmVyX21lIiwiX2FsbCIsInByb3RvdHlwZSIsIiRxIiwidXNlcl9uYW1lIiwidXNlcl9lbWFpbCIsInVzZXJfcGFzc3dvcmQiLCJ1c2VyX2lkX2RvYyIsInVzZXIiLCJfaWQiLCJnZXRVc2VyIiwiX3JldiIsIl9kYiIsInB1dCIsIlBvdWNoREIiLCJzYXZlUmVwb3J0IiwicmVwb3J0IiwiZGF0ZSIsIkRhdGUiLCJuZXdfcmVwb3J0X2lkIiwiZ2V0RnVsbFllYXIiLCJnZXRNb250aCIsImdldERhdGUiLCJnZXRNaWxsaXNlY29uZHMiLCJ1cGRhdGVSZXBvcnQiLCJzYXZlQ2F0ZWdvcmllcyIsImNhdGVnb3JpZXMiLCJnZXRSZXBvcnQiLCJyZXBvcnRJZCIsImdldEFsbFJlcG9ydHMiLCJhbGxEb2NzIiwiaW5jbHVkZV9kb2NzIiwiYXR0YWNobWVudHMiLCJzdGFydGtleSIsImVuZGtleSIsImRlbGV0ZVJlcG9ydCIsInJlcG9ydF9pZCIsImRlbGV0ZUdpdmVuUmVwb3J0IiwiVmFsaWRhdGlvblNlcnZpY2UiLCJqc29uUmVzdWx0IiwiZXJyb3JDb250YWluZXJJZCIsImVycm9yRGl2IiwibWVzc2FnZSIsImh0dHBfcmVzcG9uc2VfaXNfc3VjY2Vzc2Z1bF9wb3B1cCIsImFsZXJ0UG9wdXAiLCJhbGVydCIsInRlbXBsYXRlIiwiaHR0cF9kYXRhX3Jlc3BvbnNlX2lzX3N1Y2Nlc3NmdWwiLCJodHRwX2RhdGFfcmVzcG9uc2VfaXNfc3VjY2Vzc2Z1bF9hamF4Iiwic2hvd19lcnJvcl9tZXNzYWdlX3BvcHVwIiwiZXJyb3JzIiwiZm9yRWFjaCIsInZhbGlkYXRlX25vdF9lbXB0eSIsInZhbGlkYXRlX2VtYWlsIiwidmFsaWRhdGVfaWRkb2NfdXkiLCJ2YWxpZGF0ZV90d29fd29yZHMiLCJhamF4IiwiJGlvbmljTG9hZGluZyIsIkxPQURFUkFQSSIsInNob3dMb2FkaW5nIiwiaGlkZUxvYWRpbmciLCJ0b2dnbGVMb2FkaW5nV2l0aE1lc3NhZ2UiLCJzZWxmIiwiY29uZmlybVBvcHVwIiwiY29uZmlybSIsIl90aXRsZSIsIl90ZW1wbGF0ZSIsImxvY2F0aW9uc09iaiIsInNhdmVfbmV3X3JlcG9ydF9wb3NpdGlvbiIsInNhdmVkTG9jYXRpb25zIiwicHJvajQiLCJkZWZzIiwibWFwU2VydmljZSIsIl9wbGFjZSIsIl9nZW9Kc29uIiwiY3JzIiwiX2xhdGxuZyIsIlByb2oiLCJnZW9Kc29uIiwicG9pbnRUb0xheWVyIiwibGF0bG5nIiwic2V0VmlldyIsIkxhdExuZyIsImJhc2UiLCJmb3JtIiwiZmlsZU5hbWUiLCJjaHVua2VkTW9kZSIsIm1pbWVUeXBlIiwiaGVhZGVycyIsIkNvbm5lY3Rpb24iLCJzdWJzY3JpYmUiLCJyem52eSIsImFidXNlIiwic3ViamVjdCIsImVtIiwiZGVsZXRlVVJMIiwiY29tbWVudCIsImFkZF9hbGVydCIsImZpeGVkIiwic3VibWl0X3VwZGF0ZSIsInVwZGF0ZSIsImZvcm1fcnpudnkiLCJhbGVydF90aXRsZSIsImFsZXJ0X21lc3NhZ2UiLCJhc2tGb3JPbmVWYWx1ZVBvcFVwIiwiZmllbGRfbmFtZSIsInZhbGlkYXRpb25UeXBlIiwibXlQb3B1cCIsInN1YlRpdGxlIiwiYnV0dG9ucyIsIm9uVGFwIiwicHJldmVudERlZmF1bHQiLCJBcGlJbUVuZHBvaW50IiwiQXBpRGF0YUVuZHBvaW50IiwicmVzdFByZWZmaXgiLCJfbG9jYXRpb24iLCJtZXRob2QiLCJnZXRQYXJhbVBhdGhCeVRpcG8iLCJyZXNwb25zZSIsIl90aXBvIiwicmVzdEdlb0RhdGFTZXJ2aWNlUGF0aCIsIkVTUVVJTkEiLCJESVJFQ0NJT04iLCJVc2VyT2JqIiwiZ2V0X3VzZXJfZGF0YSIsImFkZF9waG90byIsImlzTG9nZ2VkIiwidmFsdWVzIiwic3BsaXQiLCJmaWx0ZXIiLCJ2IiwicmUiLCJ0ZXN0IiwicmVwbGFjZSIsImRpZyIsImEiXSwibWFwcGluZ3MiOiJBQU9BLEdBQUlBLFNBQ0ZDLFlBQWFDLFFBQVFDLE9BQU8seUJBQzVCQyxTQUFVRixRQUFRQyxPQUFPLHNCQUczQkgsUUFBT0ssSUFBTUgsUUFBUUMsT0FBTyxVQUFXLFFBQVEsZUFBZSxtQkFBbUIsb0JBQXFCLHFCQUFzQixrQkFBbUIsWUFBYSxvQkFFM0pHLFNBQVMsaUJBQ1JDLElBQUssaUNBR05ELFNBQVMsbUJBQ1JDLElBQUssVUFJTkMsS0FBQSxpQkFBQSxhQUFBLG1CQUFJLFNBQVNDLEVBQWdCQyxFQUFZQyxHQUN4Q0QsRUFBV0UsUUFBVUMsT0FBT0QsUUFDNUJILEVBQWVLLE1BQU0sV0FHZkQsT0FBT0UsU0FBV0YsT0FBT0UsUUFBUUMsUUFBUUMsVUFDM0NGLFFBQVFDLFFBQVFDLFNBQVNDLDBCQUF5QixHQUtwREMsTUFBTUMsU0FBU0MsY0FBZSxFQUMxQlIsT0FBT1MsV0FFVEEsVUFBVUMsb0JBS2ZDLFFBQUEsaUJBQUEscUJBQUEsbUJBQUEsdUJBQU8sU0FBU0MsRUFBZ0JDLEVBQW9CQyxFQUFrQkMsR0FDckVELEVBQWlCRSxrQkFBaUIsR0FPbENKLEVBRURLLE1B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USxjQUFlLFNBQVNDLEVBQU0zVCxHQUVsRixPQUNFMlosbUJBQW9CLFNBQVV2TCxHQUMxQixNQUFVLE9BQVBBLEdBQXNCLGFBQVBBLEdBQTZCLElBQVBBLEdBTzVDMEwsbUJBQW9CLFNBQVUxTCxHQUMxQixHQUFVLE1BQVBBLEdBQXNCLGFBQVBBLEdBQTZCLElBQVBBLEVBQVUsQ0FDaEQsR0FBSWtRLEdBQVNsUSxFQUFNbVEsTUFBTSxLQUFLQyxPQUFPLFNBQVNDLEdBQUcsTUFBVyxLQUFKQSxHQUN4RCxPQUFJSCxHQUFPeFksT0FBUyxFQVFwQixPQUFPLEdBSWI4VCxlQUFnQixTQUFVeEwsR0FDdEIsR0FBVSxNQUFQQSxHQUFzQixhQUFQQSxHQUE2QixJQUFQQSxFQUFVLENBQ2hELEdBQUlzUSxHQUFLLHdKQUNULE9BQU9BLEdBQUdDLEtBQUt2USxHQUVmLE9BQU8sR0FJYnlMLGtCQUFtQixTQUFVekwsR0FDM0IsR0FBVSxNQUFQQSxHQUFzQixhQUFQQSxHQUE2QixJQUFQQSxFQUFVLENBQzlDQSxFQUFRQSxFQUFNd1EsUUFBUSxNQUFPLEdBQzdCLElBQUlDLEdBQU16USxFQUFNQSxFQUFNdEksT0FBUyxHQUMzQmdaLEVBQUksRUFBT3ZTLEVBQUksQ0FDbkIsSUFBRzZCLEVBQU10SSxRQUFVLEVBQ2pCLElBQUl5RyxFQUFJNkIsRUFBTXRJLE9BQVF5RyxFQUFJLEVBQUdBLElBQzNCNkIsRUFBUSxJQUFNQSxDQUdsQixLQUFJN0IsRUFBSSxFQUFHQSxFQUFJLEVBQUdBLElBQ2hCdVMsR0FBTTNMLFNBQVMsVUFBVTVHLElBQU00RyxTQUFTL0UsRUFBTTdCLElBQU8sRUFFdkQsSUFBSW1HLEVBTUosT0FKRUEsR0FEQ29NLEVBQUUsS0FBTyxFQUNELEVBRUEsR0FBS0EsRUFBSSxHQUVqQkQsR0FBT25NLEVBTVosT0FBTyIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBJb25pYyBTdGFydGVyIEFwcFxuXG4vLyBhbmd1bGFyLm1vZHVsZSBpcyBhIGdsb2JhbCBwbGFjZSBmb3IgY3JlYXRpbmcsIHJlZ2lzdGVyaW5nIGFuZCByZXRyaWV2aW5nIEFuZ3VsYXIgbW9kdWxlc1xuLy8gJ3BtYl9pbScgaXMgdGhlIG5hbWUgb2YgdGhpcyBhbmd1bGFyIG1vZHVsZSBleGFtcGxlIChhbHNvIHNldCBpbiBhIDxib2R5PiBhdHRyaWJ1dGUgaW4gaW5kZXguaHRtbClcbi8vIHRoZSAybmQgcGFyYW1ldGVyIGlzIGFuIGFycmF5IG9mICdyZXF1aXJlcydcbi8vICdzdGFydGVyLnNlcnZpY2VzJyBpcyBmb3VuZCBpbiBzZXJ2aWNlcy5qc1xuLy8gJ3N0YXJ0ZXIuY29udHJvbGxlcnMnIGlzIGZvdW5kIGluIGNvbnRyb2xsZXJzLmpzXG52YXIgcG1iX2ltID0ge1xuICBjb250cm9sbGVyczogYW5ndWxhci5tb2R1bGUoJ3BtYl9pbS5jb250cm9sbGVycycsIFtdKSxcbiAgc2VydmljZXM6IGFuZ3VsYXIubW9kdWxlKCdwbWJfaW0uc2VydmljZXMnLCBbXSlcbn07XG5cbnBtYl9pbS5hcHAgPSBhbmd1bGFyLm1vZHVsZSgncG1iX2ltJywgWydpb25pYycsJ2lvbmljLndpemFyZCcsJ2lvbi1hdXRvY29tcGxldGUnLCdsZWFmbGV0LWRpcmVjdGl2ZScsICdwbWJfaW0uY29udHJvbGxlcnMnLCAncG1iX2ltLnNlcnZpY2VzJywgJ25nQ29yZG92YScsICdpb25pYy1jYWNoZS1zcmMnXSlcblxuLmNvbnN0YW50KCdBcGlJbUVuZHBvaW50Jywge1xuICB1cmw6ICdodHRwOi8vd3d3Lm1vbnRldmlkZW8uZ3ViLnV5J1xufSlcblxuLmNvbnN0YW50KCdBcGlEYXRhRW5kcG9pbnQnLCB7XG4gIHVybDogJy9kYXRhJ1xufSlcblxuXG4ucnVuKGZ1bmN0aW9uKCRpb25pY1BsYXRmb3JtLCAkcm9vdFNjb3BlLCAkY29yZG92YUtleWJvYXJkKSB7XG4gICRyb290U2NvcGUuVkVSU0lPTiA9IHdpbmRvdy5WRVJTSU9OO1xuICAkaW9uaWNQbGF0Zm9ybS5yZWFkeShmdW5jdGlvbigpIHtcbiAgICAvLyBIaWRlIHRoZSBhY2Nlc3NvcnkgYmFyIGJ5IGRlZmF1bHQgKHJlbW92ZSB0aGlzIHRvIHNob3cgdGhlIGFjY2Vzc29yeSBiYXIgYWJvdmUgdGhlIGtleWJvYXJkXG4gICAgLy8gZm9yIGZvcm0gaW5wdXRzKVxuICAgIGlmICh3aW5kb3cuY29yZG92YSAmJiB3aW5kb3cuY29yZG92YS5wbHVnaW5zLktleWJvYXJkKSB7XG4gICAgICBjb3Jkb3ZhLnBsdWdpbnMuS2V5Ym9hcmQuaGlkZUtleWJvYXJkQWNjZXNzb3J5QmFyKHRydWUpO1xuICAgICAgLy9jb3Jkb3ZhLnBsdWdpbnMuS2V5Ym9hcmQuZGlzYWJsZVNjcm9sbChmYWxzZSk7XG4gICAgfVxuICAgIC8vJGNvcmRvdmFLZXlib2FyZC5oaWRlQWNjZXNzb3J5QmFyKHRydWUpXG4gICAgLy8kY29yZG92YUtleWJvYXJkLmRpc2FibGVTY3JvbGwoZmFsc2UpXG4gICAgaW9uaWMuUGxhdGZvcm0uaXNGdWxsU2NyZWVuID0gZmFsc2U7XG4gICAgaWYgKHdpbmRvdy5TdGF0dXNCYXIpIHtcbiAgICAgIC8vIG9yZy5hcGFjaGUuY29yZG92YS5zdGF0dXNiYXIgcmVxdWlyZWRcbiAgICAgIFN0YXR1c0Jhci5zdHlsZURlZmF1bHQoKTtcbiAgICB9XG4gIH0pO1xufSlcblxuLmNvbmZpZyhmdW5jdGlvbigkc3RhdGVQcm92aWRlciwgJHVybFJvdXRlclByb3ZpZGVyLCAkY29tcGlsZVByb3ZpZGVyLCAkaW9uaWNDb25maWdQcm92aWRlcikge1xuICAkY29tcGlsZVByb3ZpZGVyLmRlYnVnSW5mb0VuYWJsZWQoZmFsc2UpO1xuICAvLyRpb25pY0NvbmZpZ1Byb3ZpZGVyLnNjcm9sbGluZy5qc1Njcm9sbGluZyh0cnVlKTtcblxuICAvLyBJb25pYyB1c2VzIEFuZ3VsYXJVSSBSb3V0ZXIgd2hpY2ggdXNlcyB0aGUgY29uY2VwdCBvZiBzdGF0ZXNcbiAgLy8gTGVhcm4gbW9yZSBoZXJlOiBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci11aS91aS1yb3V0ZXJcbiAgLy8gU2V0IHVwIHRoZSB2YXJpb3VzIHN0YXRlcyB3aGljaCB0aGUgYXBwIGNhbiBiZSBpbi5cbiAgLy8gRWFjaCBzdGF0ZSdzIGNvbnRyb2xsZXIgY2FuIGJlIGZvdW5kIGluIGNvbnRyb2xsZXJzLmpzXG4gICRzdGF0ZVByb3ZpZGVyXG5cbi5zdGF0ZSgnYXBwJywge1xuICAgIGNhY2hlOiBmYWxzZSxcbiAgICB1cmw6IFwiL2FwcFwiLFxuICAgIGFic3RyYWN0OiB0cnVlLFxuICAgIHRlbXBsYXRlVXJsOiBcInRlbXBsYXRlcy9tZW51Lmh0bWxcIixcbiAgICBjb250cm9sbGVyOiAnTWFwQ29udHJvbGxlcidcbiAgfSlcblxuLnN0YXRlKCdhcHAubWFwJywge1xuICAgIGNhY2hlOiBmYWxzZSxcbiAgICB1cmw6IFwiL21hcC9cIixcbiAgICB2aWV3czoge1xuICAgICAgJ21lbnVDb250ZW50JyA6e1xuICAgICAgICB0ZW1wbGF0ZVVybDogXCJ0ZW1wbGF0ZXMvbWFwLmh0bWxcIixcbiAgICAgICAgY29udHJvbGxlciA6IFwiUE1CQ3RybFwiXG4gICAgICB9XG4gICAgfVxuICB9KVxuXG4uc3RhdGUoJ2FwcC5pbnRybycsIHtcbiAgY2FjaGU6IGZhbHNlLFxuICB1cmw6IFwiL2ludHJvXCIsXG4gIHZpZXdzOiB7XG4gICAgJ21lbnVDb250ZW50JyA6e1xuICAgICAgdGVtcGxhdGVVcmw6IFwidGVtcGxhdGVzL2ludHJvLmh0bWxcIixcbiAgICAgIGNvbnRyb2xsZXIgOiBcIkludHJvQ3RybFwiXG4gICAgfVxuICB9XG59KVxuXG4vLyBpZiBub25lIG9mIHRoZSBhYm92ZSBzdGF0ZXMgYXJlIG1hdGNoZWQsIHVzZSB0aGlzIGFzIHRoZSBmYWxsYmFja1xuJHVybFJvdXRlclByb3ZpZGVyLm90aGVyd2lzZSgnL2FwcC9pbnRybycpO1xuXG59KTtcbiIsInBtYl9pbS5jb250cm9sbGVycy5jb250cm9sbGVyKCdBdXRvQ29tcGxldGVDdHJsJywgWyckc2NvcGUnLCAnbGVhZmxldERhdGEnLCAnbG9jYXRpb25BUEknLCBmdW5jdGlvbigkc2NvcGUsIGxlYWZsZXREYXRhLCBsb2NhdGlvbkFQSSkge1xuXG5cbiAgJHNjb3BlLmlvbkF1dG9jb21wbGV0ZUVsZW1lbnQgPSBhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImlvbi1hdXRvY29tcGxldGVcIikpO1xuICAkc2NvcGUuaW9uQXV0b2NvbXBsZXRlRWxlbWVudC5iaW5kKCd0b3VjaGVuZCBjbGljayBmb2N1cycsICRzY29wZS5vbkNsaWNrKTtcblxuICAkc2NvcGUub25DbGljayA9IGZ1bmN0aW9uKCkge1xuXG4gICAgJHNjb3BlLmlvbkF1dG9jb21wbGV0ZUVsZW1lbnQuY29udHJvbGxlcignaW9uQXV0b2NvbXBsZXRlJykuc2hvd01vZGFsKCk7XG5cblxuICB9O1xuXG5cblxuICAkc2NvcGUuc2VhcmNoTG9jYXRpb24gPSBmdW5jdGlvbihxdWVyeSkge1xuICAgIGlmIChxdWVyeSkge1xuICAgICAgLy9jb25zb2xlLmxvZyhcInF1ZXJ5PSBcIiArIHF1ZXJ5KTtcbiAgICAgIHJldHVybiBsb2NhdGlvbkFQSS5zZWFyY2hMb2NhdGlvbkJ5U3RyKHF1ZXJ5KTtcblxuICAgIH1cbiAgfTtcblxuXG59XSk7XG4iLCJwbWJfaW0uY29udHJvbGxlcnMuY29udHJvbGxlcignSW50cm9DdHJsJywgWyckc2NvcGUnLCAnJHN0YXRlJyxcbiAgJyRjb3Jkb3ZhR2VvbG9jYXRpb24nLFxuICAnJHN0YXRlUGFyYW1zJyxcbiAgJyRpb25pY1BsYXRmb3JtJyxcbiAgJyRpb25pY1BvcHVwJyxcbiAgJ0xvY2F0aW9uc1NlcnZpY2UnLFxuICAnREJTZXJ2aWNlJyxcbiAgZnVuY3Rpb24oJHNjb3BlLCAkc3RhdGUsICRjb3Jkb3ZhR2VvbG9jYXRpb24sICRzdGF0ZVBhcmFtcywgJGlvbmljUGxhdGZvcm0sICRpb25pY1BvcHVwLCBMb2NhdGlvbnNTZXJ2aWNlLCBEQlNlcnZpY2UpIHtcblxuICB2YXIgZGIgPSBEQlNlcnZpY2UuaW5pdERCKCk7XG4gIGRiLmluZm8oKS50aGVuKGNvbnNvbGUubG9nLmJpbmQoY29uc29sZSkpO1xuXG4gICRzY29wZS5nZW9sb2NhdGUgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBsb2NhdGVkID0gZmFsc2U7XG4gICAgICAvKnNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgICAgaWYoIWxvY2F0ZWQpe1xuICAgICAgICAgICRzdGF0ZS5nbyhcImFwcC5tYXBcIik7XG4gICAgICAgIH1cbiAgICAgIH0sIDQwMDApOyovXG4gICAgICBpb25pYy5QbGF0Zm9ybS5yZWFkeShmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGRldmljZSA9IGlvbmljLlBsYXRmb3JtLmRldmljZSgpO1xuICAgICAgICAvL2FsZXJ0KGRldmljZS5wbGF0Zm9ybSk7XG4gICAgICAgIHZhciBwb3NPcHRpb25zID0ge3RpbWVvdXQ6IDM1MDAsIGVuYWJsZUhpZ2hBY2N1cmFjeTogdHJ1ZSwgbWF4aW11bUFnZTo2MDAwMH07XG4gICAgICAgICRjb3Jkb3ZhR2VvbG9jYXRpb25cbiAgICAgICAgICAuZ2V0Q3VycmVudFBvc2l0aW9uKHBvc09wdGlvbnMpXG4gICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHBvc2l0aW9uKSB7XG4gICAgICAgICAgICAvL2FsZXJ0KFwic2FsaW8gcG9yIGVsIHRydWVcIik7XG4gICAgICAgICAgICBsb2NhdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIExvY2F0aW9uc1NlcnZpY2Uuc2F2ZV9pbml0aWFsX3Bvc2l0aW9uKHBvc2l0aW9uKTtcbiAgICAgICAgICAgICRzdGF0ZS5nbyhcImFwcC5tYXBcIik7XG4gICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICAvLyBlcnJvclxuICAgICAgICAgICAgLy9hbGVydChcInNhbGlvIHBvciBlbCBlcnJvclwiKTtcbiAgICAgICAgICAgICRzdGF0ZS5nbyhcImFwcC5tYXBcIik7XG4gICAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgIH07XG5cbiAgICRzY29wZS4kb24oJyRpb25pY1ZpZXcuZW50ZXInLCBmdW5jdGlvbigpeyAvL1RoaXMgaXMgZmlyZWQgdHdpY2UgaW4gYSByb3dcbiAgICAgICAkc2NvcGUuZ2VvbG9jYXRlKCk7XG4gICB9KTtcblxuICB9XG5dKTtcbiIsInBtYl9pbS5jb250cm9sbGVycy5jb250cm9sbGVyKCdNYXBDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJHNjZScsICdfJyxcbiAgJyRjb3Jkb3ZhRmlsZScsXG4gICckY29yZG92YUdlb2xvY2F0aW9uJyxcbiAgJyRjb21waWxlJyxcbiAgJyRzdGF0ZScsXG4gICckc3RhdGVQYXJhbXMnLFxuICAnJGlvbmljTW9kYWwnLFxuICAnJGlvbmljUG9wdXAnLFxuICAnbGVhZmxldERhdGEnLFxuICAnQ29uZmlnU2VydmljZScsXG4gICdQTUJTZXJ2aWNlJyxcbiAgJ0xvY2F0aW9uc1NlcnZpY2UnLFxuICAnQ29udGFpbmVyU2VydmljZScsXG4gICdNYXBTZXJ2aWNlJyxcbiAgJ0ZhcVNlcnZpY2UnLFxuICAnQ2F0ZWdvcmllc1NlcnZpY2UnLFxuICAnQXV0aFNlcnZpY2UnLFxuICAnVXNlclNlcnZpY2UnLFxuICAnREJTZXJ2aWNlJyxcbiAgJyR0aW1lb3V0JyxcbiAgJyRsb2NhdGlvbicsXG4gICdFcnJvclNlcnZpY2UnLFxuICAnJGlvbmljU2xpZGVCb3hEZWxlZ2F0ZScsXG4gICckaW9uaWNTY3JvbGxEZWxlZ2F0ZScsXG4gICdQb3BVcFNlcnZpY2UnLFxuICAnJGlvbmljUGxhdGZvcm0nLFxuICAnQ29ubmVjdGl2aXR5U2VydmljZScsXG4gICckY29yZG92YUluQXBwQnJvd3NlcicsXG4gICckaW50ZXJ2YWwnLFxuICAnJGNvcmRvdmFLZXlib2FyZCcsXG4gIGZ1bmN0aW9uKFxuICAgICRzY29wZSxcbiAgICAkc2NlLFxuICAgIF8sXG4gICAgJGNvcmRvdmFGaWxlLFxuICAgICRjb3Jkb3ZhR2VvbG9jYXRpb24sXG4gICAgJGNvbXBpbGUsXG4gICAgJHN0YXRlLFxuICAgICRzdGF0ZVBhcmFtcyxcbiAgICAkaW9uaWNNb2RhbCxcbiAgICAkaW9uaWNQb3B1cCxcbiAgICBsZWFmbGV0RGF0YSxcbiAgICBDb25maWdTZXJ2aWNlLFxuICAgIFBNQlNlcnZpY2UsXG4gICAgTG9jYXRpb25zU2VydmljZSxcbiAgICBDb250YWluZXJTZXJ2aWNlLFxuICAgIE1hcFNlcnZpY2UsXG4gICAgRmFxU2VydmljZSxcbiAgICBDYXRlZ29yaWVzU2VydmljZSxcbiAgICBBdXRoU2VydmljZSxcbiAgICBVc2VyU2VydmljZSxcbiAgICBEQlNlcnZpY2UsXG4gICAgJHRpbWVvdXQsXG4gICAgJGxvY2F0aW9uLFxuICAgIEVycm9yU2VydmljZSxcbiAgICAkaW9uaWNTbGlkZUJveERlbGVnYXRlLFxuICAgICRpb25pY1Njcm9sbERlbGVnYXRlLFxuICAgIFBvcFVwU2VydmljZSxcbiAgICAkaW9uaWNQbGF0Zm9ybSxcbiAgICBDb25uZWN0aXZpdHlTZXJ2aWNlLFxuICAgICRjb3Jkb3ZhSW5BcHBCcm93c2VyLFxuICAgICRpbnRlcnZhbCxcbiAgICAkY29yZG92YUtleWJvYXJkXG4gICkge1xuXG4gICAgICAvKipcbiAgICAgKiBPbmNlIHN0YXRlIGxvYWRlZCwgZ2V0IHB1dCBtYXAgb24gc2NvcGUuXG4gICAgICovXG4gICAgJHNjb3BlLmZlYXR1cmVSZXBvcnRzID0ge307XG4gICAgJHNjb3BlLmJhc2VVUkwgPSBDb25maWdTZXJ2aWNlLmJhc2VVUkw7XG4gICAgJHNjb3BlLnVzZXJfY2FjaGVkX2ltYWdlID0gXCJcIjtcbiAgICAkc2NvcGUucmVwb3J0X2RldGFpbF9pZCA9IG51bGw7XG4gICAgJHNjb3BlLm9uZV92YWx1ZV9wb3B1cCA9IG51bGw7XG4gICAgJHNjb3BlLmFidXNlX25hbWUgPSBudWxsO1xuICAgICRzY29wZS5hYnVzZV9lbWFpbCA9IG51bGw7XG4gICAgJHNjb3BlLmFidXNlX3N1YmplY3QgPSBudWxsO1xuICAgICRzY29wZS5hYnVzZV9tZXNzYWdlID0gbnVsbDtcblxuICAgICRzY29wZS5hY3R1YWxTbGlkZXJJbmRleD0wO1xuXG4gICAgJHNjb3BlLiRvbihcIiRpb25pY1ZpZXcuYmVmb3JlRW50ZXJcIiwgZnVuY3Rpb24oKSB7XG4gICAgICBEQlNlcnZpY2UuaW5pdERCKCk7XG4gICAgICAkc2NvcGUuc2V0X25ldHdvcmtfZXZlbnRzKCk7XG4gICAgICAkc2NvcGUuZmluZF9tZSgpO1xuICAgICAgJHNjb3BlLndhbGt0aHJvdWdoKCk7XG4gICAgfSk7XG5cbiAgICAkaW9uaWNQbGF0Zm9ybS5vbkhhcmR3YXJlQmFja0J1dHRvbihmdW5jdGlvbigpIHtcbiAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICRzY29wZS5oaWRlX3NwZWNpYWxfZGl2cztcbiAgICB9KTtcblxuICAgICRzY29wZS5vcGVuV2Vic2l0ZSA9IGZ1bmN0aW9uKHVybCkge1xuICAgICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgbG9jYXRpb246ICdubycsXG4gICAgICAgICAgICAgICAgY2xlYXJjYWNoZTogJ3llcycsXG4gICAgICAgICAgICAgICAgdG9vbGJhcjogJ25vJ1xuICAgICAgICAgICAgfTtcblxuICAgICAkY29yZG92YUluQXBwQnJvd3Nlci5vcGVuKHVybCwgJ19ibGFuaycsIG9wdGlvbnMpXG4gICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIC8vIHN1Y2Nlc3NcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5jYXRjaChmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgLy8gZXJyb3JcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgJHNjb3BlLnNldF9uZXR3b3JrX2V2ZW50cyA9IGZ1bmN0aW9uKCkge1xuICAgICAgJHNjb3BlLmNyZWF0ZV9vbmxpbmVfbWFwKCk7XG4gICAgICAkc2NvcGUuYWRkUGluc0xheWVyKCk7XG4gICAgICAkc2NvcGUubWFwLmNlbnRlciA9IHtcbiAgICAgICAgICBsYXQ6IC0zNC45MDExMTMsXG4gICAgICAgICAgbG5nOiAtNTYuMTY0NTMxLFxuICAgICAgICAgIHpvb206IDE4XG4gICAgICAgIH07XG4gICAgfTtcblxuICAgICRzY29wZS5jcmVhdGVfb25saW5lX21hcCA9IGZ1bmN0aW9uKCl7XG4gICAgICBpZigkc2NvcGUubWFwIT1udWxsKXtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgJHNjb3BlLm1hcCA9IHtcbiAgICAgICAgZGVmYXVsdHM6IHtcbiAgICAgICAgICB0aWxlTGF5ZXI6ICdodHRwczovL3tzfS50aWxlLm9wZW5zdHJlZXRtYXAub3JnL3t6fS97eH0ve3l9LnBuZycsXG4gICAgICAgICAgbWluWm9vbTogMTYsXG4gICAgICAgICAgbWF4Wm9vbTogMTgsXG4gICAgICAgICAgem9vbUNvbnRyb2xQb3NpdGlvbjogJ3RvcGxlZnQnLFxuICAgICAgICB9LFxuICAgICAgICBtYXJrZXJzOiB7fSxcbiAgICAgICAgZXZlbnRzOiB7XG4gICAgICAgICAgbWFwOiB7XG4gICAgICAgICAgICBlbmFibGU6IFsnY29udGV4dCddLFxuICAgICAgICAgICAgbG9naWM6ICdlbWl0J1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9O1xuXG4gICAgJHNjb3BlLmNsaWNrT25NZW51SWNvbiA9IGZ1bmN0aW9uKCl7XG4gICAgICB2YXIgbGluZXNtZW51ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJuYXYtaWNvbi1saW5lc1wiKTtcbiAgICAgIHZhciBleHBhbmRlZF9tZW51ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJleHBhbmRlZF9tZW51XCIpO1xuICAgICAgJHNjb3BlLnRvZ2dsZUNsYXNzT25FbGVtZW50KGxpbmVzbWVudSxcIm9wZW5cIik7XG4gICAgICAkc2NvcGUudG9nZ2xlQ2xhc3NPbkVsZW1lbnQoZXhwYW5kZWRfbWVudSxcIm9wZW5cIik7XG4gICAgfTtcblxuXG4gICAgdmFyIExvY2F0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgTG9jYXRpb24pKSByZXR1cm4gbmV3IExvY2F0aW9uKCk7XG4gICAgICB0aGlzLmxhdCA9IFwiXCI7XG4gICAgICB0aGlzLmxuZyA9IFwiXCI7XG4gICAgICB0aGlzLm5hbWUgPSBcIlwiO1xuICAgIH07XG5cbiAgJHNjb3BlLnRvZ2dsZUNsYXNzT25FbGVtZW50ID0gZnVuY3Rpb24gKGVsZW1lbnQsIGNsYXNzTmFtZSl7XG4gICAgaWYgKCFlbGVtZW50IHx8ICFjbGFzc05hbWUpe1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBjbGFzc1N0cmluZyA9IGVsZW1lbnQuY2xhc3NOYW1lLCBuYW1lSW5kZXggPSBjbGFzc1N0cmluZy5pbmRleE9mKGNsYXNzTmFtZSk7XG4gICAgaWYgKG5hbWVJbmRleCA9PSAtMSkge1xuICAgICAgICBjbGFzc1N0cmluZyArPSAnICcgKyBjbGFzc05hbWU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjbGFzc1N0cmluZyA9IGNsYXNzU3RyaW5nLnN1YnN0cigwLCBuYW1lSW5kZXgpICsgY2xhc3NTdHJpbmcuc3Vic3RyKG5hbWVJbmRleCtjbGFzc05hbWUubGVuZ3RoKTtcbiAgICB9XG4gICAgZWxlbWVudC5jbGFzc05hbWUgPSBjbGFzc1N0cmluZztcbiAgfTtcblxuICAkc2NvcGUubmV4dCA9IGZ1bmN0aW9uKCkge1xuICAgICRpb25pY1NsaWRlQm94RGVsZWdhdGUubmV4dCgpO1xuICAgICRzY29wZS5hY3R1YWxTbGlkZXJJbmRleCA9ICRpb25pY1NsaWRlQm94RGVsZWdhdGUuY3VycmVudEluZGV4KCk7XG4gIH07XG5cbiAgJHNjb3BlLnByZXZpb3VzID0gZnVuY3Rpb24oKSB7XG4gICAgJGlvbmljU2xpZGVCb3hEZWxlZ2F0ZS5wcmV2aW91cygpO1xuICAgICRzY29wZS5hY3R1YWxTbGlkZXJJbmRleCA9ICRpb25pY1NsaWRlQm94RGVsZWdhdGUuY3VycmVudEluZGV4KCk7XG4gIH07XG5cblxuICAgICRzY29wZS5zY3JvbGxNZSA9IGZ1bmN0aW9uKGFuY2hvcl9pZCl7XG4gICAgICAkbG9jYXRpb24uaGFzaChhbmNob3JfaWQpO1xuICAgICAgdmFyIGhhbmRsZSAgPSAkaW9uaWNTY3JvbGxEZWxlZ2F0ZS4kZ2V0QnlIYW5kbGUoJ2NvbnRlbnQnKTtcbiAgICAgIGhhbmRsZS5hbmNob3JTY3JvbGwoKTtcbiAgICB9XG5cbiAgICAkc2NvcGUuc2V0X2FjdGl2ZV9vcHRpb24gPSBmdW5jdGlvbihidXR0b25pZCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgICRzY29wZS5oaWRlX3NwZWNpYWxfZGl2cyA9IGZ1bmN0aW9uKCl7XG4gICAgICB2YXIgY29udGFpbmVyX2RldGFpbHMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbnRhaW5lcl9kZXRhaWxzXCIpO1xuICAgICAgaWYoY29udGFpbmVyX2RldGFpbHMpe1xuICAgICAgICBjb250YWluZXJfZGV0YWlscy5jbGFzc05hbWUgPSBcIlwiO1xuICAgICAgfVxuICAgICAgdmFyIG5hdmJhY2sgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm5hdmlnYXRpb25fYmFja1wiKTtcbiAgICAgIGlmKG5hdmJhY2spe1xuICAgICAgICBuYXZiYWNrLmNsYXNzTmFtZSA9IFwiaGlkZGVuXCI7XG4gICAgICB9XG4gICAgICB2YXIgbmF2aWdhdGlvbl9tZW51ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJuYXZpZ2F0aW9uX21lbnVcIik7XG4gICAgICBpZihuYXZpZ2F0aW9uX21lbnUpe1xuICAgICAgICBuYXZpZ2F0aW9uX21lbnUuY2xhc3NOYW1lID0gXCJcIjtcbiAgICAgIH1cbiAgICB9XG5cblxuICAgICRzY29wZS5hZGRNYXBDb250cm9scyA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG5cbiAgICAkc2NvcGUuc3RhcnRSZXBvcnRGcm9tQ3Jvc3NoYWlycyA9IGZ1bmN0aW9uKCl7XG4gICAgfVxuXG4gICAgJHNjb3BlLmFkZFBpbnNMYXllciA9IGZ1bmN0aW9uKCkge1xuICAgICAgaWYoJHNjb3BlLmpzb25MYXllciE9bnVsbCl7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciBiYXNlVVJMID0gQ29uZmlnU2VydmljZS5iYXNlVVJMO1xuICAgICAgICBvbkVhY2hGZWF0dXJlID0gZnVuY3Rpb24oZmVhdHVyZSwgbGF5ZXIpIHtcbiAgICAgICAgICB2YXIgaHRtbCwgcmVwb3J0SWQsIGRlc2NyaXBjaW9uO1xuICAgICAgICAgIGlmIChmZWF0dXJlLnByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgIGxheWVyLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2VsZWN0ZWRfY29udGFpbmVyID0gQ29udGFpbmVyU2VydmljZS5idWlsZChlLnRhcmdldC5mZWF0dXJlLnByb3BlcnRpZXMpO1xuICAgICAgICAgICAgICAgICRzY29wZS5zZWxlY3RlZF9jb250YWluZXIuc2V0TGF0TG5nKGUudGFyZ2V0LmZlYXR1cmUuZ2VvbWV0cnkuY29vcmRpbmF0ZXNbMV0sZS50YXJnZXQuZmVhdHVyZS5nZW9tZXRyeS5jb29yZGluYXRlc1swXSk7XG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZygkc2NvcGUuc2VsZWN0ZWRfY29udGFpbmVyKTtcbiAgICAgICAgICAgICAgICB2YXIgY29udGFpbmVyRGV0YWlscyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29udGFpbmVyX2RldGFpbHNcIik7XG4gICAgICAgICAgICAgICAgY29udGFpbmVyRGV0YWlscy5jbGFzc05hbWUgPSBcIm9wZW5cIjtcbiAgICAgICAgICAgICAgICB2YXIgYmFja01lbnUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm5hdmlnYXRpb25fYmFja1wiKTtcbiAgICAgICAgICAgICAgICBiYWNrTWVudS5jbGFzc05hbWU9XCJcIjtcbiAgICAgICAgICAgICAgICB2YXIgbWVudSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibmF2aWdhdGlvbl9tZW51XCIpO1xuICAgICAgICAgICAgICAgIG1lbnUuY2xhc3NOYW1lID0gXCJoaWRkZW5cIjtcbiAgICAgICAgICAgICAgICAkc2NvcGUuZ29Ub0NlbnRlcigkc2NvcGUuc2VsZWN0ZWRfY29udGFpbmVyLmxvbiwkc2NvcGUuc2VsZWN0ZWRfY29udGFpbmVyLmxhdCk7XG5cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGwgPSBuZXcgTC5MYXllckpTT04oe1xuICAgICAgICAgIHVybDogYmFzZVVSTCArIFwiL2RhdGF1eS9nZXRfY29udGFpbmVyc19qc29uL1wiICsgXCJ7YmJveH1cIixcbiAgICAgICAgICBsb2NBc0dlb0pTT046IHRydWUsXG4gICAgICAgICAgbWluU2hpZnQ6IDUsXG4gICAgICAgICAgLy91cGRhdGVPdXRCb3VuZHM6IGZhbHNlLFxuICAgICAgICAgIHByZWNpc2lvbjogMTAsXG4gICAgICAgICAgb25FYWNoRmVhdHVyZTogb25FYWNoRmVhdHVyZVxuICAgICAgICB9KTtcblxuXG4gICAgICBsZWFmbGV0RGF0YS5nZXRNYXAoKS50aGVuKGZ1bmN0aW9uKG1hcCkge1xuICAgICAgICBpZigkc2NvcGUuanNvbkxheWVyIT1udWxsKXtcbiAgICAgICAgICBtYXAucmVtb3ZlTGF5ZXIoJHNjb3BlLmpzb25MYXllcik7XG4gICAgICAgIH1cbiAgICAgICAgJHNjb3BlLmpzb25MYXllciA9IGw7XG4gICAgICAgIG1hcC5hZGRMYXllcihsKTtcbiAgICAgIH0pO1xuXG4gICAgICAkc2NvcGUubGFzdE1hcmtlckxheWVyID0gbnVsbDtcblxuXG4gICAgICBsLm9uKCdkYXRhbG9hZGVkJywgZnVuY3Rpb24oZSkgeyAvL3Nob3cgbG9hZGVkIGRhdGEhXG4gICAgICAgICRzY29wZS5yZXBvcnRzID0gZS5kYXRhLmZlYXR1cmVzO1xuICAgICAgfSk7XG5cblxuICAgICAgbC5vbignbGF5ZXJhZGQnLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIGUubGF5ZXIuZWFjaExheWVyKGZ1bmN0aW9uKF9sYXllcikge1xuICAgICAgICAgIHZhciBpY29uID0gXCIvaW1nL3Bpbi1jb250YWluZXIuc3ZnXCI7XG4gICAgICAgICAgaWYoX2xheWVyLmZlYXR1cmUucHJvcGVydGllcy5waW5fdXJsKXtcbiAgICAgICAgICAgIGljb24gPSBfbGF5ZXIuZmVhdHVyZS5wcm9wZXJ0aWVzLnBpbl91cmw7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBtYXJrZXJJY29uID0gTC5pY29uKHtcbiAgICAgICAgICAgIGljb25Vcmw6IGJhc2VVUkwgKyBpY29uLFxuICAgICAgICAgICAgaWNvblNpemU6IFsyOSwgMzRdLFxuICAgICAgICAgICAgaWNvbkFuY2hvcjogWzgsIDhdLFxuICAgICAgICAgICAgcG9wdXBBbmNob3I6IFswLCAtOF1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBfbGF5ZXIuc2V0SWNvbihtYXJrZXJJY29uKTtcbiAgICAgICAgICBpZiAoJHNjb3BlLmZlYXR1cmVSZXBvcnRzW19sYXllci5mZWF0dXJlLnByb3BlcnRpZXMuR0lEXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAkc2NvcGUuZmVhdHVyZVJlcG9ydHNbX2xheWVyLmZlYXR1cmUucHJvcGVydGllcy5HSURdID0gX2xheWVyO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICAkc2NvcGUuZ29Ub0NlbnRlciA9IGZ1bmN0aW9uKGxvbmdUbyxsYXRUbyl7XG4gICAgICB2YXIgcG9zT3B0aW9ucyA9IHt0aW1lb3V0OiA1MDAwLCBlbmFibGVIaWdoQWNjdXJhY3k6IHRydWV9O1xuICAgICAgICAkY29yZG92YUdlb2xvY2F0aW9uXG4gICAgICAgICAgLmdldEN1cnJlbnRQb3NpdGlvbihwb3NPcHRpb25zKVxuICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChwb3NpdGlvbikge1xuICAgICAgICAgICAgICAgIHZhciBsYXRGcm9tICA9IHBvc2l0aW9uLmNvb3Jkcy5sYXRpdHVkZTtcbiAgICAgICAgICAgICAgICB2YXIgbG9uZ0Zyb20gPSBwb3NpdGlvbi5jb29yZHMubG9uZ2l0dWRlO1xuICAgICAgICAgICAgICAgICRzY29wZS5nZXRSb2FkKGxhdEZyb20sbG9uZ0Zyb20sbGF0VG8sbG9uZ1RvKTtcbiAgICAgICAgICAgICAgICAvLyRzY29wZS5tYXAubWFya2Vycy5ub3cub3BlblBvcHVwKCk7XG4gICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgICAgIC8vTW92ZSBhIGxpdHRsZSB0aGUgbWFwIGNlbnRlciBiZWNhdXNlIHRoZSBtYXAgdmlldyBpcyBzbWFsbGVyIChyZXBvcnQgbGlzdCBpcyBkaXNwbGF5ZWQpXG4gICAgICAgICAgICAgICAgbGF0VG8gPSBsYXRUbyAtIDAuMDAwNjtcbiAgICAgICAgICAgICAgICBNYXBTZXJ2aWNlLmNlbnRlck1hcE9uQ29vcmRzKGxhdFRvLGxvbmdUbywxNyk7XG4gICAgICAgICAgICAgICAgLy9FcnJvclNlcnZpY2Uuc2hvd19lcnJvcl9tZXNzYWdlX3BvcHVwKFwiTm8gaGVtb3MgcG9kaWRvIGdlb2xvY2FsaXphcmxvLiDCv1RhbCB2ZXogb2x2aWTDsyBoYWJpbGl0YXIgbG9zIHNlcnZpY2lvcyBkZSBsb2NhbGl6YWNpw7NuIGVuIHN1IGRpc3Bvc2l0aXZvP1wiKVxuICAgICAgICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgJHNjb3BlLmxhc3RSb2FkID0gbnVsbDtcblxuICAgICRzY29wZS5uYXZfYmFjayA9IGZ1bmN0aW9uKCl7XG4gICAgICAkc2NvcGUuaGlkZV9zcGVjaWFsX2RpdnMoKTtcbiAgICAgIGlmKCRzY29wZS5sYXN0Um9hZCE9bnVsbCl7XG4gICAgICAgICRzY29wZS5sYXN0Um9hZC5zcGxpY2VXYXlwb2ludHMoMCwgMik7XG4gICAgICAgIGxlYWZsZXREYXRhLmdldE1hcCgpLnRoZW4oZnVuY3Rpb24obWFwKSB7XG4gICAgICAgICAgbWFwLnJlbW92ZUNvbnRyb2woJHNjb3BlLmxhc3RSb2FkKVxuICAgICAgICAgICRzY29wZS5sYXN0Um9hZD1udWxsO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAkc2NvcGUud2Fsa3Rocm91Z2ggPSBmdW5jdGlvbigpe1xuICAgICAgaWYoJHNjb3BlLndhbGt0aHJvdWdoX21vZGFsIT1udWxsKXtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdmFyIGRvbmVXYWxrdGhyb3VnaCA9IERCU2VydmljZS5nZXREb25lV2Fsa3Rocm91Z2goKTtcbiAgICAgIGRvbmVXYWxrdGhyb3VnaC50aGVuKGZ1bmN0aW9uIChkb2MpIHtcbiAgICAgICAgaWYoZG9jLnN0YXR1cyE9bnVsbCAmJiBkb2Muc3RhdHVzPT1cImRvbmVcIil7XG4gICAgICAgICAgLy9ZYSBsbyB2acOzIHVuYSB2ZXpcbiAgICAgICAgICAvLyRzY29wZS5vcGVuV2Fsa1Rocm91Z2hNb2RhbCgpO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAkc2NvcGUub3BlbldhbGtUaHJvdWdoTW9kYWwoKTtcbiAgICAgICAgfVxuICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgICAkc2NvcGUub3BlbldhbGtUaHJvdWdoTW9kYWwoKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgICRzY29wZS5vcGVuV2Fsa1Rocm91Z2hNb2RhbCA9IGZ1bmN0aW9uKCl7XG4gICAgICAkaW9uaWNNb2RhbC5mcm9tVGVtcGxhdGVVcmwoJ3RlbXBsYXRlcy93YWxrdGhyb3VnaC5odG1sJywge1xuICAgICAgICBzY29wZTogJHNjb3BlLFxuICAgICAgICBoYXJkd2FyZUJhY2tCdXR0b25DbG9zZTogZmFsc2UsXG4gICAgICAgIGFuaW1hdGlvbjogJ3NsaWRlLWluLXVwJyxcbiAgICAgICAgLy9mb2N1c0ZpcnN0SW5wdXQ6IHRydWVcbiAgICAgIH0pLnRoZW4oZnVuY3Rpb24obW9kYWwpIHtcbiAgICAgICAgICAkc2NvcGUud2Fsa3Rocm91Z2hfbW9kYWwgPSBtb2RhbDtcbiAgICAgICAgICAkc2NvcGUud2Fsa3Rocm91Z2hfbW9kYWwuc2hvdygpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgJHNjb3BlLmZpbmlzaFdhbGt0aHJvdWdoID0gZnVuY3Rpb24oKXtcbiAgICAgICRzY29wZS53YWxrdGhyb3VnaF9tb2RhbC5oaWRlKCk7XG4gICAgICAkc2NvcGUud2Fsa3Rocm91Z2hfbW9kYWwucmVtb3ZlKCk7XG4gICAgICBEQlNlcnZpY2Uuc2F2ZURvbmVXYWxrdGhyb3VnaCgpO1xuICAgIH1cblxuICAgICRzY29wZS5vcGVuTWFpbk1lbnUgPSBmdW5jdGlvbigpe1xuICAgICAgJGlvbmljTW9kYWwuZnJvbVRlbXBsYXRlVXJsKCd0ZW1wbGF0ZXMvbWFpbl9tZW51Lmh0bWwnLCB7XG4gICAgICAgIHNjb3BlOiAkc2NvcGUsXG4gICAgICAgIGhhcmR3YXJlQmFja0J1dHRvbkNsb3NlOiB0cnVlLFxuICAgICAgICBhbmltYXRpb246ICdzbGlkZS1pbi11cCcsXG4gICAgICAgIC8vZm9jdXNGaXJzdElucHV0OiB0cnVlXG4gICAgICB9KS50aGVuKGZ1bmN0aW9uKG1vZGFsKSB7XG4gICAgICAgICAgJHNjb3BlLm1haW5fbWVudV9tb2RhbCA9IG1vZGFsO1xuICAgICAgICAgICRzY29wZS5tYWluX21lbnVfbW9kYWwuc2hvdygpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgJHNjb3BlLmNsb3NlTWFpbk1lbnUgPSBmdW5jdGlvbigpe1xuICAgICAgJHNjb3BlLm1haW5fbWVudV9tb2RhbC5oaWRlKCk7XG4gICAgICAkc2NvcGUubWFpbl9tZW51X21vZGFsLnJlbW92ZSgpO1xuICAgIH1cblxuICAgICRzY29wZS5nZXRSb2FkID0gZnVuY3Rpb24oTGF0RnJvbSxMb25nRnJvbSxsYXRUbyxsb25nVG8pe1xuICAgICAgbGVhZmxldERhdGEuZ2V0TWFwKCkudGhlbihmdW5jdGlvbihtYXApIHtcbiAgICAgICAgbWFwLmNsb3NlUG9wdXAoKTtcbiAgICAgICAgdmFyIG1hcmtlckljb24gPSBMLmljb24oe1xuICAgICAgICAgIGljb25Vcmw6IFwiLi9pbWcvbWUuc3ZnXCIsXG4gICAgICAgICAgaWNvblNpemU6IFsyOSwgMzRdLFxuICAgICAgICAgIGljb25BbmNob3I6IFs4LCA4XSxcbiAgICAgICAgICBwb3B1cEFuY2hvcjogWzAsIC04XVxuICAgICAgICB9KTtcbiAgICAgICAgaWYoJHNjb3BlLm5vd19tYXJrZXIhPW51bGwpe1xuICAgICAgICAgIG1hcC5yZW1vdmVMYXllcigkc2NvcGUubm93X21hcmtlcik7XG4gICAgICAgIH1cbiAgICAgICAgJHNjb3BlLm5vd19tYXJrZXIgPSBMLm1hcmtlcihbTGF0RnJvbSwgTG9uZ0Zyb21dLCB7aWNvbjogbWFya2VySWNvbn0pLmFkZFRvKG1hcCk7XG4gICAgICAgIGlmKCRzY29wZS5sYXN0Um9hZCE9bnVsbCl7XG4gICAgICAgICAgJHNjb3BlLmxhc3RSb2FkLnNwbGljZVdheXBvaW50cygwLCAyKTtcbiAgICAgICAgICBtYXAucmVtb3ZlQ29udHJvbCgkc2NvcGUubGFzdFJvYWQpXG4gICAgICAgICAgJHNjb3BlLmxhc3RSb2FkPW51bGw7XG4gICAgICAgIH1cbiAgICAgICAgJHNjb3BlLmxhc3RSb2FkID0gTC5Sb3V0aW5nLmNvbnRyb2woe1xuICAgICAgICAgIHdheXBvaW50czogW1xuICAgICAgICAgICAgTC5sYXRMbmcoTGF0RnJvbSxMb25nRnJvbSksXG4gICAgICAgICAgICBMLmxhdExuZyhsYXRUbyxsb25nVG8pXG4gICAgICAgICAgXSxcbiAgICAgICAgICBsYW5ndWFnZTpcImVzXCIsXG4gICAgICAgICAgcm91dGVyOiBMLlJvdXRpbmcubWFwYm94KCdway5leUoxSWpvaWJHbDBiM2h3WlhKaGJHOWpZU0lzSW1FaU9pSmphak5oZEhVemJUTXdNVFF3TW5Gd2FHUmlkbWMyZW1aNUluMC5kRUQ0RDRfTEJqUmMtc0dhNXp0NVlnJyksXG4gICAgICAgICAgY3JlYXRlTWFya2VyOiBmdW5jdGlvbiAoaSwgc3RhcnQsIG4pe1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBsaW5lT3B0aW9uczoge1xuICAgICAgICAgICAgIHN0eWxlczogW3tjb2xvcjogJyM0YzRjNGMnLCBvcGFjaXR5OiAxLCB3ZWlnaHQ6IDV9XVxuICAgICAgICAgIH0sXG4gICAgICAgICAgZml0U2VsZWN0ZWRSb3V0ZXM6IGZhbHNlXG4gICAgICAgIH0pLmFkZFRvKG1hcCk7XG4gICAgICAgIC8vTW92ZSBhIGxpdHRsZSB0aGUgbWFwIGNlbnRlciBiZWNhdXNlIHRoZSBtYXAgdmlldyBpcyBzbWFsbGVyIChyZXBvcnQgbGlzdCBpcyBkaXNwbGF5ZWQpXG4gICAgICAgIGxhdFRvID0gbGF0VG8gLSAwLjAwMDg7XG4gICAgICAgIE1hcFNlcnZpY2UuY2VudGVyTWFwT25Db29yZHMobGF0VG8sbG9uZ1RvLDE3KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIFN1Z2dlc3Rpb25cbiAgICAkc2NvcGUubW9kZWwgPSBbXTtcbiAgICAkc2NvcGUuZXh0ZXJuYWxNb2RlbCA9IFtdO1xuICAgICRzY29wZS5zZWxlY3RlZEl0ZW1zID0gW107XG4gICAgJHNjb3BlLnByZXNlbGVjdGVkU2VhcmNoSXRlbXMgPSBbXTtcbiAgICAkc2NvcGUuY2xpY2tlZFZhbHVlTW9kZWwgPSBcIlwiO1xuICAgICRzY29wZS5yZW1vdmVkVmFsdWVNb2RlbCA9IFwiXCI7XG5cbiAgICAkc2NvcGUuaXRlbXNSZW1vdmVkID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICAgICRzY29wZS5yZW1vdmVkVmFsdWVNb2RlbCA9IGNhbGxiYWNrO1xuICAgIH07XG5cbiAgICAkc2NvcGUudXNlcl9vcHRpb25zID0gZnVuY3Rpb24oKXtcbiAgICAgIHZhciBtZW51ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ1c2VyLW9wdGlvbnMtbWVudVwiKTtcbiAgICAgIGlmKG1lbnUuc3R5bGUuZGlzcGxheT09XCJibG9ja1wiKXtcbiAgICAgICAgbWVudS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgdmFyIG5hbWUgPSBVc2VyU2VydmljZS5uYW1lO1xuICAgICAgICBpZihuYW1lPT1udWxsKXtcbiAgICAgICAgICAvL05vIGVzdGEgbG9ndWVhZG9cbiAgICAgICAgICAkc2NvcGUuc2hvd19hbm9ueW1vdXNfbWVudSgpO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAvL0VzdMOhIGxvZ3VlYWRvXG4gICAgICAgICAgJHNjb3BlLnNob3dfdXNlcl9tZW51KCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAkc2NvcGUuc2hvd19hbm9ueW1vdXNfbWVudSA9IGZ1bmN0aW9uKCl7XG4gICAgICB2YXIgbWVudSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidXNlci1vcHRpb25zLW1lbnVcIik7XG4gICAgICB2YXIgaHRtbCA9IFwiPGRpdiBpZD0nYXV0aF9vcHRpb25zJz48ZGl2IGNsYXNzPSdub25hdXRoLWxpbmsnIG5nLWNsaWNrPSdzaG93X2xvZ2luX21vZGFsKCknPkluaWNpYXIgc2VzacOzbjwvZGl2PlwiO1xuICAgICAgaHRtbCA9IGh0bWwgKyBcIjxkaXYgY2xhc3M9J25vbmF1dGgtbGluaycgbmctY2xpY2s9J3Nob3dfc2lnbl91cF9tb2RhbCgpJz5SZWdpc3RyYXJzZTwvZGl2PjwvZGl2PlwiO1xuICAgICAgbWVudS5pbm5lckhUTUwgPSBodG1sO1xuICAgICAgJGNvbXBpbGUobWVudSkoJHNjb3BlKTsgLy88LS0tLSByZWNvbXBpbGF0aW9uXG4gICAgICBtZW51LnN0eWxlLmhlaWdodCA9ICcxMjBweCc7XG4gICAgICBtZW51LnN0eWxlLndpZHRoID0gJzE1MHB4JztcbiAgICAgIG1lbnUuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICB9XG5cbiAgICAkc2NvcGUuc2hvd191c2VyX21lbnUgPSBmdW5jdGlvbigpe1xuICAgICAgdmFyIG1lbnUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInVzZXItb3B0aW9ucy1tZW51XCIpO1xuICAgICAgdmFyIGh0bWwgPSBVc2VyU2VydmljZS5uYW1lICsgXCI8ZGl2IGlkPSdhdXRoX29wdGlvbnMnPjxkaXYgY2xhc3M9J3VzZXItbG9nZ2VkLWxpbmsnIG5nLWNsaWNrPSdzaG93X2VkaXRfcHJvZmlsZV9tb2RhbCgpJz5NaSBwZXJmaWw8L2Rpdj5cIjtcbiAgICAgIGh0bWwgPSBodG1sICsgXCI8ZGl2IGNsYXNzPSd1c2VyLWxvZ2dlZC1saW5rJyBuZy1jbGljaz0nbGlzdF9vZmZsaW5lX3JlcG9ydHNfbWVudSgpJz5SZXBvcnRlcyBwZW5kaWVudGVzPC9kaXY+XCI7XG4gICAgICBodG1sID0gaHRtbCArIFwiPGRpdiBjbGFzcz0ndXNlci1sb2dnZWQtbGluaycgbmctY2xpY2s9J3NpZ25fb3V0KCknPkNlcnJhciBzZXNpw7NuPC9kaXY+PC9kaXY+XCI7XG4gICAgICBtZW51LmlubmVySFRNTCA9IGh0bWw7XG4gICAgICAkY29tcGlsZShtZW51KSgkc2NvcGUpOyAvLzwtLS0tIHJlY29tcGlsYXRpb25cbiAgICAgIG1lbnUuc3R5bGUuaGVpZ2h0ID0gJzE2MHB4JztcbiAgICAgIG1lbnUuc3R5bGUud2lkdGggPSAnMjAwcHgnO1xuICAgICAgbWVudS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgIH07XG5cbiAgICAkc2NvcGUuY3JlYXRlX2ZpZWxkX2FycmF5ID0gZnVuY3Rpb24obmFtZSx0eXBlLHZhbHVlKXtcbiAgICAgIHZhciBmaWVsZCA9IG5ldyBBcnJheSgpO1xuICAgICAgZmllbGQubmFtZSA9IG5hbWU7XG4gICAgICBmaWVsZC50eXBlID0gdHlwZTtcbiAgICAgIGZpZWxkLnZhbHVlID0gdmFsdWU7XG4gICAgICByZXR1cm4gZmllbGQ7XG4gICAgfTtcblxuICAgICRzY29wZS5zaWduX2luID0gZnVuY3Rpb24oZW1haWwsIHBhc3N3b3JkKXtcbiAgICAgIGlmKENvbm5lY3Rpdml0eVNlcnZpY2UuaXNPbmxpbmUoKSl7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lci1pbnNpZGUtbW9kYWxcIikuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgdmFyIGZpZWxkcyA9IG5ldyBBcnJheSgpO1xuICAgICAgICBmaWVsZHMucHVzaCgkc2NvcGUuY3JlYXRlX2ZpZWxkX2FycmF5KFwiRW1haWxcIixcImVtYWlsXCIsZW1haWwpKTtcbiAgICAgICAgZmllbGRzLnB1c2goJHNjb3BlLmNyZWF0ZV9maWVsZF9hcnJheShcIkNvbnRyYXNlw7FhXCIsXCJub3ROdWxsXCIscGFzc3dvcmQpKTtcbiAgICAgICAgaWYoRXJyb3JTZXJ2aWNlLmNoZWNrX2ZpZWxkcyhmaWVsZHMsXCJlcnJvcl9jb250YWluZXJcIikpe1xuICAgICAgICAgIEF1dGhTZXJ2aWNlLnNpZ25faW4ocGFzc3dvcmQsIGVtYWlsKS50aGVuKGZ1bmN0aW9uKHJlc3ApIHtcbiAgICAgICAgICAgIGlmKEVycm9yU2VydmljZS5odHRwX3Jlc3BvbnNlX2lzX3N1Y2Nlc3NmdWwocmVzcCxcImVycm9yX2NvbnRhaW5lclwiKSl7XG4gICAgICAgICAgICAgIFVzZXJTZXJ2aWNlLnNhdmVfdXNlcl9kYXRhKHJlc3AuZGF0YS5uYW1lLCBlbWFpbCwgcGFzc3dvcmQsIHJlc3AuZGF0YS5pZGVudGl0eV9kb2N1bWVudCwgcmVzcC5kYXRhLnBob25lLCByZXNwLmRhdGEucGljdHVyZV91cmwpO1xuICAgICAgICAgICAgICBEQlNlcnZpY2Uuc2F2ZVVzZXIocmVzcC5kYXRhLm5hbWUsZW1haWwscGFzc3dvcmQscmVzcC5kYXRhLmlkZW50aXR5X2RvY3VtZW50LHJlc3AuZGF0YS5waG9uZSxyZXNwLmRhdGEucGljdHVyZV91cmwpO1xuICAgICAgICAgICAgICAvLyRzY29wZS5zZXRfdXNlcl9waWN0dXJlKDEpO1xuICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXItaW5zaWRlLW1vZGFsXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgJHNjb3BlLmNsb3NlX2xvZ2luX21vZGFsKCk7XG4gICAgICAgICAgICAgIC8vJHNjb3BlLmNoZWNrX3VzZXJfbG9nZ2VkKCk7XG4gICAgICAgICAgICAgICRzY29wZS5zZXRfdXNlcl9waWN0dXJlKDEpO1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lci1pbnNpZGUtbW9kYWxcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sIGZ1bmN0aW9uKHJlc3ApIHtcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgIC8vYWxlcnQoXCJFcnJvciBlbiBzaWduX2luXCIpO1xuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyLWluc2lkZS1tb2RhbFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICBFcnJvclNlcnZpY2Uuc2hvd19lcnJvcl9tZXNzYWdlKFwiZXJyb3JfY29udGFpbmVyXCIscmVzcC5zdGF0dXNUZXh0KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyLWluc2lkZS1tb2RhbFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgIH1cblxuICAgICAgfWVsc2V7XG4gICAgICAgIFBvcFVwU2VydmljZS5zaG93X2FsZXJ0KFwiU2luIGNvbmV4acOzbiBhIGludGVybmV0XCIsXCJQYXJhIGluaWNpYXIgc2VzacOzbiBkZWJlIGVzdGFyIGNvbmVjdGFkbyBhIGludGVybmV0XCIpO1xuICAgICAgfVxuICAgIH1cblxuICAgICRzY29wZS5zaWduX2luX2FqYXggPSBmdW5jdGlvbihlbWFpbCwgcGFzc3dvcmQpe1xuICAgICAgQXV0aFNlcnZpY2Uuc2lnbl9pbihwYXNzd29yZCwgZW1haWwpLnRoZW4oZnVuY3Rpb24ocmVzcCkge1xuICAgICAgICBpZihFcnJvclNlcnZpY2UuaHR0cF9yZXNwb25zZV9pc19zdWNjZXNzZnVsX2FqYXgocmVzcCkpe1xuICAgICAgICAgIFVzZXJTZXJ2aWNlLnNhdmVfdXNlcl9kYXRhKHJlc3AuZGF0YS5uYW1lLCBlbWFpbCwgcGFzc3dvcmQsIHJlc3AuZGF0YS5pZGVudGl0eV9kb2N1bWVudCwgcmVzcC5kYXRhLnBob25lLCByZXNwLmRhdGEucGljdHVyZV91cmwpO1xuICAgICAgICAgIERCU2VydmljZS5zYXZlVXNlcihyZXNwLmRhdGEubmFtZSxlbWFpbCxwYXNzd29yZCxyZXNwLmRhdGEuaWRlbnRpdHlfZG9jdW1lbnQscmVzcC5kYXRhLnBob25lLHJlc3AuZGF0YS5waWN0dXJlX3VybCk7XG4gICAgICAgICAgJHNjb3BlLnNldF91c2VyX3BpY3R1cmUoMSk7XG4gICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG5cbiAgICAgIH0sIGZ1bmN0aW9uKHJlc3ApIHtcbiAgICAgICAgLy9jb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAvL0Vycm9yU2VydmljZS5zaG93X2Vycm9yX21lc3NhZ2VfcG9wdXAocmVzcC5zdGF0dXNUZXh0KTtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAkc2NvcGUuc2lnbl9vdXQgPSBmdW5jdGlvbigpe1xuICAgICAgVXNlclNlcnZpY2UuZXJhc2VfdXNlcl9kYXRhKCk7XG4gICAgICBEQlNlcnZpY2UuZXJhc2VVc2VyKCk7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXJcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgJHNjb3BlLnNldF91c2VyX3BpY3R1cmUoMCk7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInVzZXItb3B0aW9ucy1tZW51XCIpLnN0eWxlLmRpc3BsYXk9XCJub25lXCI7XG4gICAgfVxuXG5cbiAgICAkc2NvcGUuY2hlY2tfdXNlcl9sb2dnZWQgPSBmdW5jdGlvbigpe1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgICRzY29wZS5zZXRfb2ZmbGluZV91c2VyID0gZnVuY3Rpb24oKXtcbiAgICB9XG5cblxuXG4gICAgJHNjb3BlLnNldF91c2VyX3BpY3R1cmUgPSBmdW5jdGlvbihoYXNQaG90byl7XG4gICAgfVxuXG4gICAgJHNjb3BlLnNlYXJjaF9zdHJlZXQgPSBmdW5jdGlvbigpe1xuICAgICAgJHNjb3BlLmhpZGVfc3BlY2lhbF9kaXZzKCk7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNlYXJjaC10ZXh0Ym94XCIpLnBhcmVudE5vZGUuY2xpY2soKTtcbiAgICB9XG5cbiAgICAkc2NvcGUuZmluZF9tZSA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICRzY29wZS5zZXRfYWN0aXZlX29wdGlvbihcImJ1dHRvbi1maW5kLW1lXCIpO1xuICAgICAgICAkc2NvcGUuaGlkZV9zcGVjaWFsX2RpdnMoKTtcbiAgICAgICAgdmFyIHBvc09wdGlvbnMgPSB7dGltZW91dDogMTAwMDAsIGVuYWJsZUhpZ2hBY2N1cmFjeTogdHJ1ZX07XG4gICAgICAgICRjb3Jkb3ZhR2VvbG9jYXRpb25cbiAgICAgICAgICAuZ2V0Q3VycmVudFBvc2l0aW9uKHBvc09wdGlvbnMpXG4gICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHBvc2l0aW9uKSB7XG4gICAgICAgICAgICAgICAgLyokc2NvcGUubWFwLmNlbnRlci5sYXQgID0gcG9zaXRpb24uY29vcmRzLmxhdGl0dWRlO1xuICAgICAgICAgICAgICAgICRzY29wZS5tYXAuY2VudGVyLmxuZyA9IHBvc2l0aW9uLmNvb3Jkcy5sb25naXR1ZGU7XG4gICAgICAgICAgICAgICAgTG9jYXRpb25zU2VydmljZS5zYXZlX25ld19yZXBvcnRfcG9zaXRpb24ocG9zaXRpb24uY29vcmRzLmxhdGl0dWRlLHBvc2l0aW9uLmNvb3Jkcy5sb25naXR1ZGUpOyovXG4gICAgICAgICAgICAgICAgdmFyIHpvb20gPSAxODtcbiAgICAgICAgICAgICAgICBpZighQ29ubmVjdGl2aXR5U2VydmljZS5pc09ubGluZSgpKXtcbiAgICAgICAgICAgICAgICAgIHpvb20gPSAxNjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIG1hcmtlckljb24gPSBMLmljb24oe1xuICAgICAgICAgICAgICAgICAgaWNvblVybDogXCIuL2ltZy9tZS5zdmdcIixcbiAgICAgICAgICAgICAgICAgIGljb25TaXplOiBbMjksIDM0XSxcbiAgICAgICAgICAgICAgICAgIGljb25BbmNob3I6IFs4LCA4XSxcbiAgICAgICAgICAgICAgICAgIHBvcHVwQW5jaG9yOiBbMCwgLThdXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBsZWFmbGV0RGF0YS5nZXRNYXAoKS50aGVuKGZ1bmN0aW9uKG1hcCkge1xuICAgICAgICAgICAgICAgICAgaWYoJHNjb3BlLm5vd19tYXJrZXIhPW51bGwpe1xuICAgICAgICAgICAgICAgICAgICBtYXAucmVtb3ZlTGF5ZXIoJHNjb3BlLm5vd19tYXJrZXIpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgJHNjb3BlLm5vd19tYXJrZXIgPSBMLm1hcmtlcihbcG9zaXRpb24uY29vcmRzLmxhdGl0dWRlLCBwb3NpdGlvbi5jb29yZHMubG9uZ2l0dWRlXSwge2ljb246IG1hcmtlckljb259KS5hZGRUbyhtYXApO1xuICAgICAgICAgICAgICAgICAgTWFwU2VydmljZS5jZW50ZXJNYXBPbkNvb3Jkcyhwb3NpdGlvbi5jb29yZHMubGF0aXR1ZGUscG9zaXRpb24uY29vcmRzLmxvbmdpdHVkZSx6b29tKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICAgICAgLy9FcnJvclNlcnZpY2Uuc2hvd19lcnJvcl9tZXNzYWdlX3BvcHVwKFwiTm8gaGVtb3MgcG9kaWRvIGdlb2xvY2FsaXphcmxvLiDCv1RhbCB2ZXogb2x2aWTDsyBoYWJpbGl0YXIgbG9zIHNlcnZpY2lvcyBkZSBsb2NhbGl6YWNpw7NuIGVuIHN1IGRpc3Bvc2l0aXZvP1wiKVxuICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgIH07XG5cbiAgICAgIHZhciBMb2NhdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoICEodGhpcyBpbnN0YW5jZW9mIExvY2F0aW9uKSApIHJldHVybiBuZXcgTG9jYXRpb24oKTtcbiAgICAgICAgdGhpcy5sYXQgID0gXCJcIjtcbiAgICAgICAgdGhpcy5sbmcgID0gXCJcIjtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJcIjtcbiAgICAgIH07XG5cbiAgfVxuXSk7XG4iLCJwbWJfaW0uY29udHJvbGxlcnMuY29udHJvbGxlcignUE1CQ3RybCcsXG5bJyRzY29wZScsXG4nJHN0YXRlJyxcbidsZWFmbGV0RGF0YScsXG4nUE1CU2VydmljZScsXG4nQ29udGFpbmVyU2VydmljZScsXG4nbG9jYXRpb25BUEknLFxuJ01hcFNlcnZpY2UnLFxuJ18nLFxuJ0xvYWRlcicsXG4nTG9jYXRpb25zU2VydmljZScsXG5mdW5jdGlvbigkc2NvcGUsXG4gICRzdGF0ZSxcbiAgbGVhZmxldERhdGEsXG4gIFBNQlNlcnZpY2UsXG4gIENvbnRhaW5lclNlcnZpY2UsXG4gIGxvY2F0aW9uQVBJLFxuICBNYXBTZXJ2aWNlLFxuICBfLFxuICBMb2FkZXIsXG4gIExvY2F0aW9uc1NlcnZpY2UpIHtcbiAgJHNjb3BlLnJlcG9ydEJ1dHRvbiA9IHtcbiAgICB0ZXh0OiBcIlJlcG9ydGFyXCIsXG4gICAgc3RhdGU6IFwidW5Db25maXJtZWRcIlxuICB9O1xuXG4gIC8vJHNjb3BlLiRvbignJGlvbmljVmlldy5hZnRlckVudGVyJywgZnVuY3Rpb24oKXsgLy9UaGlzIGlzIGZpcmVkIHR3aWNlIGluIGEgcm93XG4gICRzY29wZS4kb24oXCIkaW9uaWNWaWV3LmFmdGVyRW50ZXJcIiwgZnVuY3Rpb24oKSB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICB2YXIgbWFwID0gbGVhZmxldERhdGEuZ2V0TWFwKCk7XG4gICAgaWYoTG9jYXRpb25zU2VydmljZS5pbml0aWFsX2xhdCE9XCJcIil7XG4gICAgICBNYXBTZXJ2aWNlLmNlbnRlck1hcE9uQ29vcmRzKExvY2F0aW9uc1NlcnZpY2UuaW5pdGlhbF9sYXQsIExvY2F0aW9uc1NlcnZpY2UuaW5pdGlhbF9sbmcsIDE4KTtcbiAgICB9ZWxzZXtcbiAgICAgIE1hcFNlcnZpY2UuY2VudGVyTWFwT25Db29yZHMoLTM0LjkwMTExMywgLTU2LjE2NDUzMSwgMTQpO1xuICAgIH1cbiAgfSk7XG5cblxuICAvKiovXG5cbiAgJHNjb3BlLnNlYXJjaE1vZGUgPSBcImNhbGxlLmx1Z2FyXCI7XG4gICRzY29wZS5sb2NhdGlvbiA9e2NhbGxlOm51bGwsZXNxdWluYTpudWxsLGx1Z2FyOm51bGx9O1xuXG5cbiAgLy9BdXRvIGNvbXBsZXRlXG5cblxuICB2YXIgbG9jYXRpb25HZW9tUGFyYW1zID17dGlwbzpudWxsLHBhdGhQYXJhbXM6W119O1xuICAkc2NvcGUuJG9uKFwiJHN0YXRlQ2hhbmdlU3VjY2Vzc1wiLCBmdW5jdGlvbigpIHtcbiAgICAkc2NvcGUuaW9uQXV0b2NvbXBsZXRlRWxlbWVudCA9IGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiaW9uLWF1dG9jb21wbGV0ZVwiKSk7XG4gICAgLy9jb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeSgkc2NvcGUuaW9uQXV0b2NvbXBsZXRlRWxlbWVudCkpO1xuICAgICRzY29wZS5pb25BdXRvY29tcGxldGVFbGVtZW50LmJpbmQoJ3RvdWNoZW5kIGNsaWNrIGZvY3VzJywgJHNjb3BlLm9uQ2xpY2spO1xuICB9KTtcblxuXG4gICRzY29wZS5pbml0UmVwb3J0ID0gZnVuY3Rpb24oKSB7XG5cbiAgICB2YXIgX3BpbiwgX3Bpbkljb24gPSBMLmljb24oe1xuICAgICAgaWNvblVybDogJ2ltZy9waW5AeDIucG5nJyxcbiAgICAgIGljb25TaXplOiBbNzAsIDExMF0sIC8vIHNpemUgb2YgdGhlIGljb25cbiAgICAgIGljb25BbmNob3I6IFstMTgsIDU1XSwgLy8gcG9pbnQgb2YgdGhlIGljb24gd2hpY2ggd2lsbCBjb3JyZXNwb25kIHRvIG1hcmtlcidzIGxvY2F0aW9uXG4gICAgfSk7XG5cbiAgICBpZiAoJHNjb3BlLnJlcG9ydEJ1dHRvbi5zdGF0ZSA9PSBcInVuQ29uZmlybWVkXCIpIHtcblxuICAgICAgJHNjb3BlLnJlcG9ydEJ1dHRvbi50ZXh0ID0gXCJDb25maXJtYXJcIjtcbiAgICAgICRzY29wZS5yZXBvcnRCdXR0b24uc3RhdGUgPSBcImFib3V0MkNvbmZpcm1cIjtcblxuXG4gICAgICBsZWFmbGV0RGF0YS5nZXRNYXAoKS50aGVuKGZ1bmN0aW9uKG1hcCkge1xuICAgICAgICBfcGluID0gbmV3IEwubWFya2VyKG1hcC5nZXRDZW50ZXIoKSwge1xuICAgICAgICAgIGljb246IF9waW5JY29uLFxuICAgICAgICAgIGNsaWNrYWJsZTogZmFsc2VcbiAgICAgICAgfSkuYWRkVG8obWFwKTtcblxuICAgICAgICBSZXBvcnRTZXJ2aWNlLl9uZXcoKTtcbiAgICAgICAgUmVwb3J0U2VydmljZS5jdXJyZW50LnNldExhdExuZyhtYXAuZ2V0Q2VudGVyKCkpO1xuICAgICAgICAvL2NvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KCRzY29wZS5jdXJyZW50UmVwb3J0KSk7XG5cbiAgICAgICAgJHNjb3BlLmlvbkF1dG9jb21wbGV0ZUVsZW1lbnQgPSBhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImlvbi1hdXRvY29tcGxldGVcIikpO1xuICAgICAgICAkc2NvcGUuaW9uQXV0b2NvbXBsZXRlRWxlbWVudC5iaW5kKCd0b3VjaGVuZCBjbGljayBmb2N1cycsICRzY29wZS5vbkNsaWNrKTtcblxuXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy9jb25zb2xlLmxvZyhcImN1cnJlbnRSZXBvcnQgPVwiICsgSlNPTi5zdHJpbmdpZnkoJHNjb3BlLmN1cnJlbnRSZXBvcnQpKTtcbiAgICB9XG5cbiAgfTtcblxuICAkc2NvcGUuaXNOdW1lcmljID0gZnVuY3Rpb24obikge1xuICAgIHJldHVybiAhaXNOYU4ocGFyc2VGbG9hdChuKSkgJiYgaXNGaW5pdGUobik7XG4gIH07XG5cbiAgJHNjb3BlLnNlYXJjaExvY2F0aW9uID0gZnVuY3Rpb24ocXVlcnkpIHtcbiAgICB2YXIgcHJvbWlzZVNlYXJjaDtcbiAgICBpZiAocXVlcnkgJiYgcXVlcnkubGVuZ3RoPj0yKSB7XG5cblxuICAgICAgaWYgKCRzY29wZS5zZWFyY2hNb2RlID09IFwiY2FsbGUubHVnYXJcIikge1xuICAgICAgICBwcm9taXNlU2VhcmNoID0gbG9jYXRpb25BUEkuc2VhcmNoTG9jYXRpb25CeVN0cihxdWVyeSk7XG5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vY29uc29sZS5sb2coXCJidXNjYW5kbyBjYWxsZS9cIiskc2NvcGUuc2VsZWN0ZWRJdGVtLmNvZGlnbytcImVzcXVpbmEgPSBcIiArIHF1ZXJ5KTtcbiAgICAgICAgaWYoJHNjb3BlLmlzTnVtZXJpYyhxdWVyeS50cmltKCkpKXtcbiAgICAgICAgICB2YXIgaXRlbXMgPSBbXTtcbiAgICAgICAgICB2YXIgaXRlbSA9IHtcImRlc2NUaXBvXCI6XCJOVU1FUk9cIixcIm5vbWJyZVwiOnF1ZXJ5LFwiY29kaWdvXCI6cXVlcnl9O1xuICAgICAgICAgIGl0ZW1zWzBdID0gaXRlbTtcbiAgICAgICAgICByZXR1cm4gaXRlbXM7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIHByb21pc2VTZWFyY2ggPSBsb2NhdGlvbkFQSS5zZWFyY2hFc3F1aW5hQnlTdHIoe1xuICAgICAgICAgICAgY2FsbGU6ICRzY29wZS5zZWxlY3RlZEl0ZW0uY29kaWdvLFxuICAgICAgICAgICAgZXNxdWluYTogcXVlcnlcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHByb21pc2VTZWFyY2g7XG4gICAgfWVsc2V7XG4gICAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgfTtcblxuICAkc2NvcGUub25DbGljayA9IGZ1bmN0aW9uKCkge1xuXG4gICAgJHNjb3BlLmlvbkF1dG9jb21wbGV0ZUVsZW1lbnQuY29udHJvbGxlcignaW9uQXV0b2NvbXBsZXRlJykuc2hvd01vZGFsKCk7XG5cbiAgfTtcblxuICAkc2NvcGUuaXRlbXNDbGlja2VkID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcblxuICAgICRzY29wZS5jbGlja2VkVmFsdWVNb2RlbCA9IGNhbGxiYWNrO1xuICAgIC8vJHNjb3BlLnNlbGVjdGVkSXRlbSA9IGNhbGxiYWNrLnNlbGVjdGVkSXRlbXNbMF07XG4gICAgJHNjb3BlLnNlbGVjdGVkSXRlbSA9IGNhbGxiYWNrLml0ZW07XG4gICAgJHNjb3BlLmlvbkF1dG9jb21wbGV0ZUVsZW1lbnRTZWFyY2ggPSBhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImlvbi1hdXRvY29tcGxldGUtc2VhcmNoXCIpKTtcbiAgICBpZiAoJHNjb3BlLnNlYXJjaE1vZGUgPT0gXCJlc3F1aW5hLm51bWVyb1wiKSB7XG4gICAgICBsb2NhdGlvbkdlb21QYXJhbXMucGF0aFBhcmFtcyA9IFtdO1xuICAgICAgJHNjb3BlLmxvY2F0aW9uLmVzcXVpbmE9ICRzY29wZS5zZWxlY3RlZEl0ZW07XG4gICAgICBsb2NhdGlvbkdlb21QYXJhbXMucGF0aFBhcmFtcy5wdXNoKCRzY29wZS5sb2NhdGlvbi5jYWxsZS5jb2RpZ28pO1xuICAgICAgbG9jYXRpb25HZW9tUGFyYW1zLnBhdGhQYXJhbXMucHVzaCgkc2NvcGUubG9jYXRpb24uZXNxdWluYS5jb2RpZ28pO1xuICAgICAgdmFyIHN0cl90aXBvID0gXCJcIjtcbiAgICAgIGlmKCRzY29wZS5pc051bWVyaWMoJHNjb3BlLnNlbGVjdGVkSXRlbS5ub21icmUpKXtcbiAgICAgICAgLy9TZWxlY2Npb27DsyB1biBuw7ptZXJvIGRlIHB1ZXJ0YVxuICAgICAgICBsb2NhdGlvbkdlb21QYXJhbXMudGlwbz1cIkRJUkVDQ0lPTlwiO1xuICAgICAgfWVsc2V7XG4gICAgICAgIC8vc2VsZWNjaW9ubyB1bmEgZXNxdWluYVxuICAgICAgICBsb2NhdGlvbkdlb21QYXJhbXMudGlwbz1cIkVTUVVJTkFcIjsvLyRzY29wZS5zZWxlY3RlZEl0ZW0uZGVzY1RpcG87XG4gICAgICAgIHN0cl90aXBvID0gXCJlc3F1aW5hXCI7XG4gICAgICB9XG4gICAgICBsb2NhdGlvbkFQSS5nZXRMb2NhdGlvbkdlb20obG9jYXRpb25HZW9tUGFyYW1zKS50aGVuKGZ1bmN0aW9uKHJlc3VsdCl7XG4gICAgICAgIC8vY29uc29sZS5sb2cocmVzdWx0Lmdlb0pTT04pO1xuICAgICAgICBNYXBTZXJ2aWNlLmdvVG9QbGFjZShhbmd1bGFyLmV4dGVuZCh7bm9tYnJlOiAkc2NvcGUubG9jYXRpb24uY2FsbGUubm9tYnJlICsgXCIgXCIgKyBzdHJfdGlwbyArIFwiIFwiICsgJHNjb3BlLnNlbGVjdGVkSXRlbS5ub21icmUsIGdlb206IHJlc3VsdC5nZW9KU09OfSxyZXN1bHQpLCRzY29wZSk7XG4gICAgICAgICRzY29wZS5zZWFyY2hNb2RlID0gXCJjYWxsZS5sdWdhclwiO1xuICAgICAgICAkc2NvcGUuaW9uQXV0b2NvbXBsZXRlRWxlbWVudFNlYXJjaC5hdHRyKFwicGxhY2Vob2xkZXJcIiwgXCJCdXNjYXIgY2FsbGVcIik7XG4gICAgICAgICRzY29wZS5leHRlcm5hbE1vZGVsID0gW107XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgJHNjb3BlLmxvY2F0aW9uLmNhbGxlPSAkc2NvcGUuc2VsZWN0ZWRJdGVtO1xuICAgICAgJHNjb3BlLnNlYXJjaE1vZGUgPSBcImVzcXVpbmEubnVtZXJvXCI7XG4gICAgICAkc2NvcGUuaW9uQXV0b2NvbXBsZXRlRWxlbWVudFNlYXJjaC5hdHRyKFwicGxhY2Vob2xkZXJcIiwgXCJFc3F1aW5hIG8gbsO6bWVyb1wiKTtcbiAgICAgICRzY29wZS5pb25BdXRvY29tcGxldGVFbGVtZW50LmNvbnRyb2xsZXIoJ2lvbkF1dG9jb21wbGV0ZScpLnNob3dNb2RhbCgpO1xuICAgICAgJHNjb3BlLnByZXNlbGVjdGVkU2VhcmNoSXRlbXMgPSBbXTtcbiAgICB9XG5cbiAgfTtcblxuICAkc2NvcGUuaXRlbXNDYW5jZWxlZD0gZnVuY3Rpb24oX2l0ZW0pe1xuICAgIHZhciBudW1QdWVydGEgPSBwYXJzZUludChfaXRlbS5zZWFyY2hRdWVyeSk7XG4gICAgaWYoTnVtYmVyLmlzSW50ZWdlcihudW1QdWVydGEpKXtcbiAgICAgIC8vY29uc29sZS5sb2coXCJJUyBudW1iZXJcIik7XG4gICAgICBsb2NhdGlvbkdlb21QYXJhbXMudGlwbz1cIkRJUkVDQ0lPTlwiOy8vJHNjb3BlLnNlbGVjdGVkSXRlbS5kZXNjVGlwbztcbiAgICAgIGxvY2F0aW9uR2VvbVBhcmFtcy5wYXRoUGFyYW1zLnB1c2goJHNjb3BlLmxvY2F0aW9uLmNhbGxlLmNvZGlnbyk7XG4gICAgICBsb2NhdGlvbkdlb21QYXJhbXMucGF0aFBhcmFtcy5wdXNoKG51bVB1ZXJ0YSk7XG4gICAgICBsb2NhdGlvbkFQSS5nZXRMb2NhdGlvbkdlb20obG9jYXRpb25HZW9tUGFyYW1zKS50aGVuKGZ1bmN0aW9uKHJlc3VsdCl7XG4gICAgICBNYXBTZXJ2aWNlLmdvVG9QbGFjZShhbmd1bGFyLmV4dGVuZCh7bm9tYnJlOiRzY29wZS5zZWxlY3RlZEl0ZW0ubm9tYnJlICsgXCIgXCIgKyBudW1QdWVydGEgfSxyZXN1bHQpLCRzY29wZSk7XG4gICAgICAkc2NvcGUuc2VhcmNoTW9kZSA9IFwiY2FsbGUubHVnYXJcIjtcblxuICAgIH0sZnVuY3Rpb24oZXJyb3Ipe1xuICAgICAgLy9jb25zb2xlLmxvZyhcIkVycm9yIG9idGVuaWVuZG8gbGEgZGlyZWNjaW9uIFwiKyBKU09OLnN0cmluZ2lmeShlcnJvcikpO1xuICAgICAgTG9hZGVyLnNob3dBbGVydChcIkVycm9yXCIsXCJObyBleGlzdGUgZXNhIGRpcmVjY2lvblwiKS50aGVuKGZ1bmN0aW9uKHJlcyl7XG4gICAgICAgICAgJHNjb3BlLmlvbkF1dG9jb21wbGV0ZUVsZW1lbnQuY29udHJvbGxlcignaW9uQXV0b2NvbXBsZXRlJykuc2hvd01vZGFsKCk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgfTtcbn1dKTtcbiIsInBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdBdXRoU2VydmljZScsIFsnJGh0dHAnLCAnJGNvcmRvdmFGaWxlVHJhbnNmZXInLCAnQ29uZmlnU2VydmljZScsIGZ1bmN0aW9uKCRodHRwLCAkY29yZG92YUZpbGVUcmFuc2ZlciwgQ29uZmlnU2VydmljZSkge1xuXG4gIHZhciBiYXNlVVJMID0gQ29uZmlnU2VydmljZS5iYXNlVVJMICsgXCIvYXV0aC9hamF4L1wiO1xuXG4gIHJldHVybiB7XG4gICAgc2lnbl9pbjogZnVuY3Rpb24gKHBhc3N3b3JkLCBlbWFpbCkge1xuICAgICAgcmV0dXJuICRodHRwLmdldChiYXNlVVJMICsgXCJzaWduX2luXCIsIHsgcGFyYW1zOiB7IHBhc3N3b3JkX3NpZ25faW46IHBhc3N3b3JkLCBlbWFpbDogZW1haWwgfSB9KTtcbiAgICB9LFxuXG4gICAgc2lnbl9vdXQ6IGZ1bmN0aW9uIChwYXNzd29yZCwgZW1haWwpIHtcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoYmFzZVVSTCArIFwic2lnbl9vdXRcIiwgeyBwYXJhbXM6IHsgcGFzc3dvcmRfc2lnbl9pbjogcGFzc3dvcmQsIGVtYWlsOiBlbWFpbCB9IH0pO1xuICAgIH0sXG5cbiAgICBjcmVhdGVfdXNlcjogZnVuY3Rpb24gKGVtYWlsLGZ1bGxuYW1lLHBhc3N3b3JkLCBpZF9kb2MsIHVzZXJfcGhvbmUpIHtcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoYmFzZVVSTCArIFwiY3JlYXRlX3VzZXJcIiwgeyBwYXJhbXM6IHsgZm9ybV9lbWFpbDogZW1haWwsIG5hbWU6IGZ1bGxuYW1lLCBwYXNzd29yZF9yZWdpc3RlcjogcGFzc3dvcmQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZGVudGl0eV9kb2N1bWVudDogaWRfZG9jLCBwaG9uZTogdXNlcl9waG9uZSB9IH0pO1xuICAgIH0sXG5cbiAgICBjaGFuZ2VfcGFzc3dvcmQ6IGZ1bmN0aW9uIChlbWFpbCxmdWxsbmFtZSxwYXNzd29yZCwgaWRfZG9jLCB1c2VyX3Bob25lKSB7XG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KGJhc2VVUkwgKyBcImNyZWF0ZV91c2VyXCIsIHsgcGFyYW1zOiB7IGxvZ2luX2VtYWlsOiBlbWFpbCwgbmFtZTogZnVsbG5hbWUsIHBhc3N3b3JkX3JlZ2lzdGVyOiBwYXNzd29yZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkZW50aXR5X2RvY3VtZW50OiBpZF9kb2MsIHBob25lOiB1c2VyX3Bob25lIH0gfSk7XG4gICAgfSxcblxuICAgIGVkaXRfdXNlcjogZnVuY3Rpb24gKGVtYWlsLHBhc3N3b3JkLCBmdWxsbmFtZSwgbmV3X2VtYWlsLCBpZF9kb2MsIHVzZXJfcGhvbmUsIHVzZXJfcGljdHVyZV91cmwpIHtcbiAgICAgIGlmICh1c2VyX3BpY3R1cmVfdXJsIT1udWxsICYmIHVzZXJfcGljdHVyZV91cmwhPVwiXCIpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICAgICBmaWxlS2V5OiBcInBob3RvXCIsXG4gICAgICAgICAvL2ZpbGVOYW1lOiBmaWxlbmFtZSxcbiAgICAgICAgIC8vY2h1bmtlZE1vZGU6IGZhbHNlLFxuICAgICAgICAgLy9taW1lVHlwZTogXCJpbWFnZS9qcGdcIixcbiAgICAgICAgIHBhcmFtcyA6IHsgIGVtYWlsOiBlbWFpbCxcbiAgICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkX3NpZ25faW46IHBhc3N3b3JkLFxuICAgICAgICAgICAgICAgICAgICAgbmFtZTogZnVsbG5hbWUsXG4gICAgICAgICAgICAgICAgICAgICBuZXdfZW1haWw6IG5ld19lbWFpbCxcbiAgICAgICAgICAgICAgICAgICAgIGlkZW50aXR5X2RvY3VtZW50OiBpZF9kb2MsXG4gICAgICAgICAgICAgICAgICAgICBwaG9uZTogdXNlcl9waG9uZVxuICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHRydXN0QWxsSG9zdHMgPSB0cnVlO1xuICAgICAgICByZXR1cm4gJGNvcmRvdmFGaWxlVHJhbnNmZXIudXBsb2FkKGJhc2VVUkwgKyBcImVkaXRfdXNlclwiLCB1c2VyX3BpY3R1cmVfdXJsLCBvcHRpb25zLCB0cnVzdEFsbEhvc3RzKTtcbiAgICAgIH1lbHNle1xuICAgICAgICByZXR1cm4gJGh0dHAuZ2V0KGJhc2VVUkwgKyBcImVkaXRfdXNlclwiLCB7IHBhcmFtczogeyBlbWFpbDogZW1haWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzd29yZF9zaWduX2luOiBwYXNzd29yZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGZ1bGxuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3X2VtYWlsOiBuZXdfZW1haWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZGVudGl0eV9kb2N1bWVudDogaWRfZG9jLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGhvbmU6IHVzZXJfcGhvbmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgfTtcbn1dKTtcbiIsInBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdDYXRlZ29yaWVzU2VydmljZScsIFsnJGh0dHAnLCdMb2NhdGlvbnNTZXJ2aWNlJywgJ0NvbmZpZ1NlcnZpY2UnLCAnREJTZXJ2aWNlJywgZnVuY3Rpb24oJGh0dHAsTG9jYXRpb25zU2VydmljZSwgQ29uZmlnU2VydmljZSwgREJTZXJ2aWNlKSB7XG5cbiAgdmFyIGJhc2VVUkwgPSBDb25maWdTZXJ2aWNlLmJhc2VVUkwgKyBcIi9yZXBvcnQvbmV3L2FqYXhcIjtcblxuICByZXR1cm4ge1xuICAgIGFsbDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuICRodHRwLmdldChiYXNlVVJMLCB7IHBhcmFtczogeyBsYXQ6IExvY2F0aW9uc1NlcnZpY2UubmV3X3JlcG9ydF9sYXQsIGxvbjogTG9jYXRpb25zU2VydmljZS5uZXdfcmVwb3J0X2xuZywgZm9ybWF0OiBcImpzb25cIiB9IH0pXG4gICAgfSxcblxuICAgIGdldENhY2hlZENhdGVnb3JpZXM6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBEQlNlcnZpY2UuZ2V0Q2F0ZWdvcmllcygpO1xuICAgIH1cbiAgfTtcbn1dKTtcbiIsInBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdDb25maWdTZXJ2aWNlJywgWyckaHR0cCcsIGZ1bmN0aW9uKCRodHRwKSB7XG5cbiAgdmFyIENvbmZpZ09iaiA9IHt9O1xuICBDb25maWdPYmouYmFzZVVSTCA9IFwiaHR0cDovL2RvbmRlcmVjaWNsby5kZXZlbG9wbWVudC5kYXRhdXkub3JnXCI7XG5cbiAgcmV0dXJuIENvbmZpZ09iajtcblxufV0pO1xuIiwicG1iX2ltLnNlcnZpY2VzLmZhY3RvcnkoJ0Nvbm5lY3Rpdml0eVNlcnZpY2UnLCBbJyRjb3Jkb3ZhTmV0d29yaycsIGZ1bmN0aW9uKCRjb3Jkb3ZhTmV0d29yayl7XG5cbiAgcmV0dXJuIHtcbiAgICBpc09ubGluZTogZnVuY3Rpb24oKXtcbiAgICAgIGlmKGlvbmljLlBsYXRmb3JtLmlzV2ViVmlldygpKXtcbiAgICAgICAgcmV0dXJuICRjb3Jkb3ZhTmV0d29yay5pc09ubGluZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG5hdmlnYXRvci5vbkxpbmU7XG4gICAgICAgIC8vcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH0sXG4gICAgaXNPZmZsaW5lOiBmdW5jdGlvbigpe1xuICAgICAgaWYoaW9uaWMuUGxhdGZvcm0uaXNXZWJWaWV3KCkpe1xuICAgICAgICByZXR1cm4gISRjb3Jkb3ZhTmV0d29yay5pc09ubGluZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuICFuYXZpZ2F0b3Iub25MaW5lO1xuICAgICAgfVxuICAgIH1cbiAgfVxufV0pXG4iLCJwbWJfaW0uc2VydmljZXMuZmFjdG9yeSgnQ29udGFpbmVyU2VydmljZScsIFsnJGh0dHAnLCAnbGVhZmxldERhdGEnLCdDb25maWdTZXJ2aWNlJywgZnVuY3Rpb24oJGh0dHAsIGxlYWZsZXREYXRhLCBDb25maWdTZXJ2aWNlKSB7XG5cbiAgdmFyIGJhc2VVUkwgPSBDb25maWdTZXJ2aWNlLmJhc2VVUkwgKyBcIi9yZXBvcnQvYWpheC9cIjtcblxuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3Rvciwgd2l0aCBjbGFzcyBuYW1lXG4gICAqL1xuICBmdW5jdGlvbiBDb250YWluZXIoX2RhdGEpIHtcbiAgICBhbmd1bGFyLmV4dGVuZCh0aGlzLCBfZGF0YSk7XG4gIH1cblxuICBDb250YWluZXIuZ2V0QnlJZCA9IGZ1bmN0aW9uKGlkKXtcbiAgICB2YXIgdXJsID0gYmFzZVVSTCArIGlkO1xuICAgIHJldHVybiAkaHR0cC5nZXQodXJsKS50aGVuKGZ1bmN0aW9uKHJlc3VsdCl7XG4gICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSk7XG4gIH1cblxuXG4gIENvbnRhaW5lci5fZGVmYXVsdCA9IGZ1bmN0aW9uKCl7XG4gICAgdmFyIF9kYXRhID0ge1xuICAgICAgbGF0OiAwLFxuICAgICAgbG9uOiAwLFxuICAgICAgdGl0bGU6IG51bGwsXG4gICAgICBkZXRhaWw6IG51bGwsXG4gICAgICBtYXlfc2hvd19uYW1lOiAxLFxuICAgICAgY2F0ZWdvcnk6IG51bGwsXG4gICAgICBwaG9uZTogbnVsbCxcbiAgICAgIHBjOiAnJyxcbiAgICAgIGZpbGU6IG51bGwsXG4gICAgICBuYW1lOiBudWxsLFxuICAgICAgZW1haWw6IG51bGwsXG4gICAgICBzdWJtaXRfc2lnbl9pbjogMSxcbiAgICAgIHBhc3N3b3JkX3NpZ25faW46IG51bGwsXG4gICAgICByZW1lbWJlcl9tZToxXG4gICAgfTtcbiAgICByZXR1cm4gbmV3IENvbnRhaW5lcihfZGF0YSk7XG4gIH07XG5cbiAgICBDb250YWluZXIuX2FsbCA9IFtdO1xuICAgIENvbnRhaW5lci5jdXJyZW50ID0ge307XG4gICAgQ29udGFpbmVyLl9uZXcgPSBmdW5jdGlvbigpe1xuICAgICAgLypSZXBvcnQuY3VycmVudCA9IFJlcG9ydC5fZGVmYXVsdCgpO1xuICAgICAgcmV0dXJuIFJlcG9ydC5jdXJyZW50OyovXG4gICAgICByZXR1cm4gQ29udGFpbmVyLl9kZWZhdWx0KCk7XG4gICAgfTtcblxuXG5cbiAgICAvKipcbiAgICAgKiBTdGF0aWMgbWV0aG9kLCBhc3NpZ25lZCB0byBjbGFzc1xuICAgICAqIEluc3RhbmNlICgndGhpcycpIGlzIG5vdCBhdmFpbGFibGUgaW4gc3RhdGljIGNvbnRleHRcbiAgICAgKi9cbiAgICBDb250YWluZXIuYnVpbGQgPSBmdW5jdGlvbihfZGF0YSkge1xuICAgICAgcmV0dXJuIG5ldyBDb250YWluZXIoX2RhdGEpO1xuICAgIH07XG5cbiAgICBDb250YWluZXIucHJvdG90eXBlLnNldExhdExuZyA9IGZ1bmN0aW9uIChsYXQsbG5nKSB7XG4gICAgICB0aGlzLmxhdCA9IGxhdDtcbiAgICAgIHRoaXMubG9uID0gbG5nO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIGNvbnN0cnVjdG9yIGZ1bmN0aW9uXG4gICAgICovXG4gICAgcmV0dXJuIENvbnRhaW5lcjtcblxufV0pO1xuIiwicG1iX2ltLnNlcnZpY2VzLmZhY3RvcnkoJ0RCU2VydmljZScsIFsnJHEnLCBmdW5jdGlvbigkcSkge1xuICAgdmFyIF9kYjtcblxuICAgcmV0dXJuIHtcbiAgICAgICBpbml0REI6IGluaXREQixcbiAgICAgICBzYXZlVXNlcjogc2F2ZVVzZXIsXG4gICAgICAgZ2V0VXNlcjogZ2V0VXNlcixcbiAgICAgICBlcmFzZVVzZXI6IGVyYXNlVXNlcixcbiAgICAgICBzYXZlUmVwb3J0OiBzYXZlUmVwb3J0LFxuICAgICAgIGdldFJlcG9ydDogZ2V0UmVwb3J0LFxuICAgICAgIGdldEFsbFJlcG9ydHM6IGdldEFsbFJlcG9ydHMsXG4gICAgICAgdXBkYXRlUmVwb3J0OiB1cGRhdGVSZXBvcnQsXG4gICAgICAgZGVsZXRlUmVwb3J0OiBkZWxldGVSZXBvcnQsXG4gICAgICAgZGVsZXRlR2l2ZW5SZXBvcnQ6IGRlbGV0ZUdpdmVuUmVwb3J0LFxuICAgICAgIGdldENhdGVnb3JpZXM6IGdldENhdGVnb3JpZXMsXG4gICAgICAgc2F2ZUNhdGVnb3JpZXM6IHNhdmVDYXRlZ29yaWVzLFxuICAgICAgIGdldERvbmVXYWxrdGhyb3VnaDogZ2V0RG9uZVdhbGt0aHJvdWdoLFxuICAgICAgIHNhdmVEb25lV2Fsa3Rocm91Z2g6IHNhdmVEb25lV2Fsa3Rocm91Z2hcbiAgIH07XG5cbiAgIGZ1bmN0aW9uIHNhdmVVc2VyKHVzZXJfbmFtZSwgdXNlcl9lbWFpbCwgdXNlcl9wYXNzd29yZCwgdXNlcl9pZF9kb2MsIHVzZXJfcGhvbmUsIHVzZXJfcGljdHVyZV91cmwpIHtcbiAgICAgICAgIHZhciB1c2VyID0ge1xuICAgICAgICAgICAgX2lkOiAndXNlci1sb2dnZWQnLFxuICAgICAgICAgICAgbmFtZTogdXNlcl9uYW1lLFxuICAgICAgICAgICAgZW1haWw6IHVzZXJfZW1haWwsXG4gICAgICAgICAgICBwYXNzd29yZDogdXNlcl9wYXNzd29yZCxcbiAgICAgICAgICAgIGlkZW50aXR5X2RvY3VtZW50OiB1c2VyX2lkX2RvYyxcbiAgICAgICAgICAgIHBob25lOiB1c2VyX3Bob25lLFxuICAgICAgICAgICAgcGljdHVyZV91cmw6IHVzZXJfcGljdHVyZV91cmxcbiAgICAgICAgIH07XG4gICAgICAgICBnZXRVc2VyKCkudGhlbihmdW5jdGlvbiAoZG9jKSB7XG4gICAgICAgICAgIHVzZXIuX3JldiA9IGRvYy5fcmV2O1xuICAgICAgICAgICByZXR1cm4gX2RiLnB1dCh1c2VyKTtcbiAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgcmV0dXJuIF9kYi5wdXQodXNlcik7XG4gICAgICAgICB9KVxuICAgfTtcblxuICAgZnVuY3Rpb24gc2F2ZURvbmVXYWxrdGhyb3VnaCgpIHtcbiAgICAgIHZhciBkb25lV2Fsa3Rocm91Z2ggPSB7XG4gICAgICAgICBfaWQ6ICdkb25lLXdhbGt0aHJvdWdoJyxcbiAgICAgICAgIHN0YXR1czogJ2RvbmUnXG4gICAgICB9O1xuICAgICAgcmV0dXJuIF9kYi5wdXQoZG9uZVdhbGt0aHJvdWdoKTtcbiAgICB9O1xuXG4gIGZ1bmN0aW9uIGdldERvbmVXYWxrdGhyb3VnaCgpIHtcbiAgIHJldHVybiBfZGIuZ2V0KCdkb25lLXdhbGt0aHJvdWdoJyk7XG4gIH07XG5cbiAgZnVuY3Rpb24gZ2V0VXNlcigpIHtcbiAgICAgcmV0dXJuIF9kYi5nZXQoJ3VzZXItbG9nZ2VkJyk7XG4gIH07XG5cbiAgZnVuY3Rpb24gZXJhc2VVc2VyKCkge1xuICAgIF9kYi5nZXQoJ3VzZXItbG9nZ2VkJykudGhlbihmdW5jdGlvbihkb2MpIHtcbiAgICAgIHJldHVybiBfZGIucmVtb3ZlKGRvYyk7XG4gICAgfSk7XG4gIH1cblxuICAgZnVuY3Rpb24gaW5pdERCKCkge1xuICAgICAgIC8vIENyZWF0ZXMgdGhlIGRhdGFiYXNlIG9yIG9wZW5zIGlmIGl0IGFscmVhZHkgZXhpc3RzXG4gICAgICAgX2RiID0gbmV3IFBvdWNoREIoJ3BtYl9sb2NhbF9kYicpO1xuICAgICAgIHJldHVybiBfZGI7XG4gICB9O1xuXG4gICBmdW5jdGlvbiBzYXZlUmVwb3J0KHJlcG9ydCkge1xuICAgICAgLy9uZXdfcmVwb3J0X2lkID0gXCJyZXBvcnRfXCIgKyBwb3VjaENvbGxhdGUudG9JbmRleGFibGVTdHJpbmcoW3JlcG9ydF0pO1xuICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSgpO1xuICAgICAgdmFyIG5ld19yZXBvcnRfaWQgPSBcInJlcG9ydF9cIiArIGRhdGUuZ2V0RnVsbFllYXIoKSArIChkYXRlLmdldE1vbnRoKCkgKyAxKSArIGRhdGUuZ2V0RGF0ZSgpICsgZGF0ZS5nZXRNaWxsaXNlY29uZHMoKTtcbiAgICAgIHJlcG9ydC5faWQgPSBuZXdfcmVwb3J0X2lkO1xuICAgICAgcmV0dXJuIF9kYi5wdXQocmVwb3J0KTtcbiAgIH07XG5cbiAgIGZ1bmN0aW9uIHVwZGF0ZVJlcG9ydChyZXBvcnQpIHtcbiAgICAgcmV0dXJuIF9kYi5wdXQocmVwb3J0KTtcbiAgfTtcblxuICAgZnVuY3Rpb24gZ2V0Q2F0ZWdvcmllcygpIHtcbiAgICAgcmV0dXJuIF9kYi5nZXQoJ2NhdGVnb3JpZXMtbGlzdCcpO1xuICAgfTtcblxuICAgZnVuY3Rpb24gc2F2ZUNhdGVnb3JpZXMoY2F0ZWdvcmllcykge1xuICAgICBnZXRDYXRlZ29yaWVzKCkudGhlbihmdW5jdGlvbiAoZG9jKSB7XG4gICAgICAgY2F0ZWdvcmllcy5fcmV2ID0gZG9jLl9yZXY7XG4gICAgICAgcmV0dXJuIF9kYi5wdXQoY2F0ZWdvcmllcyk7XG4gICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICBjYXRlZ29yaWVzLl9pZCA9IFwiY2F0ZWdvcmllcy1saXN0XCI7XG4gICAgICAgcmV0dXJuIF9kYi5wdXQoY2F0ZWdvcmllcyk7XG4gICAgIH0pXG4gICB9O1xuXG4gIGZ1bmN0aW9uIGdldFJlcG9ydChyZXBvcnRJZCkge1xuICAgICByZXR1cm4gX2RiLmdldChyZXBvcnRJZCk7XG4gIH07XG5cbiAgIGZ1bmN0aW9uIGdldEFsbFJlcG9ydHMoKSB7XG4gICAgIHJldHVybiBfZGIuYWxsRG9jcyh7XG4gICAgICBpbmNsdWRlX2RvY3M6IHRydWUsXG4gICAgICBhdHRhY2htZW50czogZmFsc2UsXG4gICAgICBzdGFydGtleTogJ3JlcG9ydF8nLFxuICAgICAgZW5ka2V5OiAncmVwb3J0X1xcdWZmZmYnXG4gICAgIH0pOy8qLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgLy8gaGFuZGxlIHJlc3VsdFxuICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgfSk7Ki9cbiAgfTtcblxuICBmdW5jdGlvbiBkZWxldGVSZXBvcnQocmVwb3J0X2lkKSB7XG4gICAgX2RiLmdldChyZXBvcnRfaWQpLnRoZW4oZnVuY3Rpb24oZG9jKSB7XG4gICAgICByZXR1cm4gX2RiLnJlbW92ZShkb2MpO1xuICAgIH0pO1xuICB9O1xuXG4gIGZ1bmN0aW9uIGRlbGV0ZUdpdmVuUmVwb3J0KHJlcG9ydCkge1xuICAgIHJldHVybiBfZGIucmVtb3ZlKHJlcG9ydCk7XG4gIH07XG5cbn1dKTtcbiIsInBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdFcnJvclNlcnZpY2UnLCBbJyRodHRwJywnJGlvbmljUG9wdXAnLCAnVmFsaWRhdGlvblNlcnZpY2UnLCBmdW5jdGlvbigkaHR0cCwkaW9uaWNQb3B1cCxWYWxpZGF0aW9uU2VydmljZSkge1xuXG4gIHJldHVybiB7XG4gICAgaHR0cF9yZXNwb25zZV9pc19zdWNjZXNzZnVsOiBmdW5jdGlvbiAoanNvblJlc3VsdCwgZXJyb3JDb250YWluZXJJZCkge1xuICAgICAgdmFyIGVycm9yRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZXJyb3JDb250YWluZXJJZCk7XG4gICAgICBpZihqc29uUmVzdWx0LmRhdGEucmVzdWx0PT0wKXtcbiAgICAgICAgZXJyb3JEaXYuaW5uZXJIVE1MPVwiPGgzPlwiICsganNvblJlc3VsdC5kYXRhLm1lc3NhZ2UgKyBcIjwvaDM+XCI7XG4gICAgICAgIGVycm9yRGl2LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1lbHNle1xuICAgICAgICBlcnJvckRpdi5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBodHRwX3Jlc3BvbnNlX2lzX3N1Y2Nlc3NmdWxfYWpheDogZnVuY3Rpb24gKGpzb25SZXN1bHQpIHtcbiAgICAgIGlmKGpzb25SZXN1bHQuZGF0YS5yZXN1bHQ9PTApe1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfSxcblxuICAgIGh0dHBfcmVzcG9uc2VfaXNfc3VjY2Vzc2Z1bF9wb3B1cDogZnVuY3Rpb24gKGpzb25SZXN1bHQpIHtcbiAgICAgIGlmKGpzb25SZXN1bHQuZGF0YS5yZXN1bHQ9PTApe1xuICAgICAgICB2YXIgYWxlcnRQb3B1cCA9ICRpb25pY1BvcHVwLmFsZXJ0KHtcbiAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICB0ZW1wbGF0ZToganNvblJlc3VsdC5kYXRhLm1lc3NhZ2VcbiAgICAgICAgfSk7XG4gICAgICAgIGFsZXJ0UG9wdXAudGhlbihmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfSxcblxuICAgIGh0dHBfZGF0YV9yZXNwb25zZV9pc19zdWNjZXNzZnVsOiBmdW5jdGlvbiAoZGF0YSwgZXJyb3JDb250YWluZXJJZCkge1xuICAgICAgdmFyIGVycm9yRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZXJyb3JDb250YWluZXJJZCk7XG4gICAgICBpZihkYXRhLnJlc3VsdD09MCl7XG4gICAgICAgIGVycm9yRGl2LmlubmVySFRNTD1cIjxoMz5cIiArIGRhdGEubWVzc2FnZSArIFwiPC9oMz5cIjtcbiAgICAgICAgZXJyb3JEaXYuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfWVsc2V7XG4gICAgICAgIGVycm9yRGl2LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfSxcblxuICAgIGh0dHBfZGF0YV9yZXNwb25zZV9pc19zdWNjZXNzZnVsX2FqYXg6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICBpZihkYXRhLnJlc3VsdD09MCl7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1lbHNle1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgc2hvd19lcnJvcl9tZXNzYWdlOiBmdW5jdGlvbiAoZXJyb3JDb250YWluZXJJZCwgbWVzc2FnZSkge1xuICAgICAgICB2YXIgZXJyb3JEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlcnJvckNvbnRhaW5lcklkKTtcbiAgICAgICAgZXJyb3JEaXYuaW5uZXJIVE1MPVwiPGgzPlwiICsgbWVzc2FnZSArIFwiPC9oMz5cIjtcbiAgICAgICAgZXJyb3JEaXYuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG5cbiAgICBzaG93X2Vycm9yX21lc3NhZ2VfcG9wdXA6IGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgICAgIHZhciBhbGVydFBvcHVwID0gJGlvbmljUG9wdXAuYWxlcnQoe1xuICAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcbiAgICAgICAgIHRlbXBsYXRlOiBtZXNzYWdlXG4gICAgICAgIH0pO1xuICAgICAgICBhbGVydFBvcHVwLnRoZW4oZnVuY3Rpb24ocmVzKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG5cbiAgICBjaGVja19maWVsZHM6IGZ1bmN0aW9uIChmaWVsZHMsIGVycm9yQ29udGFpbmVySWQpIHtcbiAgICAgIHZhciBlcnJvcnMgPSBcIlwiO1xuICAgICAgZmllbGRzLmZvckVhY2goZnVuY3Rpb24oZmllbGQpIHtcbiAgICAgICAgaWYoZmllbGQudHlwZT09XCJub3ROdWxsXCIpe1xuICAgICAgICAgIGlmKCFWYWxpZGF0aW9uU2VydmljZS52YWxpZGF0ZV9ub3RfZW1wdHkoZmllbGQudmFsdWUpKXtcbiAgICAgICAgICAgIGVycm9ycyA9IGVycm9ycyArICc8aDM+LSBFbCBjYW1wbyBcIicgKyBmaWVsZC5uYW1lICsgJ1wiIG5vIHB1ZWRlIGVzdGFyIHZhY8Otby48L2gzPic7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmKGZpZWxkLnR5cGU9PVwiZW1haWxcIil7XG4gICAgICAgICAgaWYoIVZhbGlkYXRpb25TZXJ2aWNlLnZhbGlkYXRlX2VtYWlsKGZpZWxkLnZhbHVlKSl7XG4gICAgICAgICAgICBlcnJvcnMgPSBlcnJvcnMgKyAnPGgzPi0gRWwgY2FtcG8gXCInICsgZmllbGQubmFtZSArICdcIiBubyBlcyB1bmEgZGlyZWNjacOzbiBkZSBjb3JyZW8gdsOhbGlkYS48L2gzPic7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmKGZpZWxkLnR5cGU9PVwiaWRkb2NfdXlcIil7XG4gICAgICAgICAgaWYoIVZhbGlkYXRpb25TZXJ2aWNlLnZhbGlkYXRlX2lkZG9jX3V5KGZpZWxkLnZhbHVlKSl7XG4gICAgICAgICAgICBlcnJvcnMgPSBlcnJvcnMgKyAnPGgzPi0gRWwgY2FtcG8gXCInICsgZmllbGQubmFtZSArICdcIiBubyBlcyB1bmEgY8OpZHVsYSB1cnVndWF5YSB2w6FsaWRhLjwvaDM+JztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYoZmllbGQudHlwZT09XCJ0d29fd29yZHNcIil7XG4gICAgICAgICAgaWYoIVZhbGlkYXRpb25TZXJ2aWNlLnZhbGlkYXRlX3R3b193b3JkcyhmaWVsZC52YWx1ZSkpe1xuICAgICAgICAgICAgZXJyb3JzID0gZXJyb3JzICsgJzxoMz4tIEVsIGNhbXBvIFwiJyArIGZpZWxkLm5hbWUgKyAnXCIgZGViZSBjb250ZW5lciBhbCBtZW5vcyBkb3MgcGFsYWJyYXMuPC9oMz4nO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZihlcnJvcnMgPT1cIlwiKXtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgdmFyIGVycm9yRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZXJyb3JDb250YWluZXJJZCk7XG4gICAgICAgIGVycm9yRGl2LmlubmVySFRNTD0gZXJyb3JzO1xuICAgICAgICBlcnJvckRpdi5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuXG5cbiAgfTtcbn1dKTtcbiIsInBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdGYXFTZXJ2aWNlJywgWyckaHR0cCcsICdDb25maWdTZXJ2aWNlJywgZnVuY3Rpb24oJGh0dHAsIENvbmZpZ1NlcnZpY2UpIHtcblxuICB2YXIgYmFzZVVSTCA9IENvbmZpZ1NlcnZpY2UuYmFzZVVSTCArIFwiL2ZhcVwiO1xuXG4gIHJldHVybiB7XG4gICAgYWxsOiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KGJhc2VVUkwsIHsgcGFyYW1zOiB7IGFqYXg6IFwiMVwiIH0gfSk7XG4gICAgfVxuICB9O1xufV0pO1xuIiwicG1iX2ltLnNlcnZpY2VzLmZhY3RvcnkoJ0xvYWRlcicsIFsnJGlvbmljTG9hZGluZycsICckdGltZW91dCcsJyRpb25pY1BvcHVwJyxmdW5jdGlvbigkaW9uaWNMb2FkaW5nLCR0aW1lb3V0LCRpb25pY1BvcHVwKSB7XG5cbiAgdmFyIExPQURFUkFQSSA9IHtcblxuICAgIHNob3dMb2FkaW5nOiBmdW5jdGlvbih0ZXh0KSB7XG4gICAgICB0ZXh0ID0gdGV4dCB8fCAnTG9hZGluZy4uLic7XG4gICAgICAkaW9uaWNMb2FkaW5nLnNob3coe1xuICAgICAgICB0ZW1wbGF0ZTogdGV4dFxuICAgICAgfSk7XG4gICAgfSxcblxuICAgIGhpZGVMb2FkaW5nOiBmdW5jdGlvbigpIHtcbiAgICAgICRpb25pY0xvYWRpbmcuaGlkZSgpO1xuICAgIH0sXG5cbiAgICB0b2dnbGVMb2FkaW5nV2l0aE1lc3NhZ2U6IGZ1bmN0aW9uKHRleHQsIHRpbWVvdXQpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgc2VsZi5zaG93TG9hZGluZyh0ZXh0KTtcblxuICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIHNlbGYuaGlkZUxvYWRpbmcoKTtcbiAgICAgIH0sIHRpbWVvdXQgfHwgMzAwMCk7XG4gICAgfSxcblxuICAgIGNvbmZpcm1Qb3B1cDpmdW5jdGlvbih0aXRsZSx0ZXh0KXtcbiAgICAgIHZhciBjb25maXJtUG9wdXAgPSAkaW9uaWNQb3B1cC5jb25maXJtKHtcbiAgICAgdGl0bGU6IHRpdGxlLFxuICAgICB0ZW1wbGF0ZTogdGV4dFxuICAgfSk7XG4gICByZXR1cm4gY29uZmlybVBvcHVwO1xuIH0sXG5cblxuICAgIHNob3dBbGVydDpmdW5jdGlvbihfdGl0bGUsX3RlbXBsYXRlKSB7XG4gICAgICB2YXIgYWxlcnRQb3B1cCA9ICRpb25pY1BvcHVwLmFsZXJ0KHtcbiAgICAgICAgdGl0bGU6IF90aXRsZSxcbiAgICAgICAgdGVtcGxhdGU6IF90ZW1wbGF0ZVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gYWxlcnRQb3B1cDtcbiB9XG5cbiAgfTtcbiAgcmV0dXJuIExPQURFUkFQSTtcbn1dKTtcbiIsInBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdMb2NhdGlvbnNTZXJ2aWNlJywgWyBmdW5jdGlvbigpIHtcblxuICB2YXIgbG9jYXRpb25zT2JqID0ge307XG4gIGxvY2F0aW9uc09iai5pbml0aWFsX2xhdCA9IFwiXCI7XG4gIGxvY2F0aW9uc09iai5pbml0aWFsX2xuZyA9IFwiXCI7XG4gIGxvY2F0aW9uc09iai5uZXdfcmVwb3J0X2xhdCA9IFwiXCI7XG4gIGxvY2F0aW9uc09iai5uZXdfcmVwb3J0X2xuZyA9IFwiXCI7XG5cbiAgbG9jYXRpb25zT2JqLnNhdmVfaW5pdGlhbF9wb3NpdGlvbiA9IGZ1bmN0aW9uKHBvc2l0aW9uKSB7XG4gICAgbG9jYXRpb25zT2JqLmluaXRpYWxfbGF0ID0gIHBvc2l0aW9uLmNvb3Jkcy5sYXRpdHVkZTtcbiAgICBsb2NhdGlvbnNPYmouaW5pdGlhbF9sbmcgPSAgcG9zaXRpb24uY29vcmRzLmxvbmdpdHVkZTtcbiAgfVxuXG4gIGxvY2F0aW9uc09iai5zYXZlX25ld19yZXBvcnRfcG9zaXRpb24gPSBmdW5jdGlvbihsYXQsbG5nKXtcbiAgICBsb2NhdGlvbnNPYmoubmV3X3JlcG9ydF9sYXQgPSBsYXQ7XG4gICAgbG9jYXRpb25zT2JqLm5ld19yZXBvcnRfbG5nID0gbG5nO1xuICB9XG5cbiAgbG9jYXRpb25zT2JqLnNhdmVkTG9jYXRpb25zID0gW107XG5cbiAgcmV0dXJuIGxvY2F0aW9uc09iajtcblxufV0pO1xuIiwiIC8vcG1iX2ltLnNlcnZpY2VzLmZhY3RvcnkoJ01hcFNlcnZpY2UnLCBbIGZ1bmN0aW9uKCkge1xuIHBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdNYXBTZXJ2aWNlJywgWydsZWFmbGV0RGF0YScsICckY29tcGlsZScsIGZ1bmN0aW9uKGxlYWZsZXREYXRhLCAkY29tcGlsZSkge1xuXG4gICAvL0RlZmluaWNpb24gZGUgbGEgcHJveWVjY2Npb24gVVRNIDIxIHNcbiAgIHByb2o0LmRlZnMoJ0VQU0c6MzI3MjEnLCAnK3Byb2o9dXRtICt6b25lPTIxICtzb3V0aCArZWxscHM9V0dTODQgK2RhdHVtPVdHUzg0ICt1bml0cz1tICtub19kZWZzJyk7XG5cblxuICAgdmFyIG1hcFNlcnZpY2UgPSB7fTtcblxuICAgbWFwU2VydmljZS5nb1RvUGxhY2UgPSBmdW5jdGlvbihfcGxhY2Usc2NvcGUpIHtcblxuICAgICB2YXIgX2dlb0pzb24gPSB7XG4gICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgbm9tYnJlOiBfcGxhY2Uubm9tYnJlXG4gICAgICAgfSxcbiAgICAgICBjcnM6IHtcbiAgICAgICAgIHR5cGU6ICduYW1lJyxcbiAgICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICAgbmFtZTogJ3VybjpvZ2M6ZGVmOmNyczpFUFNHOjozMjcyMSdcbiAgICAgICAgIH1cbiAgICAgICB9XG4gICAgIH07XG4gICAgIF9nZW9Kc29uID0gYW5ndWxhci5leHRlbmQoX2dlb0pzb24sIF9wbGFjZS5nZW9tKTtcbiAgICAgLy9hbGVydChKU09OLnN0cmluZ2lmeShfcGxhY2UuZ2VvbSkpO1xuICAgICBsZWFmbGV0RGF0YS5nZXRNYXAoKS50aGVuKGZ1bmN0aW9uKG1hcCkge1xuICAgICAgIHZhciBfbGF0bG5nO1xuICAgICAgIHZhciBsYXllciA9IEwuUHJvai5nZW9Kc29uKF9nZW9Kc29uLCB7XG4gICAgICAgICAncG9pbnRUb0xheWVyJzogZnVuY3Rpb24oZmVhdHVyZSwgbGF0bG5nKSB7XG4gICAgICAgICAgIF9sYXRsbmcgPSBsYXRsbmc7XG4gICAgICAgICAgIHJldHVybiBMLm1hcmtlcihsYXRsbmcpO1xuICAgICAgICAgfVxuICAgICAgIH0pO1xuICAgICAgIC8qbGF5ZXIuYWRkVG8obWFwKTsqL1xuICAgICAgIC8vIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KGxheWVyKSk7XG5cbiAgICAgICBtYXAuc2V0VmlldyhfbGF0bG5nLCAxOCk7XG4gICAgICAgLy9sYXllci5vcGVuUG9wdXAoKTtcbiAgICAgfSk7XG4gICB9O1xuXG4gICBtYXBTZXJ2aWNlLmNlbnRlck1hcE9uQ29vcmRzID0gZnVuY3Rpb24obGF0LGxuZyx6b29tKSB7XG4gICAgIGxlYWZsZXREYXRhLmdldE1hcCgpLnRoZW4oZnVuY3Rpb24obWFwKSB7XG4gICAgICAgIG1hcC5zZXRWaWV3KG5ldyBMLkxhdExuZyhsYXQsIGxuZyksem9vbSk7XG4gICAgICAgfSk7XG4gICAgIH1cblxuICAgcmV0dXJuIG1hcFNlcnZpY2U7XG5cbiB9XSk7XG4iLCJwbWJfaW0uc2VydmljZXMuZmFjdG9yeSgnUE1CU2VydmljZScsIFsnJGh0dHAnLCAnbGVhZmxldERhdGEnLCAnJGNvcmRvdmFGaWxlVHJhbnNmZXInLCAnQ29uZmlnU2VydmljZScsIGZ1bmN0aW9uKCRodHRwLCBsZWFmbGV0RGF0YSwgJGNvcmRvdmFGaWxlVHJhbnNmZXIsQ29uZmlnU2VydmljZSkge1xuXG4gIHZhciBiYXNlID0gQ29uZmlnU2VydmljZS5iYXNlVVJMO1xuXG4gIHZhciBQTUJTZXJ2aWNlID0ge1xuXG4gICAgcmVwb3J0OiBmdW5jdGlvbihmb3JtKSB7XG4gICAgICBpZiAoZm9ybS5maWxlKSB7XG4gICAgICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgICAgZmlsZUtleTogXCJwaG90b1wiLFxuICAgICAgICAgZmlsZU5hbWU6IFwiaW1hZ2UuanBlZ1wiLFxuICAgICAgICAgY2h1bmtlZE1vZGU6IGZhbHNlLFxuICAgICAgICAgbWltZVR5cGU6IFwiaW1hZ2UvanBlZ1wiLFxuICAgICAgICAgcGFyYW1zIDogZm9ybVxuICAgICAgICB9O1xuICAgICAgICBvcHRpb25zLmhlYWRlcnMgPSB7XG4gICAgICAgICAgQ29ubmVjdGlvbjogXCJDbG9zZVwiXG4gICAgICAgIH07XG4gICAgICAgIHZhciB0cnVzdEFsbEhvc3RzID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuICRjb3Jkb3ZhRmlsZVRyYW5zZmVyLnVwbG9hZChiYXNlICsgJy9yZXBvcnQvbmV3L21vYmlsZScsIGZvcm0uZmlsZSwgb3B0aW9ucywgdHJ1c3RBbGxIb3N0cyk7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgcmV0dXJuICRodHRwLmdldChiYXNlICsgJy9yZXBvcnQvbmV3L21vYmlsZScsIHsgcGFyYW1zOiBmb3JtIH0pO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBzdWJzY3JpYmU6IGZ1bmN0aW9uIChlbWFpbCxyZXBvcnRfaWQpIHtcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoYmFzZSArIFwiL2FsZXJ0L3N1YnNjcmliZV9hamF4XCIsIHsgcGFyYW1zOiB7IHJ6bnZ5OiBlbWFpbCwgaWQ6IHJlcG9ydF9pZCwgdHlwZTogXCJ1cGRhdGVzXCIgfSB9KTtcbiAgICB9LFxuXG4gICAgYWJ1c2U6IGZ1bmN0aW9uIChlbWFpbCxyZXBvcnRfaWQsIG5hbWUsIHN1YmplY3QsIG1lc3NhZ2UpIHtcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoYmFzZSArIFwiL2NvbnRhY3Qvc3VibWl0X2FqYXhcIiwgeyBwYXJhbXM6IHsgZW06IGVtYWlsLCBpZDogcmVwb3J0X2lkLCBuYW1lOiBuYW1lLCBzdWJqZWN0OiBzdWJqZWN0LCBtZXNzYWdlOiBtZXNzYWdlIH0gfSk7XG4gICAgfSxcblxuICAgIGhpZGU6IGZ1bmN0aW9uIChyZXBvcnRfaWQpIHtcbiAgICAgIHZhciBkZWxldGVVUkwgPSBcIi9yZXBvcnQvZGVsZXRlX2FqYXgvXCIgKyByZXBvcnRfaWQ7XG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KGJhc2UgKyBkZWxldGVVUkwsIHsgcGFyYW1zOiB7fSB9KTtcbiAgICB9LFxuXG4gICAgY29tbWVudDogZnVuY3Rpb24gKHJlcG9ydF9pZCxtZXNzYWdlLG5hbWUsZW1haWwsbWF5X3Nob3dfbmFtZSxhZGRfYWxlcnQsZml4ZWQpIHtcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoYmFzZSArIFwiL3JlcG9ydC91cGRhdGVfYWpheFwiLFxuICAgICAgeyBwYXJhbXM6XG4gICAgICAgIHtcbiAgICAgICAgICBzdWJtaXRfdXBkYXRlOiAxLFxuICAgICAgICAgIGlkOiByZXBvcnRfaWQsXG4gICAgICAgICAgbWF5X3Nob3dfbmFtZTogbWF5X3Nob3dfbmFtZSxcbiAgICAgICAgICBhZGRfYWxlcnQ6IGFkZF9hbGVydCxcbiAgICAgICAgICBmaXhlZDogZml4ZWQsXG4gICAgICAgICAgdXBkYXRlOiBtZXNzYWdlLFxuICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgZm9ybV9yem52eTogZW1haWxcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSxcblxuICB9O1xuICByZXR1cm4gUE1CU2VydmljZTtcblxufV0pO1xuIiwicG1iX2ltLnNlcnZpY2VzLmZhY3RvcnkoJ1BvcFVwU2VydmljZScsIFsnJGlvbmljUG9wdXAnLCdWYWxpZGF0aW9uU2VydmljZScsIGZ1bmN0aW9uKCRpb25pY1BvcHVwLFZhbGlkYXRpb25TZXJ2aWNlKSB7XG5cbiAgcmV0dXJuIHtcbiAgICBzaG93X2FsZXJ0OiBmdW5jdGlvbiAoYWxlcnRfdGl0bGUsYWxlcnRfbWVzc2FnZSkge1xuICAgICAgICB2YXIgYWxlcnRQb3B1cCA9ICRpb25pY1BvcHVwLmFsZXJ0KHtcbiAgICAgICAgIHRpdGxlOiBhbGVydF90aXRsZSxcbiAgICAgICAgIHRlbXBsYXRlOiBhbGVydF9tZXNzYWdlXG4gICAgICAgIH0pO1xuICAgICAgICBhbGVydFBvcHVwLnRoZW4oZnVuY3Rpb24ocmVzKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuXG4gICBjb25maXJtUG9wdXA6IGZ1bmN0aW9uKHRpdGxlLHRleHQpe1xuICAgICB2YXIgY29uZmlybVBvcHVwID0gJGlvbmljUG9wdXAuY29uZmlybSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHRpdGxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiB0ZXh0XG4gICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICByZXR1cm4gY29uZmlybVBvcHVwO1xuICAgfSxcblxuICAgYXNrRm9yT25lVmFsdWVQb3BVcDogZnVuY3Rpb24oc2NvcGUsdGl0bGUsdGV4dCxmaWVsZF9uYW1lLHZhbGlkYXRpb25UeXBlKXtcbiAgICAgICRzY29wZSA9IHNjb3BlO1xuICAgICAgdmFyIG15UG9wdXAgPSAkaW9uaWNQb3B1cC5zaG93KHtcbiAgICAgIHRlbXBsYXRlOiBmaWVsZF9uYW1lICsgJzogPGlucHV0IHR5cGU9XCJ0ZXh0XCIgaWQ9XCJvbmVfdmFsdWVfcG9wdXBcIj48ZGl2IGlkPVwiZXJyb3JfY29udGFpbmVyX2luc2lkZVwiPjwvZGl2PicsXG4gICAgICB0aXRsZTogdGl0bGUsXG4gICAgICBzdWJUaXRsZTogdGV4dCxcbiAgICAgIHNjb3BlOiAkc2NvcGUsXG4gICAgICBidXR0b25zOiBbXG4gICAgICAgIHsgdGV4dDogJ0NhbmNlbGFyJyB9LFxuICAgICAgICB7XG4gICAgICAgICAgdGV4dDogJzxiPkVudmlhcjwvYj4nLFxuICAgICAgICAgIHR5cGU6ICdidXR0b24tcG9zaXRpdmUnLFxuICAgICAgICAgIG9uVGFwOiBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICB2YXIgZXJyb3JzID0gXCJcIjtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwib25lX3ZhbHVlX3BvcHVwXCIpLnZhbHVlO1xuICAgICAgICAgICAgaWYodmFsaWRhdGlvblR5cGU9PVwibm90TnVsbFwiKXtcbiAgICAgICAgICAgICAgaWYoIVZhbGlkYXRpb25TZXJ2aWNlLnZhbGlkYXRlX25vdF9lbXB0eSh2YWx1ZSkpe1xuICAgICAgICAgICAgICAgIGVycm9ycyA9IGVycm9ycyArICc8aDM+LSBFbCBjYW1wbyBcIicgKyBmaWVsZF9uYW1lICsgJ1wiIG5vIHB1ZWRlIGVzdGFyIHZhY8Otby48L2gzPic7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKHZhbGlkYXRpb25UeXBlPT1cImVtYWlsXCIpe1xuICAgICAgICAgICAgICBpZighVmFsaWRhdGlvblNlcnZpY2UudmFsaWRhdGVfZW1haWwodmFsdWUpKXtcbiAgICAgICAgICAgICAgICBlcnJvcnMgPSBlcnJvcnMgKyAnPGgzPi0gRWwgY2FtcG8gXCInICsgZmllbGRfbmFtZSArICdcIiBubyBlcyB1bmEgZGlyZWNjacOzbiBkZSBjb3JyZW8gdsOhbGlkYS48L2gzPic7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKHZhbGlkYXRpb25UeXBlPT1cImlkZG9jX3V5XCIpe1xuICAgICAgICAgICAgICBpZighVmFsaWRhdGlvblNlcnZpY2UudmFsaWRhdGVfaWRkb2NfdXkodmFsdWUpKXtcbiAgICAgICAgICAgICAgICBlcnJvcnMgPSBlcnJvcnMgKyAnPGgzPi0gRWwgY2FtcG8gXCInICsgZmllbGRfbmFtZSArICdcIiBubyBlcyB1bmEgY8OpZHVsYSB1cnVndWF5YSB2w6FsaWRhLjwvaDM+JztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYodmFsaWRhdGlvblR5cGU9PVwidHdvX3dvcmRzXCIpe1xuICAgICAgICAgICAgICBpZighVmFsaWRhdGlvblNlcnZpY2UudmFsaWRhdGVfdHdvX3dvcmRzKHZhbHVlKSl7XG4gICAgICAgICAgICAgICAgZXJyb3JzID0gZXJyb3JzICsgJzxoMz4tIEVsIGNhbXBvIFwiJyArIGZpZWxkX25hbWUgKyAnXCIgZGViZSBjb250ZW5lciBhbCBtZW5vcyBkb3MgcGFsYWJyYXMuPC9oMz4nO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZihlcnJvcnMhPVwiXCIpe1xuICAgICAgICAgICAgICB2YXIgZXJyb3JEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImVycm9yX2NvbnRhaW5lcl9pbnNpZGVcIik7XG4gICAgICAgICAgICAgIGVycm9yRGl2LmlubmVySFRNTD0gZXJyb3JzO1xuICAgICAgICAgICAgICBlcnJvckRpdi5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICAgICAgICAvL2Rvbid0IGFsbG93IHRoZSB1c2VyIHRvIGNsb3NlIHVubGVzcyBoZSBlbnRlcnMgd2lmaSBwYXNzd29yZFxuICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICBdXG4gICAgfSk7XG4gICAgcmV0dXJuIG15UG9wdXA7XG4gICB9XG5cblxuICB9O1xufV0pO1xuIiwicG1iX2ltLnNlcnZpY2VzLmZhY3RvcnkoJ2xvY2F0aW9uQVBJJywgWyckaHR0cCcsICckcScsICdBcGlJbUVuZHBvaW50JywgJ0FwaURhdGFFbmRwb2ludCcsIGZ1bmN0aW9uKCRodHRwLCAkcSwgQXBpSW1FbmRwb2ludCwgQXBpRGF0YUVuZHBvaW50KSB7XG5cbiAgdmFyIHJlc3RQcmVmZml4ID0gXCJ1YmljYWNpb25lc1Jlc3RQcm9kXCI7XG5cblxuICB2YXIgbG9jYXRpb25BUEkgPSB7fTtcblxuICBsb2NhdGlvbkFQSS5zZWFyY2hMb2NhdGlvbkJ5U3RyID0gZnVuY3Rpb24oX2xvY2F0aW9uKSB7XG4gICAgcmV0dXJuICRodHRwLmdldChBcGlJbUVuZHBvaW50LnVybCArICcvJyArIHJlc3RQcmVmZml4ICsgJy9jYWxsZXMnLCB7XG4gICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgcGFyYW1zOiB7XG4gICAgICAgIG5vbWJyZTogX2xvY2F0aW9uXG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cblxuICBsb2NhdGlvbkFQSS5zZWFyY2hFc3F1aW5hQnlTdHIgPSBmdW5jdGlvbihfbG9jYXRpb24pIHtcbiAgICAvL2NvbnNvbGUubG9nKFwic2VhcmNoRXNxdWluYUJ5U3RyID0gXCIgKyBKU09OLnN0cmluZ2lmeShfbG9jYXRpb24pKTtcbiAgICAvL3JldHVybiAkaHR0cC5nZXQoQXBpSW1FbmRwb2ludC51cmwgKyAnLycgKyByZXN0UHJlZmZpeCArICcvZXNxdWluYS8nICsgX2xvY2F0aW9uLmNhbGxlICsgJy8nICsgX2xvY2F0aW9uLmVzcXVpbmEsIHtcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoQXBpSW1FbmRwb2ludC51cmwgKyAnLycgKyByZXN0UHJlZmZpeCArICcvY3J1Y2VzLycgKyBfbG9jYXRpb24uY2FsbGUgKyAnLycsXG4gICAgICB7XG4gICAgICAgIHBhcmFtczoge1xuICAgICAgICAgIG5vbWJyZTogX2xvY2F0aW9uLmVzcXVpbmFcbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH07XG5cbiAgbG9jYXRpb25BUEkuZ2V0TG9jYXRpb25HZW9tID0gZnVuY3Rpb24oX2xvY2F0aW9uKSB7XG4gICAgdmFyIHVybCA9IEFwaUltRW5kcG9pbnQudXJsICsgJy8nICsgcmVzdFByZWZmaXggKyBsb2NhdGlvbkFQSS5nZXRQYXJhbVBhdGhCeVRpcG8oX2xvY2F0aW9uLnRpcG8pO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgX2xvY2F0aW9uLnBhdGhQYXJhbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHVybCArPSAnLycgKyBfbG9jYXRpb24ucGF0aFBhcmFtc1tpXTtcbiAgICB9XG5cbiAgICByZXR1cm4gJGh0dHAuZ2V0KHVybCkudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XG4gICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgICB9KTtcblxuXG4gIH07XG5cbiAgbG9jYXRpb25BUEkuZ2V0UGFyYW1QYXRoQnlUaXBvID0gZnVuY3Rpb24oX3RpcG8pIHtcblxuICAgIHZhciByZXN0R2VvRGF0YVNlcnZpY2VQYXRoID0ge1xuICAgICAgJ0VTUVVJTkEnOlwiL2VzcXVpbmFcIixcbiAgICAgICdESVJFQ0NJT04nOlwiL2RpcmVjY2lvblwiXG4gICAgfTtcblxuICAgIHJldHVybiByZXN0R2VvRGF0YVNlcnZpY2VQYXRoW190aXBvXTtcblxuXG4gIH07XG5cbiAgcmV0dXJuIGxvY2F0aW9uQVBJO1xuXG59XSk7XG4iLCJwbWJfaW0uc2VydmljZXMuZmFjdG9yeSgnXycsIFtmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHdpbmRvdy5fOyAvL1VuZGVyc2NvcmUgbXVzdCBhbHJlYWR5IGJlIGxvYWRlZCBvbiB0aGUgcGFnZVxufV0pO1xuIiwicG1iX2ltLnNlcnZpY2VzLmZhY3RvcnkoJ1VzZXJTZXJ2aWNlJywgWyckaHR0cCcsIGZ1bmN0aW9uKCRodHRwKSB7XG5cbiAgLy92YXIgYmFzZVVSTCA9IFwiaHR0cDovL3BtYnV5LmRldmVsb3BtZW50LmRhdGF1eS5vcmcvYXV0aC9hamF4L1wiO1xuICB2YXIgVXNlck9iaiA9IHt9O1xuICBVc2VyT2JqLm5hbWUgPSBudWxsO1xuICBVc2VyT2JqLmVtYWlsID0gbnVsbDtcbiAgVXNlck9iai5wYXNzd29yZCA9IG51bGw7XG4gIFVzZXJPYmouaWRlbnRpdHlfZG9jdW1lbnQgPSBudWxsO1xuICBVc2VyT2JqLnBob25lID0gJyc7XG4gIFVzZXJPYmoucGljdHVyZV91cmwgPSBcInVybCguL2ltZy9pY29uLXVzZXItYW5vbnltb3VzLnBuZylcIjtcblxuXG4gIFVzZXJPYmouc2F2ZV91c2VyX2RhdGEgPSBmdW5jdGlvbiAodXNlcl9uYW1lLCB1c2VyX2VtYWlsLCB1c2VyX3Bhc3N3b3JkLCB1c2VyX2lkX2RvYywgdXNlcl9waG9uZSwgdXNlcl9waWN0dXJlX3VybCkge1xuICAgICAgVXNlck9iai5uYW1lID0gdXNlcl9uYW1lO1xuICAgICAgVXNlck9iai5lbWFpbCA9IHVzZXJfZW1haWw7XG4gICAgICBVc2VyT2JqLnBhc3N3b3JkID0gdXNlcl9wYXNzd29yZDtcbiAgICAgIFVzZXJPYmouaWRlbnRpdHlfZG9jdW1lbnQgPSB1c2VyX2lkX2RvYztcbiAgICAgIFVzZXJPYmoucGhvbmUgPSB1c2VyX3Bob25lO1xuICAgICAgVXNlck9iai5waWN0dXJlX3VybCA9IHVzZXJfcGljdHVyZV91cmw7XG4gICAgICAvL1NBVkUgSU4gUE9VQ0hEQlxuICB9XG5cbiAgVXNlck9iai5lcmFzZV91c2VyX2RhdGEgPSBmdW5jdGlvbiAoKSB7XG4gICAgVXNlck9iai5uYW1lID0gbnVsbDtcbiAgICBVc2VyT2JqLmVtYWlsID0gbnVsbDtcbiAgICBVc2VyT2JqLnBhc3N3b3JkID0gbnVsbDtcbiAgICBVc2VyT2JqLmlkZW50aXR5X2RvY3VtZW50ID0gbnVsbDtcbiAgICBVc2VyT2JqLnBob25lID0gbnVsbDtcbiAgICBVc2VyT2JqLnBpY3R1cmVfdXJsID0gbnVsbDtcbiAgICAvL0RFTEVURSBJTiBQT1VDSERCXG4gIH1cblxuICBVc2VyT2JqLmdldF91c2VyX2RhdGEgPSBmdW5jdGlvbiAoKSB7XG4gICAgLy9MRVZBTlRBIERFIFBPVUNIREIgTE9TIERBVE9TIERFTCBVU1VBUklPLiBTSSBIQVkgTE9TIFBPTkUgRU4gTEFTIFZBUklBQkxFUyBERUwgU0VSVklDSU8uIFNJIE5PIEhBWSBQT05FIFRPRE8gTlVMTFxuICB9XG5cbiAgVXNlck9iai5hZGRfcGhvdG8gPSBmdW5jdGlvbiAodXNlcl9waWN0dXJlX3VybCkge1xuICAgIFVzZXJPYmoucGljdHVyZV91cmwgPSB1c2VyX3BpY3R1cmVfdXJsO1xuICB9XG5cbiAgVXNlck9iai5pc0xvZ2dlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZihVc2VyT2JqLm5hbWUhPW51bGwgJiYgVXNlck9iai5uYW1lIT1cIlwiKXtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1lbHNle1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG5cbiAgcmV0dXJuIFVzZXJPYmo7XG5cbn1dKTtcbiIsInBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdWYWxpZGF0aW9uU2VydmljZScsIFsnJGh0dHAnLCckaW9uaWNQb3B1cCcsIGZ1bmN0aW9uKCRodHRwLCRpb25pY1BvcHVwKSB7XG5cbiAgcmV0dXJuIHtcbiAgICB2YWxpZGF0ZV9ub3RfZW1wdHk6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZih2YWx1ZSE9bnVsbCAmJiB2YWx1ZSE9XCJ1bmRlZmluZWRcIiAmJiB2YWx1ZSE9XCJcIil7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICB2YWxpZGF0ZV90d29fd29yZHM6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZih2YWx1ZSE9bnVsbCAmJiB2YWx1ZSE9XCJ1bmRlZmluZWRcIiAmJiB2YWx1ZSE9XCJcIil7XG4gICAgICAgICAgdmFyIHZhbHVlcyA9IHZhbHVlLnNwbGl0KCcgJykuZmlsdGVyKGZ1bmN0aW9uKHYpe3JldHVybiB2IT09Jyd9KTtcbiAgICAgICAgICBpZiAodmFsdWVzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgLy90d28gb3IgbW9yZSB3b3Jkc1xuICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvL25vdCBlbm91Z2ggd29yZHNcbiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIHZhbGlkYXRlX2VtYWlsOiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYodmFsdWUhPW51bGwgJiYgdmFsdWUhPVwidW5kZWZpbmVkXCIgJiYgdmFsdWUhPVwiXCIpe1xuICAgICAgICAgIHZhciByZSA9IC9eKChbXjw+KClcXFtcXF1cXFxcLiw7Olxcc0BcIl0rKFxcLltePD4oKVxcW1xcXVxcXFwuLDs6XFxzQFwiXSspKil8KFwiLitcIikpQCgoXFxbWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfV0pfCgoW2EtekEtWlxcLTAtOV0rXFwuKStbYS16QS1aXXsyLH0pKSQvO1xuICAgICAgICAgIHJldHVybiByZS50ZXN0KHZhbHVlKTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIHZhbGlkYXRlX2lkZG9jX3V5OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIGlmKHZhbHVlIT1udWxsICYmIHZhbHVlIT1cInVuZGVmaW5lZFwiICYmIHZhbHVlIT1cIlwiKXtcbiAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UoL1xcRC9nLCAnJyk7XG4gICAgICAgICAgdmFyIGRpZyA9IHZhbHVlW3ZhbHVlLmxlbmd0aCAtIDFdO1xuICAgICAgICAgIHZhciBhID0gMDsgdmFyIGkgPSAwO1xuICAgICAgICAgIGlmKHZhbHVlLmxlbmd0aCA8PSA2KXtcbiAgICAgICAgICAgIGZvcihpID0gdmFsdWUubGVuZ3RoOyBpIDwgNzsgaSsrKXtcbiAgICAgICAgICAgICAgdmFsdWUgPSAnMCcgKyB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgZm9yKGkgPSAwOyBpIDwgNzsgaSsrKXtcbiAgICAgICAgICAgIGEgKz0gKHBhcnNlSW50KFwiMjk4NzYzNFwiW2ldKSAqIHBhcnNlSW50KHZhbHVlW2ldKSkgJSAxMDtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIHJlc3VsdDtcbiAgICAgICAgICBpZihhJTEwID09PSAwKXtcbiAgICAgICAgICAgIHJlc3VsdCA9IDA7XG4gICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICByZXN1bHQgPSAxMCAtIGEgJSAxMDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYoZGlnID09IHJlc3VsdCl7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICB9ZWxzZXtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbn1dKTtcbiJdfQ==
