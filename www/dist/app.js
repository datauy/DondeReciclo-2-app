window.VERSION = "0.0.3";var pmb_im={controllers:angular.module("pmb_im.controllers",[]),services:angular.module("pmb_im.services",[])};pmb_im.app=angular.module("pmb_im",["ionic","ionic.wizard","ion-autocomplete","leaflet-directive","pmb_im.controllers","pmb_im.services","ngCordova","ionic-cache-src"]).constant("ApiImEndpoint",{url:"http://www.montevideo.gub.uy"}).constant("ApiDataEndpoint",{url:"/data"}).run(["$ionicPlatform","$rootScope","$cordovaKeyboard",function(e,n,t){n.VERSION=window.VERSION,e.ready(function(){window.cordova&&window.cordova.plugins.Keyboard&&cordova.plugins.Keyboard.hideKeyboardAccessoryBar(!0),ionic.Platform.isFullScreen=!1,window.StatusBar&&StatusBar.styleDefault()})}]).config(["$stateProvider","$urlRouterProvider","$compileProvider","$ionicConfigProvider",function(e,n,t,o){t.debugInfoEnabled(!1),e.state("app",{cache:!1,url:"/app","abstract":!0,templateUrl:"templates/menu.html",controller:"MapController"}).state("app.map",{cache:!1,url:"/map/",views:{menuContent:{templateUrl:"templates/map.html",controller:"PMBCtrl"}}}).state("app.intro",{cache:!1,url:"/intro",views:{menuContent:{templateUrl:"templates/intro.html",controller:"IntroCtrl"}}}),n.otherwise("/app/intro")}]),pmb_im.controllers.controller("AutoCompleteCtrl",["$scope","leafletData","locationAPI",function(e,n,t){e.ionAutocompleteElement=angular.element(document.getElementsByClassName("ion-autocomplete")),e.ionAutocompleteElement.bind("touchend click focus",e.onClick),e.onClick=function(){e.ionAutocompleteElement.controller("ionAutocomplete").showModal()},e.searchLocation=function(e){if(e)return t.searchLocationByStr(e)}}]),pmb_im.controllers.controller("IntroCtrl",["$scope","$state","$cordovaGeolocation","$stateParams","$ionicPlatform","$ionicPopup","LocationsService","DBService",function(e,n,t,o,a,r,i,l){var c=l.initDB();c.info().then(console.log.bind(console)),e.geolocate=function(){var e=!1;ionic.Platform.ready(function(){var o=(ionic.Platform.device(),{timeout:3500,enableHighAccuracy:!0,maximumAge:6e4});t.getCurrentPosition(o).then(function(t){e=!0,i.save_initial_position(t),n.go("app.map")},function(e){n.go("app.map")})})},e.$on("$ionicView.enter",function(){e.geolocate()})}]),pmb_im.controllers.controller("MapController",["$scope","$sce","_","$cordovaFile","$cordovaGeolocation","$compile","$state","$stateParams","$ionicModal","$ionicPopup","leafletData","ConfigService","ContactService","PMBService","LocationsService","ContainerService","MapService","FaqService","CategoriesService","AuthService","UserService","DBService","$timeout","$location","ErrorService","$ionicSlideBoxDelegate","$ionicScrollDelegate","PopUpService","$ionicPlatform","ConnectivityService","$cordovaInAppBrowser","$interval","$cordovaKeyboard","NewsService","ResiduosService",function(n,t,o,a,r,i,c,s,u,m,d,p,_,f,h,g,v,y,w,b,E,S,k,B,C,I,M,P,$,R,A,x,N,T,D){n.featureReports={},n.containers={},n.baseURL=p.baseURL,n.user_cached_image="",n.report_detail_id=null,n.one_value_popup=null,n.abuse_name=null,n.abuse_email=null,n.abuse_subject=null,n.abuse_message=null,n.search_str="",n.residuosArray=[],n.select_residuo=null,n.actualSliderIndex=0,n.$on("$ionicView.beforeEnter",function(){S.initDB(),n.set_network_events(),n.find_me(16),n.walkthrough()}),$.onHardwareBackButton(function(){e.stopPropagation(),n.hide_special_divs}),n.openWebsite=function(e){var n={location:"no",clearcache:"yes",toolbar:"no"};A.open(e,"_blank",n).then(function(e){})["catch"](function(e){})},n.set_network_events=function(){n.create_online_map(),n.addPinsLayer(),n.map.center={lat:-34.901113,lng:-56.164531,zoom:16}},n.create_online_map=function(){return null==n.map&&void(n.map={defaults:{tileLayer:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",minZoom:10,maxZoom:18,zoomControlPosition:"topleft"},markers:{},events:{map:{enable:["context"],logic:"emit"}}})},n.clickOnMenuIcon=function(){var e=document.getElementById("nav-icon-lines"),t=document.getElementById("expanded_menu");n.toggleClassOnElement(e,"open"),n.toggleClassOnElement(t,"open")};n.toggleClassOnElement=function(e,n){if(e&&n){var t=e.className,o=t.indexOf(n);o==-1?t+=" "+n:t=t.substr(0,o)+t.substr(o+n.length),e.className=t}},n.next=function(){I.next(),n.actualSliderIndex=I.currentIndex()},n.previous=function(){I.previous(),n.actualSliderIndex=I.currentIndex()},n.scrollMe=function(e){B.hash(e);var n=M.$getByHandle("content");n.anchorScroll()},n.goTo=function(e){B.hash("item"+e),M.anchorScroll()},n.set_active_option=function(e){return!1},n.hide_special_divs=function(){var e=document.getElementById("container_details");e&&(e.className="");var n=document.getElementById("navigation_back");n&&(n.className="hidden");var t=document.getElementById("navigation_menu");t&&(t.className="")},n.addMapControls=function(){return!1},n.startReportFromCrosshairs=function(){},n.onSearchChange=function(){var e=document.getElementById("search_in_dictionary"),t=e.value.trim();t.length>=3?n.searchResiduosByStr(t):n.hideSearchResults()},n.searchResiduosByStr=function(e){D.getByStr(e).then(function(e){var t=e.data.residuos;n.residuosArray=t;var o=document.getElementById("searchResults");o.className=""})},n.hideSearchResults=function(){n.residuosArray=[];var e=document.getElementById("searchResults");e.className="hidden";var t=document.getElementById("selected_residuo_container");t.className="selected_residuo hidden"},n.select_residuo=function(e){n.hideSearchResults();var t=e.properties.Programas;document.getElementById("selected_residuo_name").innerHTML=e.properties.Nombre,document.getElementById("selected_residuo_condition").innerHTML=e.properties.Condiciones;var o=document.getElementById("selected_residuo_container");o.className="selected_residuo",n.filterPins(t)},n.unselect_residuo=function(e){var t=document.getElementById("selected_residuo_container");t.className="selected_residuo hidden",n.showAllPins()},n.filterPins=function(e){var t=e.split("."),o=Object.keys(n.containers);o.forEach(function(e){var o=e.replace("progId-","");t.indexOf(o)<0?n.containers[e].forEach(function(e,n){e._icon.style.display="none"}):n.containers[e].forEach(function(e,n){e._icon.style.display="block"})})},n.showAllPins=function(){var e=Object.keys(n.containers);e.forEach(function(e){n.containers[e].forEach(function(e,n){e._icon.style.display="block"})})},n.addPinsLayer=function(){n.containers={};var e=p.baseURL;onEachFeature=function(e,t){e.properties&&(n.containers["progId-"+e.properties.ProgramaSubProgID]||(n.containers["progId-"+e.properties.ProgramaSubProgID]=[]),n.containers["progId-"+e.properties.ProgramaSubProgID].push(t),t.on("click",function(e){n.selected_container=g.build(e.target.feature.properties),null!=n.selected_container.Horario&&void 0!=n.selected_container.Horario&&""!=n.selected_container.Horario||(n.selected_container.Horario="No especifica"),n.selected_container.setLatLng(e.target.feature.geometry.coordinates[1],e.target.feature.geometry.coordinates[0]);var t=document.getElementById("container_details");t.className="open";var o=document.getElementById("navigation_back");o.className="";var a=document.getElementById("navigation_menu");a.className="hidden",n.goToCenter(n.selected_container.lon,n.selected_container.lat)}))},l=new L.LayerJSON({url:e+"/datauy/get_containers_json/{bbox}",locAsGeoJSON:!0,minShift:5,precision:10,onEachFeature:onEachFeature}),d.getMap().then(function(e){null!=n.jsonLayer&&e.removeLayer(n.jsonLayer),n.jsonLayer=l,e.addLayer(l)}),n.lastMarkerLayer=null,l.on("dataloaded",function(e){n.reports=e.data.features}),l.on("layeradd",function(t){t.layer.eachLayer(function(t){var o="/img/pin-container.svg";t.feature.properties.pin_url&&(o=t.feature.properties.pin_url);var a=L.icon({iconUrl:e+o,iconSize:[29,34],iconAnchor:[8,8],popupAnchor:[0,-8]});t.setIcon(a),void 0===n.featureReports[t.feature.properties.GID]&&(n.featureReports[t.feature.properties.GID]=t)})})},n.goToCenter=function(e,t){var o={timeout:3e3,enableHighAccuracy:!0};r.getCurrentPosition(o).then(function(o){var a=o.coords.latitude,r=o.coords.longitude;n.getRoad(a,r,t,e)},function(n){t-=6e-4,v.centerMapOnCoords(t,e,17)})},n.lastRoad=null,n.nav_back=function(){n.hide_special_divs(),null!=n.lastRoad&&(n.lastRoad.spliceWaypoints(0,2),d.getMap().then(function(e){e.removeControl(n.lastRoad),n.lastRoad=null}))},n.walkthrough=function(){if(null!=n.walkthrough_modal)return!1;var e=S.getDoneWalkthrough();e.then(function(e){null!=e.status&&"done"==e.status||n.openWalkThroughModal()})["catch"](function(e){n.openWalkThroughModal()})},n.walkthroughFromMenu=function(){n.closeMainMenu(),n.openWalkThroughModal()},n.openWalkThroughModal=function(){u.fromTemplateUrl("templates/walkthrough.html",{scope:n,hardwareBackButtonClose:!1,animation:"slide-in-up"}).then(function(e){n.walkthrough_modal=e,n.walkthrough_modal.show()})},n.finishWalkthrough=function(){n.walkthrough_modal.hide(),n.walkthrough_modal.remove(),S.saveDoneWalkthrough()},n.subject="Feedback",n.toggleGroup=function(e){n.isGroupShown(e)?n.shownGroup=null:n.shownGroup=e,M.resize()},n.isGroupShown=function(e){return n.shownGroup===e},n.openProgramas=function(){n.main_menu_modal.hide(),n.main_menu_modal.remove(),u.fromTemplateUrl("templates/programas.html",{scope:n,hardwareBackButtonClose:!0,animation:"none"}).then(function(e){n.item_modal=e,n.item_modal.show()})},n.clickTipoResiduo=function(e){n.scrollMe(e)},n.openClasificar=function(){n.main_menu_modal.hide(),n.main_menu_modal.remove(),u.fromTemplateUrl("templates/clasificar.html",{scope:n,hardwareBackButtonClose:!0,animation:"none"}).then(function(e){n.item_modal=e,n.item_modal.show()})},n.openAboutProyect=function(){n.main_menu_modal.hide(),n.main_menu_modal.remove(),u.fromTemplateUrl("templates/sobre_proyecto.html",{scope:n,hardwareBackButtonClose:!0,animation:"none"}).then(function(e){n.item_modal=e,n.item_modal.show()})},n.news=null,n.gotoLink=function(e){window.open(e,"_system")},n.openNews=function(){n.showDiv("menu-spinner"),T.all().then(function(e){n.news=e.data.items,null!=n.item_modal&&(n.item_modal.hide(),n.item_modal.remove()),n.hideDiv("menu-spinner"),n.main_menu_modal.hide(),n.main_menu_modal.remove(),u.fromTemplateUrl("templates/news.html",{scope:n,hardwareBackButtonClose:!0,animation:"none"}).then(function(e){n.item_modal=e,n.item_modal.show()})})},n.showDiv=function(e){var n=document.getElementById(e);n.classList.remove("hidden")},n.hideDiv=function(e,n){var t=document.getElementById(e);t.className=t.className+" hidden"},n.openContact=function(){n.subject="Feedback",null!=n.item_modal&&(n.item_modal.hide(),n.item_modal.remove()),n.main_menu_modal.hide(),n.main_menu_modal.remove(),u.fromTemplateUrl("templates/contact.html",{scope:n,hardwareBackButtonClose:!0,animation:"none"}).then(function(e){n.item_modal=e,n.item_modal.show()})},n.openContactSuccess=function(){n.item_modal.hide(),n.item_modal.remove(),u.fromTemplateUrl("templates/contact_success.html",{scope:n,hardwareBackButtonClose:!0,animation:"none"}).then(function(e){n.item_modal=e,n.item_modal.show()})},n.send_contact_request=function(){var e=document.getElementById("contact_nombre"),t=document.getElementById("contact_email"),o=document.getElementById("contact_select"),a=document.getElementById("contact_mensaje"),r=document.getElementById("contact_error_label");if(C.check_field(e,"notNull",r)&&C.check_field(t,"notNull",r)&&C.check_field(t,"email",r)&&C.check_field(o,"select",r)&&C.check_field(a,"notNull",r))_.send_contact(e.value,t.value,o[o.selectedIndex].value,a.value).then(function(e){C.http_data_response_is_successful_ajax(e)&&n.openContactSuccess()});else{var i=document.getElementById("contact_error");i.className="contact_error"}},n.openMainMenuFromItem=function(){n.item_modal.hide(),n.item_modal.remove(),u.fromTemplateUrl("templates/main_menu.html",{scope:n,hardwareBackButtonClose:!0,animation:"none"}).then(function(e){n.main_menu_modal=e,n.main_menu_modal.show()})},n.openMainMenu=function(){u.fromTemplateUrl("templates/main_menu.html",{scope:n,hardwareBackButtonClose:!0,animation:"none"}).then(function(e){n.main_menu_modal=e,n.main_menu_modal.show()})},n.closeMainMenu=function(){n.main_menu_modal.hide(),n.main_menu_modal.remove()},n.getRoad=function(e,t,o,a){d.getMap().then(function(r){r.closePopup();var i=L.icon({iconUrl:"./img/me.svg",iconSize:[29,34],iconAnchor:[8,8],popupAnchor:[0,-8]});null!=n.now_marker&&r.removeLayer(n.now_marker),n.now_marker=L.marker([e,t],{icon:i}).addTo(r),null!=n.lastRoad&&(n.lastRoad.spliceWaypoints(0,2),r.removeControl(n.lastRoad),n.lastRoad=null),n.lastRoad=L.Routing.control({waypoints:[L.latLng(e,t),L.latLng(o,a)],language:"es",router:L.Routing.mapbox("pk.eyJ1IjoibGl0b3hwZXJhbG9jYSIsImEiOiJjajNhdHUzbTMwMTQwMnFwaGRidmc2emZ5In0.dED4D4_LBjRc-sGa5zt5Yg"),createMarker:function(e,n,t){return null},lineOptions:{styles:[{color:"#4c4c4c",opacity:1,weight:5}]},fitSelectedRoutes:!1}).addTo(r),o-=8e-4,v.centerMapOnCoords(o,a,17)})},n.model=[],n.externalModel=[],n.selectedItems=[],n.preselectedSearchItems=[],n.clickedValueModel="",n.removedValueModel="",n.itemsRemoved=function(e){n.removedValueModel=e},n.user_options=function(){var e=document.getElementById("user-options-menu");if("block"==e.style.display)e.style.display="none";else{var t=E.name;null==t?n.show_anonymous_menu():n.show_user_menu()}},n.show_anonymous_menu=function(){var e=document.getElementById("user-options-menu"),t="<div id='auth_options'><div class='nonauth-link' ng-click='show_login_modal()'>Iniciar sesión</div>";t+="<div class='nonauth-link' ng-click='show_sign_up_modal()'>Registrarse</div></div>",e.innerHTML=t,i(e)(n),e.style.height="120px",e.style.width="150px",e.style.display="block"},n.show_user_menu=function(){var e=document.getElementById("user-options-menu"),t=E.name+"<div id='auth_options'><div class='user-logged-link' ng-click='show_edit_profile_modal()'>Mi perfil</div>";t+="<div class='user-logged-link' ng-click='list_offline_reports_menu()'>Reportes pendientes</div>",t+="<div class='user-logged-link' ng-click='sign_out()'>Cerrar sesión</div></div>",e.innerHTML=t,i(e)(n),e.style.height="160px",e.style.width="200px",e.style.display="block"},n.create_field_array=function(e,n,t){var o=new Array;return o.name=e,o.type=n,o.value=t,o},n.sign_in=function(e,t){if(R.isOnline()){document.getElementById("spinner-inside-modal").style.display="block";var o=new Array;o.push(n.create_field_array("Email","email",e)),o.push(n.create_field_array("Contraseña","notNull",t)),C.check_fields(o,"error_container")?b.sign_in(t,e).then(function(o){C.http_response_is_successful(o,"error_container")?(E.save_user_data(o.data.name,e,t,o.data.identity_document,o.data.phone,o.data.picture_url),S.saveUser(o.data.name,e,t,o.data.identity_document,o.data.phone,o.data.picture_url),document.getElementById("spinner-inside-modal").style.display="none",n.close_login_modal(),n.set_user_picture(1)):document.getElementById("spinner-inside-modal").style.display="none"},function(e){document.getElementById("spinner-inside-modal").style.display="none",C.show_error_message("error_container",e.statusText)}):document.getElementById("spinner-inside-modal").style.display="none"}else P.show_alert("Sin conexión a internet","Para iniciar sesión debe estar conectado a internet")},n.sign_in_ajax=function(e,t){b.sign_in(t,e).then(function(o){return C.http_response_is_successful_ajax(o)?(E.save_user_data(o.data.name,e,t,o.data.identity_document,o.data.phone,o.data.picture_url),S.saveUser(o.data.name,e,t,o.data.identity_document,o.data.phone,o.data.picture_url),n.set_user_picture(1),1):0},function(e){return 0})},n.sign_out=function(){E.erase_user_data(),S.eraseUser(),document.getElementById("spinner").style.display="none",n.set_user_picture(0),document.getElementById("user-options-menu").style.display="none"},n.check_user_logged=function(){return!1},n.set_offline_user=function(){},n.set_user_picture=function(e){},n.search_street=function(){n.hide_special_divs(),document.getElementById("search-textbox").parentNode.click()},n.find_me=function(e){n.set_active_option("button-find-me"),n.hide_special_divs();var t={timeout:3e3,enableHighAccuracy:!0};r.getCurrentPosition(t).then(function(t){var o=e,a=L.icon({iconUrl:"./img/me.svg",iconSize:[29,34],iconAnchor:[8,8],popupAnchor:[0,-8]});d.getMap().then(function(e){null!=n.now_marker&&e.removeLayer(n.now_marker),n.now_marker=L.marker([t.coords.latitude,t.coords.longitude],{icon:a}).addTo(e),v.centerMapOnCoords(t.coords.latitude,t.coords.longitude,o)})},function(e){})}}]),pmb_im.controllers.controller("PMBCtrl",["$scope","$state","leafletData","PMBService","ContainerService","locationAPI","MapService","_","Loader","LocationsService",function(e,n,t,o,a,r,i,l,c,s){e.reportButton={text:"Reportar",state:"unConfirmed"},e.$on("$ionicView.afterEnter",function(){document.getElementById("spinner").style.display="none";t.getMap();""!=s.initial_lat?i.centerMapOnCoords(s.initial_lat,s.initial_lng,16):i.centerMapOnCoords(-34.901113,-56.164531,16)}),e.searchMode="calle.lugar",e.location={calle:null,esquina:null,lugar:null};var u={tipo:null,pathParams:[]};e.$on("$stateChangeSuccess",function(){e.ionAutocompleteElement=angular.element(document.getElementsByClassName("ion-autocomplete")),e.ionAutocompleteElement.bind("touchend click focus",e.onClick)}),e.initReport=function(){var n,o=L.icon({iconUrl:"img/pin@x2.png",iconSize:[70,110],iconAnchor:[-18,55]});"unConfirmed"==e.reportButton.state&&(e.reportButton.text="Confirmar",e.reportButton.state="about2Confirm",t.getMap().then(function(t){n=new L.marker(t.getCenter(),{icon:o,clickable:!1}).addTo(t),ReportService._new(),ReportService.current.setLatLng(t.getCenter()),e.ionAutocompleteElement=angular.element(document.getElementsByClassName("ion-autocomplete")),e.ionAutocompleteElement.bind("touchend click focus",e.onClick)}))},e.isNumeric=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},e.searchLocation=function(n){console.log("Se ejecuto: "+n);var t;if(n&&n.length>=2){if(console.log("Y entró: "+n),"calle.lugar"==e.searchMode)t=r.searchLocationByStr(n);else{if(e.isNumeric(n.trim())){var o=[],a={descTipo:"NUMERO",nombre:n,codigo:n};return o[0]=a,o}t=r.searchEsquinaByStr({calle:e.selectedItem.codigo,esquina:n})}return t}return[]},e.onClick=function(){e.ionAutocompleteElement.controller("ionAutocomplete").showModal()},e.itemsRemoved=function(n){e.searchMode="calle.lugar",e.ionAutocompleteElementSearch.attr("placeholder","Buscar calle")},e.itemsClicked=function(n){if(e.clickedValueModel=n,e.selectedItem=n.item,e.ionAutocompleteElementSearch=angular.element(document.getElementsByClassName("ion-autocomplete-search")),"esquina.numero"==e.searchMode){u.pathParams=[],e.location.esquina=e.selectedItem,u.pathParams.push(e.location.calle.codigo),u.pathParams.push(e.location.esquina.codigo);var t="";e.isNumeric(e.selectedItem.nombre)?u.tipo="DIRECCION":(u.tipo="ESQUINA",t="esquina"),r.getLocationGeom(u).then(function(n){i.goToPlace(angular.extend({nombre:e.location.calle.nombre+" "+t+" "+e.selectedItem.nombre,geom:n.geoJSON},n),e),e.searchMode="calle.lugar",e.ionAutocompleteElementSearch.attr("placeholder","Buscar calle"),e.externalModel=[]})}else e.location.calle=e.selectedItem,e.searchMode="esquina.numero",e.ionAutocompleteElementSearch.attr("placeholder","Esquina o número"),e.ionAutocompleteElement.controller("ionAutocomplete").showModal(),e.preselectedSearchItems=[]},e.itemsCanceled=function(n){var t=parseInt(n.searchQuery);Number.isInteger(t)&&(u.tipo="DIRECCION",u.pathParams.push(e.location.calle.codigo),u.pathParams.push(t),r.getLocationGeom(u).then(function(n){i.goToPlace(angular.extend({nombre:e.selectedItem.nombre+" "+t},n),e),e.searchMode="calle.lugar"},function(n){c.showAlert("Error","No existe esa direccion").then(function(n){e.ionAutocompleteElement.controller("ionAutocomplete").showModal()})}))}}]),pmb_im.services.factory("AuthService",["$http","$cordovaFileTransfer","ConfigService",function(e,n,t){var o=t.baseURL+"/auth/ajax/";return{sign_in:function(n,t){return e.get(o+"sign_in",{params:{password_sign_in:n,email:t}})},sign_out:function(n,t){return e.get(o+"sign_out",{params:{password_sign_in:n,email:t}})},create_user:function(n,t,a,r,i){return e.get(o+"create_user",{params:{form_email:n,name:t,password_register:a,identity_document:r,phone:i}})},change_password:function(n,t,a,r,i){return e.get(o+"create_user",{params:{login_email:n,name:t,password_register:a,identity_document:r,phone:i}})},edit_user:function(t,a,r,i,l,c,s){if(null!=s&&""!=s){var u={fileKey:"photo",params:{email:t,password_sign_in:a,name:r,new_email:i,identity_document:l,phone:c}},m=!0;return n.upload(o+"edit_user",s,u,m)}return e.get(o+"edit_user",{params:{email:t,password_sign_in:a,name:r,new_email:i,identity_document:l,phone:c}})}}}]),pmb_im.services.factory("CategoriesService",["$http","LocationsService","ConfigService","DBService",function(e,n,t,o){var a=t.baseURL+"/report/new/ajax";return{all:function(){return e.get(a,{params:{lat:n.new_report_lat,lon:n.new_report_lng,format:"json"}})},getCachedCategories:function(){return o.getCategories()}}}]),pmb_im.services.factory("ConfigService",["$http",function(e){var n={};return n.baseURL="http://dondereciclo.development.datauy.org",n}]),pmb_im.services.factory("ConnectivityService",["$cordovaNetwork",function(e){return{isOnline:function(){return ionic.Platform.isWebView()?e.isOnline():navigator.onLine},isOffline:function(){return ionic.Platform.isWebView()?!e.isOnline():!navigator.onLine}}}]),pmb_im.services.factory("ContactService",["$http","ConfigService",function(e,n){var t=n.baseURL+"/datauy/contact/";return{send_contact:function(n,o,a,r){return e.get(t+n+"/"+o+"/"+a+"/"+r,{params:{}})}}}]),pmb_im.services.factory("ContainerService",["$http","leafletData","ConfigService",function(e,n,t){function o(e){angular.extend(this,e)}var a=t.baseURL+"/report/ajax/";return o.getById=function(n){var t=a+n;return e.get(t).then(function(e){return e})},o._default=function(){var e={lat:0,lon:0,title:null,detail:null,may_show_name:1,category:null,phone:null,pc:"",file:null,name:null,email:null,submit_sign_in:1,password_sign_in:null,remember_me:1};return new o(e)},o._all=[],o.current={},o._new=function(){return o._default()},o.build=function(e){return new o(e)},o.prototype.setLatLng=function(e,n){this.lat=e,this.lon=n},o}]),pmb_im.services.factory("DBService",["$q",function(e){function n(e,n,t,o,r,i){var l={_id:"user-logged",name:e,email:n,password:t,identity_document:o,phone:r,picture_url:i};a().then(function(e){return l._rev=e._rev,f.put(l)})["catch"](function(e){return f.put(l)})}function t(){var e={_id:"done-walkthrough",status:"done"};return f.put(e)}function o(){return f.get("done-walkthrough")}function a(){return f.get("user-logged")}function r(){f.get("user-logged").then(function(e){return f.remove(e)})}function i(){return f=new PouchDB("pmb_local_db")}function l(e){var n=new Date,t="report_"+n.getFullYear()+(n.getMonth()+1)+n.getDate()+n.getMilliseconds();return e._id=t,f.put(e)}function c(e){return f.put(e)}function s(){return f.get("categories-list")}function u(e){s().then(function(n){return e._rev=n._rev,f.put(e)})["catch"](function(n){return e._id="categories-list",f.put(e)})}function m(e){return f.get(e)}function d(){return f.allDocs({include_docs:!0,attachments:!1,startkey:"report_",endkey:"report_￿"})}function p(e){f.get(e).then(function(e){return f.remove(e)})}function _(e){return f.remove(e)}var f;return{initDB:i,saveUser:n,getUser:a,eraseUser:r,saveReport:l,getReport:m,getAllReports:d,updateReport:c,deleteReport:p,deleteGivenReport:_,getCategories:s,saveCategories:u,getDoneWalkthrough:o,saveDoneWalkthrough:t}}]),pmb_im.services.factory("ErrorService",["$http","$ionicPopup","ValidationService",function(e,n,t){return{http_response_is_successful:function(e,n){var t=document.getElementById(n);return 0==e.data.result?(t.innerHTML="<h3>"+e.data.message+"</h3>",t.style.display="block",!1):(t.style.display="none",!0)},http_response_is_successful_ajax:function(e){return 0!=e.data.result},http_response_is_successful_popup:function(e){if(0==e.data.result){var t=n.alert({title:"Error",template:e.data.message});return t.then(function(e){return!1}),!1}return!0},http_data_response_is_successful:function(e,n){var t=document.getElementById(n);return 0==e.result?(t.innerHTML="<h3>"+e.message+"</h3>",t.style.display="block",!1):(t.style.display="none",!0)},http_data_response_is_successful_ajax:function(e){return 0!=e.result},show_error_message:function(e,n){var t=document.getElementById(e);return t.innerHTML="<h3>"+n+"</h3>",t.style.display="block",!1},show_error_message_popup:function(e){var t=n.alert({title:"Error",template:e});return t.then(function(e){return!1}),!1},check_fields:function(e,n){var o="";if(e.forEach(function(e){"notNull"==e.type&&(t.validate_not_empty(e.value)||(o=o+'<h3>- El campo "'+e.name+'" no puede estar vacío.</h3>')),"email"==e.type&&(t.validate_email(e.value)||(o=o+'<h3>- El campo "'+e.name+'" no es una dirección de correo válida.</h3>')),"iddoc_uy"==e.type&&(t.validate_iddoc_uy(e.value)||(o=o+'<h3>- El campo "'+e.name+'" no es una cédula uruguaya válida.</h3>')),"two_words"==e.type&&(t.validate_two_words(e.value)||(o=o+'<h3>- El campo "'+e.name+'" debe contener al menos dos palabras.</h3>'))}),""==o)return!0;var a=document.getElementById(n);return a.innerHTML=o,a.style.display="block",!1},check_field:function(e,n,o){var a=!0;return"notNull"==n&&(t.validate_not_empty(e.value)||(a=!1,o.innerHTML="Debes completar<br/>el campo "+e.name)),"email"==n&&(t.validate_email(e.value)||(a=!1,o.innerHTML="El campo "+e.name+"<br/>no es un email válido")),"iddoc_uy"==n&&(t.validate_iddoc_uy(e.value)||(a=!1)),"two_words"==n&&(t.validate_two_words(e.value)||(a=!1)),"textarea"==n&&(t.validate_not_empty(e.innerHTML)||(a=!1,o.innerHTML="Debes completar<br/>el campo "+e.name)),"select"==n&&(t.validate_not_minusone(e[e.selectedIndex].value)||(a=!1,o.innerHTML="Debes elegir valor<br/>para el campo "+e.name)),a?e.style.borderColor="#979797":e.style.borderColor="red",a}}}]),pmb_im.services.factory("FaqService",["$http","ConfigService",function(e,n){var t=n.baseURL+"/faq";return{all:function(){return e.get(t,{params:{ajax:"1"}})}}}]),pmb_im.services.factory("Loader",["$ionicLoading","$timeout","$ionicPopup",function(e,n,t){var o={showLoading:function(n){n=n||"Loading...",e.show({template:n})},hideLoading:function(){e.hide()},toggleLoadingWithMessage:function(e,t){var o=this;o.showLoading(e),n(function(){o.hideLoading()},t||3e3)},confirmPopup:function(e,n){var o=t.confirm({title:e,template:n});return o},showAlert:function(e,n){var o=t.alert({title:e,template:n});return o}};return o}]),pmb_im.services.factory("LocationsService",[function(){var e={};return e.initial_lat="",e.initial_lng="",e.new_report_lat="",e.new_report_lng="",e.save_initial_position=function(n){e.initial_lat=n.coords.latitude,e.initial_lng=n.coords.longitude},e.save_new_report_position=function(n,t){e.new_report_lat=n,e.new_report_lng=t},e.savedLocations=[],e}]),pmb_im.services.factory("MapService",["leafletData","$compile",function(e,n){proj4.defs("EPSG:32721","+proj=utm +zone=21 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs");var t={};return t.goToPlace=function(n,t){var o={properties:{nombre:n.nombre},crs:{type:"name",properties:{name:"urn:ogc:def:crs:EPSG::32721"}}};o=angular.extend(o,n.geom),e.getMap().then(function(e){var n;L.Proj.geoJson(o,{pointToLayer:function(e,t){return n=t,L.marker(t)}});e.setView(n,18)})},t.centerMapOnCoords=function(n,t,o){e.getMap().then(function(e){e.setView(new L.LatLng(n,t),o)})},t}]),pmb_im.services.factory("NewsService",["$http","ConfigService",function(e,n){var t=n.baseURL+"/datauy/news";return{all:function(){return e.get(t,{params:{}})}}}]),pmb_im.services.factory("PMBService",["$http","leafletData","$cordovaFileTransfer","ConfigService",function(e,n,t,o){var a=o.baseURL,r={report:function(n){if(n.file){var o={fileKey:"photo",fileName:"image.jpeg",chunkedMode:!1,mimeType:"image/jpeg",params:n};o.headers={Connection:"Close"};var r=!0;return t.upload(a+"/report/new/mobile",n.file,o,r)}return e.get(a+"/report/new/mobile",{params:n})},subscribe:function(n,t){return e.get(a+"/alert/subscribe_ajax",{params:{rznvy:n,id:t,type:"updates"}})},abuse:function(n,t,o,r,i){return e.get(a+"/contact/submit_ajax",{params:{em:n,id:t,name:o,subject:r,message:i}})},hide:function(n){var t="/report/delete_ajax/"+n;return e.get(a+t,{params:{}})},comment:function(n,t,o,r,i,l,c){return e.get(a+"/report/update_ajax",{params:{submit_update:1,id:n,may_show_name:i,add_alert:l,fixed:c,update:t,name:o,form_rznvy:r}})}};return r}]),pmb_im.services.factory("PopUpService",["$ionicPopup","ValidationService",function(e,n){return{show_alert:function(n,t){var o=e.alert({title:n,template:t});return o.then(function(e){return!0}),!0},confirmPopup:function(n,t){var o=e.confirm({title:n,template:t});return o},askForOneValuePopUp:function(t,o,a,r,i){$scope=t;var l=e.show({template:r+': <input type="text" id="one_value_popup"><div id="error_container_inside"></div>',title:o,subTitle:a,scope:$scope,buttons:[{text:"Cancelar"},{text:"<b>Enviar</b>",type:"button-positive",onTap:function(e){var t="",o=document.getElementById("one_value_popup").value;if("notNull"==i&&(n.validate_not_empty(o)||(t=t+'<h3>- El campo "'+r+'" no puede estar vacío.</h3>')),"email"==i&&(n.validate_email(o)||(t=t+'<h3>- El campo "'+r+'" no es una dirección de correo válida.</h3>')),"iddoc_uy"==i&&(n.validate_iddoc_uy(o)||(t=t+'<h3>- El campo "'+r+'" no es una cédula uruguaya válida.</h3>')),"two_words"==i&&(n.validate_two_words(o)||(t=t+'<h3>- El campo "'+r+'" debe contener al menos dos palabras.</h3>')),""==t)return o;var a=document.getElementById("error_container_inside");a.innerHTML=t,a.style.display="block",e.preventDefault()}}]});return l}}}]),pmb_im.services.factory("ResiduosService",["$http","ConfigService",function(e,n){var t=n.baseURL+"/datauy/get_residuos_json/";return{getByStr:function(n){return e.get(t+n,{params:{}})}}}]),pmb_im.services.factory("locationAPI",["$http","$q","ApiImEndpoint","ApiDataEndpoint",function(e,n,t,o){var a="ubicacionesRestProd",r={};return r.searchLocationByStr=function(n){return e.get(t.url+"/"+a+"/calles",{method:"GET",params:{nombre:n}})},r.searchEsquinaByStr=function(n){return e.get(t.url+"/"+a+"/cruces/"+n.calle+"/",{params:{nombre:n.esquina}})},r.getLocationGeom=function(n){for(var o=t.url+"/"+a+r.getParamPathByTipo(n.tipo),i=0;i<n.pathParams.length;i++)o+="/"+n.pathParams[i];return e.get(o).then(function(e){return e.data})},r.getParamPathByTipo=function(e){var n={ESQUINA:"/esquina",DIRECCION:"/direccion"};return n[e]},r}]),pmb_im.services.factory("_",[function(){return window._}]),pmb_im.services.factory("UserService",["$http",function(e){var n={};return n.name=null,n.email=null,n.password=null,n.identity_document=null,n.phone="",n.picture_url="url(./img/icon-user-anonymous.png)",n.save_user_data=function(e,t,o,a,r,i){n.name=e,n.email=t,n.password=o,n.identity_document=a,n.phone=r,n.picture_url=i},n.erase_user_data=function(){n.name=null,n.email=null,n.password=null,n.identity_document=null,n.phone=null,n.picture_url=null},n.get_user_data=function(){},n.add_photo=function(e){n.picture_url=e},n.isLogged=function(){return null!=n.name&&""!=n.name},n}]),pmb_im.services.factory("ValidationService",["$http","$ionicPopup",function(e,n){return{validate_not_minusone:function(e){return e!=-1},validate_not_empty:function(e){return null!=e&&"undefined"!=e&&""!=e},validate_two_words:function(e){if(null!=e&&"undefined"!=e&&""!=e){var n=e.split(" ").filter(function(e){return""!==e});return n.length>1}return!1},validate_email:function(e){if(null!=e&&"undefined"!=e&&""!=e){var n=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return n.test(e)}return!1},validate_iddoc_uy:function(e){if(null!=e&&"undefined"!=e&&""!=e){e=e.replace(/\D/g,"");var n=e[e.length-1],t=0,o=0;if(e.length<=6)for(o=e.length;o<7;o++)e="0"+e;for(o=0;o<7;o++)t+=parseInt("2987634"[o])*parseInt(e[o])%10;
var a;return a=t%10===0?0:10-t%10,n==a}return!1}}}]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImNvbnRyb2xsZXJzL2F1dG9jb21wbHRlLmN0cmwuanMiLCJjb250cm9sbGVycy9pbnRyby5jdHJsLmpzIiwiY29udHJvbGxlcnMvbWFwLmN0cmwuanMiLCJjb250cm9sbGVycy9wbWIuY3RybC5qcyIsInNlcnZpY2VzL2F1dGguc2VydmljZXMuanMiLCJzZXJ2aWNlcy9jYXRlZ29yaWVzLnNlcnZpY2UuanMiLCJzZXJ2aWNlcy9jb25maWcuc2VydmljZXMuanMiLCJzZXJ2aWNlcy9jb25uZWN0aXZpdHkuc2VydmljZXMuanMiLCJzZXJ2aWNlcy9jb250YWN0LnNlcnZpY2VzLmpzIiwic2VydmljZXMvY29udGFpbmVyLnNlcnZpY2UuanMiLCJzZXJ2aWNlcy9kYi5zZXJ2aWNlcy5qcyIsInNlcnZpY2VzL2Vycm9yLnNlcnZpY2VzLmpzIiwic2VydmljZXMvZmFxLnNlcnZpY2UuanMiLCJzZXJ2aWNlcy9sb2FkZXIuc2VydmljZXMuanMiLCJzZXJ2aWNlcy9sb2NhdGlvbnNTZXJ2aWNlLmpzIiwic2VydmljZXMvbWFwLnNlcnZpY2VzLmpzIiwic2VydmljZXMvbmV3cy5zZXJ2aWNlLmpzIiwic2VydmljZXMvcG1iLnNlcnZpY2UuanMiLCJzZXJ2aWNlcy9wb3B1cC5zZXJ2aWNlcy5qcyIsInNlcnZpY2VzL3Jlc2lkdW9zLnNlcnZpY2UuanMiLCJzZXJ2aWNlcy91YmljYWNpb25lcy5zZXJ2aWNlcy5qcyIsInNlcnZpY2VzL3VuZGVyc2NvcmUuc2VydmljZS5qcyIsInNlcnZpY2VzL3VzZXIuc2VydmljZXMuanMiLCJzZXJ2aWNlcy92YWxpZGF0aW9uLnNlcnZpY2VzLmpzIl0sIm5hbWVzIjpbInBtYl9pbSIsImNvbnRyb2xsZXJzIiwiYW5ndWxhciIsIm1vZHVsZSIsInNlcnZpY2VzIiwiYXBwIiwiY29uc3RhbnQiLCJ1cmwiLCJydW4iLCIkaW9uaWNQbGF0Zm9ybSIsIiRyb290U2NvcGUiLCIkY29yZG92YUtleWJvYXJkIiwiVkVSU0lPTiIsIndpbmRvdyIsInJlYWR5IiwiY29yZG92YSIsInBsdWdpbnMiLCJLZXlib2FyZCIsImhpZGVLZXlib2FyZEFjY2Vzc29yeUJhciIsImlvbmljIiwiUGxhdGZvcm0iLCJpc0Z1bGxTY3JlZW4iLCJTdGF0dXNCYXIiLCJzdHlsZURlZmF1bHQiLCJjb25maWciLCIkc3RhdGVQcm92aWRlciIsIiR1cmxSb3V0ZXJQcm92aWRlciIsIiRjb21waWxlUHJvdmlkZXIiLCIkaW9uaWNDb25maWdQcm92aWRlciIsImRlYnVnSW5mb0VuYWJsZWQiLCJzdGF0ZSIsImNhY2hlIiwiYWJzdHJhY3QiLCJ0ZW1wbGF0ZVVybCIsImNvbnRyb2xsZXIiLCJ2aWV3cyIsIm1lbnVDb250ZW50Iiwib3RoZXJ3aXNlIiwiJHNjb3BlIiwibGVhZmxldERhdGEiLCJsb2NhdGlvbkFQSSIsImlvbkF1dG9jb21wbGV0ZUVsZW1lbnQiLCJlbGVtZW50IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwiYmluZCIsIm9uQ2xpY2siLCJzaG93TW9kYWwiLCJzZWFyY2hMb2NhdGlvbiIsInF1ZXJ5Iiwic2VhcmNoTG9jYXRpb25CeVN0ciIsIiRzdGF0ZSIsIiRjb3Jkb3ZhR2VvbG9jYXRpb24iLCIkc3RhdGVQYXJhbXMiLCIkaW9uaWNQb3B1cCIsIkxvY2F0aW9uc1NlcnZpY2UiLCJEQlNlcnZpY2UiLCJkYiIsImluaXREQiIsImluZm8iLCJ0aGVuIiwiY29uc29sZSIsImxvZyIsImdlb2xvY2F0ZSIsImxvY2F0ZWQiLCJwb3NPcHRpb25zIiwiZGV2aWNlIiwidGltZW91dCIsImVuYWJsZUhpZ2hBY2N1cmFjeSIsIm1heGltdW1BZ2UiLCJnZXRDdXJyZW50UG9zaXRpb24iLCJwb3NpdGlvbiIsInNhdmVfaW5pdGlhbF9wb3NpdGlvbiIsImdvIiwiZXJyIiwiJG9uIiwiJHNjZSIsIl8iLCIkY29yZG92YUZpbGUiLCIkY29tcGlsZSIsIiRpb25pY01vZGFsIiwiQ29uZmlnU2VydmljZSIsIkNvbnRhY3RTZXJ2aWNlIiwiUE1CU2VydmljZSIsIkNvbnRhaW5lclNlcnZpY2UiLCJNYXBTZXJ2aWNlIiwiRmFxU2VydmljZSIsIkNhdGVnb3JpZXNTZXJ2aWNlIiwiQXV0aFNlcnZpY2UiLCJVc2VyU2VydmljZSIsIiR0aW1lb3V0IiwiJGxvY2F0aW9uIiwiRXJyb3JTZXJ2aWNlIiwiJGlvbmljU2xpZGVCb3hEZWxlZ2F0ZSIsIiRpb25pY1Njcm9sbERlbGVnYXRlIiwiUG9wVXBTZXJ2aWNlIiwiQ29ubmVjdGl2aXR5U2VydmljZSIsIiRjb3Jkb3ZhSW5BcHBCcm93c2VyIiwiJGludGVydmFsIiwiTmV3c1NlcnZpY2UiLCJSZXNpZHVvc1NlcnZpY2UiLCJmZWF0dXJlUmVwb3J0cyIsImNvbnRhaW5lcnMiLCJiYXNlVVJMIiwidXNlcl9jYWNoZWRfaW1hZ2UiLCJyZXBvcnRfZGV0YWlsX2lkIiwib25lX3ZhbHVlX3BvcHVwIiwiYWJ1c2VfbmFtZSIsImFidXNlX2VtYWlsIiwiYWJ1c2Vfc3ViamVjdCIsImFidXNlX21lc3NhZ2UiLCJzZWFyY2hfc3RyIiwicmVzaWR1b3NBcnJheSIsInNlbGVjdF9yZXNpZHVvIiwiYWN0dWFsU2xpZGVySW5kZXgiLCJzZXRfbmV0d29ya19ldmVudHMiLCJmaW5kX21lIiwid2Fsa3Rocm91Z2giLCJvbkhhcmR3YXJlQmFja0J1dHRvbiIsImUiLCJzdG9wUHJvcGFnYXRpb24iLCJoaWRlX3NwZWNpYWxfZGl2cyIsIm9wZW5XZWJzaXRlIiwib3B0aW9ucyIsImxvY2F0aW9uIiwiY2xlYXJjYWNoZSIsInRvb2xiYXIiLCJvcGVuIiwiZXZlbnQiLCJjcmVhdGVfb25saW5lX21hcCIsImFkZFBpbnNMYXllciIsIm1hcCIsImNlbnRlciIsImxhdCIsImxuZyIsInpvb20iLCJkZWZhdWx0cyIsInRpbGVMYXllciIsIm1pblpvb20iLCJtYXhab29tIiwiem9vbUNvbnRyb2xQb3NpdGlvbiIsIm1hcmtlcnMiLCJldmVudHMiLCJlbmFibGUiLCJsb2dpYyIsImNsaWNrT25NZW51SWNvbiIsImxpbmVzbWVudSIsImdldEVsZW1lbnRCeUlkIiwiZXhwYW5kZWRfbWVudSIsInRvZ2dsZUNsYXNzT25FbGVtZW50IiwiY2xhc3NOYW1lIiwiY2xhc3NTdHJpbmciLCJuYW1lSW5kZXgiLCJpbmRleE9mIiwic3Vic3RyIiwibGVuZ3RoIiwibmV4dCIsImN1cnJlbnRJbmRleCIsInByZXZpb3VzIiwic2Nyb2xsTWUiLCJhbmNob3JfaWQiLCJoYXNoIiwiaGFuZGxlIiwiJGdldEJ5SGFuZGxlIiwiYW5jaG9yU2Nyb2xsIiwiZ29UbyIsImlkIiwic2V0X2FjdGl2ZV9vcHRpb24iLCJidXR0b25pZCIsImNvbnRhaW5lcl9kZXRhaWxzIiwibmF2YmFjayIsIm5hdmlnYXRpb25fbWVudSIsImFkZE1hcENvbnRyb2xzIiwic3RhcnRSZXBvcnRGcm9tQ3Jvc3NoYWlycyIsIm9uU2VhcmNoQ2hhbmdlIiwic2VhcmNoIiwidmFsdWUiLCJ0cmltIiwic2VhcmNoUmVzaWR1b3NCeVN0ciIsImhpZGVTZWFyY2hSZXN1bHRzIiwic3RyIiwiZ2V0QnlTdHIiLCJyZXN1bHQiLCJkYXRhIiwicmVzaWR1b3MiLCJyZXNpZHVvc0NvbnRhaW5lciIsInNlbGVjdGVkUmVzaWR1b3NDb250YWluZXIiLCJyZXNpZHVvIiwicHJvZ3JhbWFzX3N0ciIsInByb3BlcnRpZXMiLCJQcm9ncmFtYXMiLCJpbm5lckhUTUwiLCJOb21icmUiLCJDb25kaWNpb25lcyIsImZpbHRlclBpbnMiLCJ1bnNlbGVjdF9yZXNpZHVvIiwic2hvd0FsbFBpbnMiLCJwcm9ncmFtYXNJZHMiLCJzcGxpdCIsImtleXNBcnJheSIsIk9iamVjdCIsImtleXMiLCJmb3JFYWNoIiwiaXRlbSIsInJlcGxhY2UiLCJsYXllciIsImtleSIsIl9pY29uIiwic3R5bGUiLCJkaXNwbGF5Iiwib25FYWNoRmVhdHVyZSIsImZlYXR1cmUiLCJQcm9ncmFtYVN1YlByb2dJRCIsInB1c2giLCJvbiIsInNlbGVjdGVkX2NvbnRhaW5lciIsImJ1aWxkIiwidGFyZ2V0IiwiSG9yYXJpbyIsInVuZGVmaW5lZCIsInNldExhdExuZyIsImdlb21ldHJ5IiwiY29vcmRpbmF0ZXMiLCJjb250YWluZXJEZXRhaWxzIiwiYmFja01lbnUiLCJtZW51IiwiZ29Ub0NlbnRlciIsImxvbiIsImwiLCJMIiwiTGF5ZXJKU09OIiwibG9jQXNHZW9KU09OIiwibWluU2hpZnQiLCJwcmVjaXNpb24iLCJnZXRNYXAiLCJqc29uTGF5ZXIiLCJyZW1vdmVMYXllciIsImFkZExheWVyIiwibGFzdE1hcmtlckxheWVyIiwicmVwb3J0cyIsImZlYXR1cmVzIiwiZWFjaExheWVyIiwiX2xheWVyIiwiaWNvbiIsInBpbl91cmwiLCJtYXJrZXJJY29uIiwiaWNvblVybCIsImljb25TaXplIiwiaWNvbkFuY2hvciIsInBvcHVwQW5jaG9yIiwic2V0SWNvbiIsIkdJRCIsImxvbmdUbyIsImxhdFRvIiwibGF0RnJvbSIsImNvb3JkcyIsImxhdGl0dWRlIiwibG9uZ0Zyb20iLCJsb25naXR1ZGUiLCJnZXRSb2FkIiwiY2VudGVyTWFwT25Db29yZHMiLCJsYXN0Um9hZCIsIm5hdl9iYWNrIiwic3BsaWNlV2F5cG9pbnRzIiwicmVtb3ZlQ29udHJvbCIsIndhbGt0aHJvdWdoX21vZGFsIiwiZG9uZVdhbGt0aHJvdWdoIiwiZ2V0RG9uZVdhbGt0aHJvdWdoIiwiZG9jIiwic3RhdHVzIiwib3BlbldhbGtUaHJvdWdoTW9kYWwiLCJ3YWxrdGhyb3VnaEZyb21NZW51IiwiY2xvc2VNYWluTWVudSIsImZyb21UZW1wbGF0ZVVybCIsInNjb3BlIiwiaGFyZHdhcmVCYWNrQnV0dG9uQ2xvc2UiLCJhbmltYXRpb24iLCJtb2RhbCIsInNob3ciLCJmaW5pc2hXYWxrdGhyb3VnaCIsImhpZGUiLCJyZW1vdmUiLCJzYXZlRG9uZVdhbGt0aHJvdWdoIiwic3ViamVjdCIsInRvZ2dsZUdyb3VwIiwiZ3JvdXAiLCJpc0dyb3VwU2hvd24iLCJzaG93bkdyb3VwIiwicmVzaXplIiwib3BlblByb2dyYW1hcyIsIm1haW5fbWVudV9tb2RhbCIsIml0ZW1fbW9kYWwiLCJjbGlja1RpcG9SZXNpZHVvIiwib3BlbkNsYXNpZmljYXIiLCJvcGVuQWJvdXRQcm95ZWN0IiwibmV3cyIsImdvdG9MaW5rIiwib3Blbk5ld3MiLCJzaG93RGl2IiwiYWxsIiwicmVzcG9uc2UiLCJpdGVtcyIsImhpZGVEaXYiLCJkaXZJZCIsImRpdiIsImNsYXNzTGlzdCIsImRpdkNsYXNzIiwib3BlbkNvbnRhY3QiLCJvcGVuQ29udGFjdFN1Y2Nlc3MiLCJzZW5kX2NvbnRhY3RfcmVxdWVzdCIsIm5hbWUiLCJlbWFpbCIsIm1lc3NhZ2UiLCJlcnJvckxhYmVsIiwiY2hlY2tfZmllbGQiLCJzZW5kX2NvbnRhY3QiLCJzZWxlY3RlZEluZGV4IiwiaHR0cF9kYXRhX3Jlc3BvbnNlX2lzX3N1Y2Nlc3NmdWxfYWpheCIsImVycm9yQ29udGFpbmVyIiwib3Blbk1haW5NZW51RnJvbUl0ZW0iLCJvcGVuTWFpbk1lbnUiLCJMYXRGcm9tIiwiTG9uZ0Zyb20iLCJjbG9zZVBvcHVwIiwibm93X21hcmtlciIsIm1hcmtlciIsImFkZFRvIiwiUm91dGluZyIsImNvbnRyb2wiLCJ3YXlwb2ludHMiLCJsYXRMbmciLCJsYW5ndWFnZSIsInJvdXRlciIsIm1hcGJveCIsImNyZWF0ZU1hcmtlciIsImkiLCJzdGFydCIsIm4iLCJsaW5lT3B0aW9ucyIsInN0eWxlcyIsImNvbG9yIiwib3BhY2l0eSIsIndlaWdodCIsImZpdFNlbGVjdGVkUm91dGVzIiwibW9kZWwiLCJleHRlcm5hbE1vZGVsIiwic2VsZWN0ZWRJdGVtcyIsInByZXNlbGVjdGVkU2VhcmNoSXRlbXMiLCJjbGlja2VkVmFsdWVNb2RlbCIsInJlbW92ZWRWYWx1ZU1vZGVsIiwiaXRlbXNSZW1vdmVkIiwiY2FsbGJhY2siLCJ1c2VyX29wdGlvbnMiLCJzaG93X2Fub255bW91c19tZW51Iiwic2hvd191c2VyX21lbnUiLCJodG1sIiwiaGVpZ2h0Iiwid2lkdGgiLCJjcmVhdGVfZmllbGRfYXJyYXkiLCJ0eXBlIiwiZmllbGQiLCJBcnJheSIsInNpZ25faW4iLCJwYXNzd29yZCIsImlzT25saW5lIiwiZmllbGRzIiwiY2hlY2tfZmllbGRzIiwicmVzcCIsImh0dHBfcmVzcG9uc2VfaXNfc3VjY2Vzc2Z1bCIsInNhdmVfdXNlcl9kYXRhIiwiaWRlbnRpdHlfZG9jdW1lbnQiLCJwaG9uZSIsInBpY3R1cmVfdXJsIiwic2F2ZVVzZXIiLCJjbG9zZV9sb2dpbl9tb2RhbCIsInNldF91c2VyX3BpY3R1cmUiLCJzaG93X2Vycm9yX21lc3NhZ2UiLCJzdGF0dXNUZXh0Iiwic2hvd19hbGVydCIsInNpZ25faW5fYWpheCIsImh0dHBfcmVzcG9uc2VfaXNfc3VjY2Vzc2Z1bF9hamF4Iiwic2lnbl9vdXQiLCJlcmFzZV91c2VyX2RhdGEiLCJlcmFzZVVzZXIiLCJjaGVja191c2VyX2xvZ2dlZCIsInNldF9vZmZsaW5lX3VzZXIiLCJoYXNQaG90byIsInNlYXJjaF9zdHJlZXQiLCJwYXJlbnROb2RlIiwiY2xpY2siLCJ6b29tRGVmIiwiTG9hZGVyIiwicmVwb3J0QnV0dG9uIiwidGV4dCIsImluaXRpYWxfbGF0IiwiaW5pdGlhbF9sbmciLCJzZWFyY2hNb2RlIiwiY2FsbGUiLCJlc3F1aW5hIiwibHVnYXIiLCJsb2NhdGlvbkdlb21QYXJhbXMiLCJ0aXBvIiwicGF0aFBhcmFtcyIsImluaXRSZXBvcnQiLCJfcGluIiwiX3Bpbkljb24iLCJnZXRDZW50ZXIiLCJjbGlja2FibGUiLCJSZXBvcnRTZXJ2aWNlIiwiX25ldyIsImN1cnJlbnQiLCJpc051bWVyaWMiLCJpc05hTiIsInBhcnNlRmxvYXQiLCJpc0Zpbml0ZSIsInByb21pc2VTZWFyY2giLCJkZXNjVGlwbyIsIm5vbWJyZSIsImNvZGlnbyIsInNlYXJjaEVzcXVpbmFCeVN0ciIsInNlbGVjdGVkSXRlbSIsImlvbkF1dG9jb21wbGV0ZUVsZW1lbnRTZWFyY2giLCJhdHRyIiwiaXRlbXNDbGlja2VkIiwic3RyX3RpcG8iLCJnZXRMb2NhdGlvbkdlb20iLCJnb1RvUGxhY2UiLCJleHRlbmQiLCJnZW9tIiwiZ2VvSlNPTiIsIml0ZW1zQ2FuY2VsZWQiLCJfaXRlbSIsIm51bVB1ZXJ0YSIsInBhcnNlSW50Iiwic2VhcmNoUXVlcnkiLCJOdW1iZXIiLCJpc0ludGVnZXIiLCJlcnJvciIsInNob3dBbGVydCIsInJlcyIsImZhY3RvcnkiLCIkaHR0cCIsIiRjb3Jkb3ZhRmlsZVRyYW5zZmVyIiwiZ2V0IiwicGFyYW1zIiwicGFzc3dvcmRfc2lnbl9pbiIsImNyZWF0ZV91c2VyIiwiZnVsbG5hbWUiLCJpZF9kb2MiLCJ1c2VyX3Bob25lIiwiZm9ybV9lbWFpbCIsInBhc3N3b3JkX3JlZ2lzdGVyIiwiY2hhbmdlX3Bhc3N3b3JkIiwibG9naW5fZW1haWwiLCJlZGl0X3VzZXIiLCJuZXdfZW1haWwiLCJ1c2VyX3BpY3R1cmVfdXJsIiwiZmlsZUtleSIsInRydXN0QWxsSG9zdHMiLCJ1cGxvYWQiLCJuZXdfcmVwb3J0X2xhdCIsIm5ld19yZXBvcnRfbG5nIiwiZm9ybWF0IiwiZ2V0Q2FjaGVkQ2F0ZWdvcmllcyIsImdldENhdGVnb3JpZXMiLCJDb25maWdPYmoiLCIkY29yZG92YU5ldHdvcmsiLCJpc1dlYlZpZXciLCJuYXZpZ2F0b3IiLCJvbkxpbmUiLCJpc09mZmxpbmUiLCJDb250YWluZXIiLCJfZGF0YSIsInRoaXMiLCJnZXRCeUlkIiwiX2RlZmF1bHQiLCJ0aXRsZSIsImRldGFpbCIsIm1heV9zaG93X25hbWUiLCJjYXRlZ29yeSIsInBjIiwiZmlsZSIsInN1Ym1pdF9zaWduX2luIiwicmVtZW1iZXJfbWUiLCJfYWxsIiwicHJvdG90eXBlIiwiJHEiLCJ1c2VyX25hbWUiLCJ1c2VyX2VtYWlsIiwidXNlcl9wYXNzd29yZCIsInVzZXJfaWRfZG9jIiwidXNlciIsIl9pZCIsImdldFVzZXIiLCJfcmV2IiwiX2RiIiwicHV0IiwiUG91Y2hEQiIsInNhdmVSZXBvcnQiLCJyZXBvcnQiLCJkYXRlIiwiRGF0ZSIsIm5ld19yZXBvcnRfaWQiLCJnZXRGdWxsWWVhciIsImdldE1vbnRoIiwiZ2V0RGF0ZSIsImdldE1pbGxpc2Vjb25kcyIsInVwZGF0ZVJlcG9ydCIsInNhdmVDYXRlZ29yaWVzIiwiY2F0ZWdvcmllcyIsImdldFJlcG9ydCIsInJlcG9ydElkIiwiZ2V0QWxsUmVwb3J0cyIsImFsbERvY3MiLCJpbmNsdWRlX2RvY3MiLCJhdHRhY2htZW50cyIsInN0YXJ0a2V5IiwiZW5ka2V5IiwiZGVsZXRlUmVwb3J0IiwicmVwb3J0X2lkIiwiZGVsZXRlR2l2ZW5SZXBvcnQiLCJWYWxpZGF0aW9uU2VydmljZSIsImpzb25SZXN1bHQiLCJlcnJvckNvbnRhaW5lcklkIiwiZXJyb3JEaXYiLCJodHRwX3Jlc3BvbnNlX2lzX3N1Y2Nlc3NmdWxfcG9wdXAiLCJhbGVydFBvcHVwIiwiYWxlcnQiLCJ0ZW1wbGF0ZSIsImh0dHBfZGF0YV9yZXNwb25zZV9pc19zdWNjZXNzZnVsIiwic2hvd19lcnJvcl9tZXNzYWdlX3BvcHVwIiwiZXJyb3JzIiwidmFsaWRhdGVfbm90X2VtcHR5IiwidmFsaWRhdGVfZW1haWwiLCJ2YWxpZGF0ZV9pZGRvY191eSIsInZhbGlkYXRlX3R3b193b3JkcyIsImxhYmVsIiwib2siLCJ2YWxpZGF0ZV9ub3RfbWludXNvbmUiLCJib3JkZXJDb2xvciIsImFqYXgiLCIkaW9uaWNMb2FkaW5nIiwiTE9BREVSQVBJIiwic2hvd0xvYWRpbmciLCJoaWRlTG9hZGluZyIsInRvZ2dsZUxvYWRpbmdXaXRoTWVzc2FnZSIsInNlbGYiLCJjb25maXJtUG9wdXAiLCJjb25maXJtIiwiX3RpdGxlIiwiX3RlbXBsYXRlIiwibG9jYXRpb25zT2JqIiwic2F2ZV9uZXdfcmVwb3J0X3Bvc2l0aW9uIiwic2F2ZWRMb2NhdGlvbnMiLCJwcm9qNCIsImRlZnMiLCJtYXBTZXJ2aWNlIiwiX3BsYWNlIiwiX2dlb0pzb24iLCJjcnMiLCJfbGF0bG5nIiwiUHJvaiIsImdlb0pzb24iLCJwb2ludFRvTGF5ZXIiLCJsYXRsbmciLCJzZXRWaWV3IiwiTGF0TG5nIiwiYmFzZSIsImZvcm0iLCJmaWxlTmFtZSIsImNodW5rZWRNb2RlIiwibWltZVR5cGUiLCJoZWFkZXJzIiwiQ29ubmVjdGlvbiIsInN1YnNjcmliZSIsInJ6bnZ5IiwiYWJ1c2UiLCJlbSIsImRlbGV0ZVVSTCIsImNvbW1lbnQiLCJhZGRfYWxlcnQiLCJmaXhlZCIsInN1Ym1pdF91cGRhdGUiLCJ1cGRhdGUiLCJmb3JtX3J6bnZ5IiwiYWxlcnRfdGl0bGUiLCJhbGVydF9tZXNzYWdlIiwiYXNrRm9yT25lVmFsdWVQb3BVcCIsImZpZWxkX25hbWUiLCJ2YWxpZGF0aW9uVHlwZSIsIm15UG9wdXAiLCJzdWJUaXRsZSIsImJ1dHRvbnMiLCJvblRhcCIsInByZXZlbnREZWZhdWx0IiwiQXBpSW1FbmRwb2ludCIsIkFwaURhdGFFbmRwb2ludCIsInJlc3RQcmVmZml4IiwiX2xvY2F0aW9uIiwibWV0aG9kIiwiZ2V0UGFyYW1QYXRoQnlUaXBvIiwiX3RpcG8iLCJyZXN0R2VvRGF0YVNlcnZpY2VQYXRoIiwiRVNRVUlOQSIsIkRJUkVDQ0lPTiIsIlVzZXJPYmoiLCJnZXRfdXNlcl9kYXRhIiwiYWRkX3Bob3RvIiwiaXNMb2dnZWQiLCJ2YWx1ZXMiLCJmaWx0ZXIiLCJ2IiwicmUiLCJ0ZXN0IiwiZGlnIiwiYSJdLCJtYXBwaW5ncyI6IkFBT0EsR0FBSUEsU0FDRkMsWUFBYUMsUUFBUUMsT0FBTyx5QkFDNUJDLFNBQVVGLFFBQVFDLE9BQU8sc0JBRzNCSCxRQUFPSyxJQUFNSCxRQUFRQyxPQUFPLFVBQVcsUUFBUSxlQUFlLG1CQUFtQixvQkFBcUIscUJBQXNCLGtCQUFtQixZQUFhLG9CQUUzSkcsU0FBUyxpQkFDUkMsSUFBSyxpQ0FHTkQsU0FBUyxtQkFDUkMsSUFBSyxVQUlOQyxLQUFBLGlCQUFBLGFBQUEsbUJBQUksU0FBU0MsRUFBZ0JDLEVBQVlDLEdBQ3hDRCxFQUFXRSxRQUFVQyxPQUFPRCxRQUM1QkgsRUFBZUssTUFBTSxXQUdmRCxPQUFPRSxTQUFXRixPQUFPRSxRQUFRQyxRQUFRQyxVQUMzQ0YsUUFBUUMsUUFBUUMsU0FBU0MsMEJBQXlCLEdBS3BEQyxNQUFNQyxTQUFTQyxjQUFlLEVBQzFCUixPQUFPUyxX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LEdBQzNCNGMsRUFBSSxFQUFPeFIsRUFBSSxDQUNuQixJQUFHL0osRUFBTXJCLFFBQVUsRUFDakIsSUFBSW9MLEVBQUkvSixFQUFNckIsT0FBUW9MLEVBQUksRUFBR0EsSUFDM0IvSixFQUFRLElBQU1BLENBR2xCLEtBQUkrSixFQUFJLEVBQUdBLEVBQUksRUFBR0EsSUFDaEJ3UixHQUFNdEwsU0FBUyxVQUFVbEcsSUFBTWtHLFNBQVNqUSxFQUFNK0osSUFBTztBQUV2RCxHQUFJekosRUFNSixPQUpFQSxHQURDaWIsRUFBRSxLQUFPLEVBQ0QsRUFFQSxHQUFLQSxFQUFJLEdBRWpCRCxHQUFPaGIsRUFNWixPQUFPIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIElvbmljIFN0YXJ0ZXIgQXBwXG5cbi8vIGFuZ3VsYXIubW9kdWxlIGlzIGEgZ2xvYmFsIHBsYWNlIGZvciBjcmVhdGluZywgcmVnaXN0ZXJpbmcgYW5kIHJldHJpZXZpbmcgQW5ndWxhciBtb2R1bGVzXG4vLyAncG1iX2ltJyBpcyB0aGUgbmFtZSBvZiB0aGlzIGFuZ3VsYXIgbW9kdWxlIGV4YW1wbGUgKGFsc28gc2V0IGluIGEgPGJvZHk+IGF0dHJpYnV0ZSBpbiBpbmRleC5odG1sKVxuLy8gdGhlIDJuZCBwYXJhbWV0ZXIgaXMgYW4gYXJyYXkgb2YgJ3JlcXVpcmVzJ1xuLy8gJ3N0YXJ0ZXIuc2VydmljZXMnIGlzIGZvdW5kIGluIHNlcnZpY2VzLmpzXG4vLyAnc3RhcnRlci5jb250cm9sbGVycycgaXMgZm91bmQgaW4gY29udHJvbGxlcnMuanNcbnZhciBwbWJfaW0gPSB7XG4gIGNvbnRyb2xsZXJzOiBhbmd1bGFyLm1vZHVsZSgncG1iX2ltLmNvbnRyb2xsZXJzJywgW10pLFxuICBzZXJ2aWNlczogYW5ndWxhci5tb2R1bGUoJ3BtYl9pbS5zZXJ2aWNlcycsIFtdKVxufTtcblxucG1iX2ltLmFwcCA9IGFuZ3VsYXIubW9kdWxlKCdwbWJfaW0nLCBbJ2lvbmljJywnaW9uaWMud2l6YXJkJywnaW9uLWF1dG9jb21wbGV0ZScsJ2xlYWZsZXQtZGlyZWN0aXZlJywgJ3BtYl9pbS5jb250cm9sbGVycycsICdwbWJfaW0uc2VydmljZXMnLCAnbmdDb3Jkb3ZhJywgJ2lvbmljLWNhY2hlLXNyYyddKVxuXG4uY29uc3RhbnQoJ0FwaUltRW5kcG9pbnQnLCB7XG4gIHVybDogJ2h0dHA6Ly93d3cubW9udGV2aWRlby5ndWIudXknXG59KVxuXG4uY29uc3RhbnQoJ0FwaURhdGFFbmRwb2ludCcsIHtcbiAgdXJsOiAnL2RhdGEnXG59KVxuXG5cbi5ydW4oZnVuY3Rpb24oJGlvbmljUGxhdGZvcm0sICRyb290U2NvcGUsICRjb3Jkb3ZhS2V5Ym9hcmQpIHtcbiAgJHJvb3RTY29wZS5WRVJTSU9OID0gd2luZG93LlZFUlNJT047XG4gICRpb25pY1BsYXRmb3JtLnJlYWR5KGZ1bmN0aW9uKCkge1xuICAgIC8vIEhpZGUgdGhlIGFjY2Vzc29yeSBiYXIgYnkgZGVmYXVsdCAocmVtb3ZlIHRoaXMgdG8gc2hvdyB0aGUgYWNjZXNzb3J5IGJhciBhYm92ZSB0aGUga2V5Ym9hcmRcbiAgICAvLyBmb3IgZm9ybSBpbnB1dHMpXG4gICAgaWYgKHdpbmRvdy5jb3Jkb3ZhICYmIHdpbmRvdy5jb3Jkb3ZhLnBsdWdpbnMuS2V5Ym9hcmQpIHtcbiAgICAgIGNvcmRvdmEucGx1Z2lucy5LZXlib2FyZC5oaWRlS2V5Ym9hcmRBY2Nlc3NvcnlCYXIodHJ1ZSk7XG4gICAgICAvL2NvcmRvdmEucGx1Z2lucy5LZXlib2FyZC5kaXNhYmxlU2Nyb2xsKGZhbHNlKTtcbiAgICB9XG4gICAgLy8kY29yZG92YUtleWJvYXJkLmhpZGVBY2Nlc3NvcnlCYXIodHJ1ZSlcbiAgICAvLyRjb3Jkb3ZhS2V5Ym9hcmQuZGlzYWJsZVNjcm9sbChmYWxzZSlcbiAgICBpb25pYy5QbGF0Zm9ybS5pc0Z1bGxTY3JlZW4gPSBmYWxzZTtcbiAgICBpZiAod2luZG93LlN0YXR1c0Jhcikge1xuICAgICAgLy8gb3JnLmFwYWNoZS5jb3Jkb3ZhLnN0YXR1c2JhciByZXF1aXJlZFxuICAgICAgU3RhdHVzQmFyLnN0eWxlRGVmYXVsdCgpO1xuICAgIH1cbiAgfSk7XG59KVxuXG4uY29uZmlnKGZ1bmN0aW9uKCRzdGF0ZVByb3ZpZGVyLCAkdXJsUm91dGVyUHJvdmlkZXIsICRjb21waWxlUHJvdmlkZXIsICRpb25pY0NvbmZpZ1Byb3ZpZGVyKSB7XG4gICRjb21waWxlUHJvdmlkZXIuZGVidWdJbmZvRW5hYmxlZChmYWxzZSk7XG4gIC8vJGlvbmljQ29uZmlnUHJvdmlkZXIuc2Nyb2xsaW5nLmpzU2Nyb2xsaW5nKHRydWUpO1xuXG4gIC8vIElvbmljIHVzZXMgQW5ndWxhclVJIFJvdXRlciB3aGljaCB1c2VzIHRoZSBjb25jZXB0IG9mIHN0YXRlc1xuICAvLyBMZWFybiBtb3JlIGhlcmU6IGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyLXVpL3VpLXJvdXRlclxuICAvLyBTZXQgdXAgdGhlIHZhcmlvdXMgc3RhdGVzIHdoaWNoIHRoZSBhcHAgY2FuIGJlIGluLlxuICAvLyBFYWNoIHN0YXRlJ3MgY29udHJvbGxlciBjYW4gYmUgZm91bmQgaW4gY29udHJvbGxlcnMuanNcbiAgJHN0YXRlUHJvdmlkZXJcblxuLnN0YXRlKCdhcHAnLCB7XG4gICAgY2FjaGU6IGZhbHNlLFxuICAgIHVybDogXCIvYXBwXCIsXG4gICAgYWJzdHJhY3Q6IHRydWUsXG4gICAgdGVtcGxhdGVVcmw6IFwidGVtcGxhdGVzL21lbnUuaHRtbFwiLFxuICAgIGNvbnRyb2xsZXI6ICdNYXBDb250cm9sbGVyJ1xuICB9KVxuXG4uc3RhdGUoJ2FwcC5tYXAnLCB7XG4gICAgY2FjaGU6IGZhbHNlLFxuICAgIHVybDogXCIvbWFwL1wiLFxuICAgIHZpZXdzOiB7XG4gICAgICAnbWVudUNvbnRlbnQnIDp7XG4gICAgICAgIHRlbXBsYXRlVXJsOiBcInRlbXBsYXRlcy9tYXAuaHRtbFwiLFxuICAgICAgICBjb250cm9sbGVyIDogXCJQTUJDdHJsXCJcbiAgICAgIH1cbiAgICB9XG4gIH0pXG5cbi5zdGF0ZSgnYXBwLmludHJvJywge1xuICBjYWNoZTogZmFsc2UsXG4gIHVybDogXCIvaW50cm9cIixcbiAgdmlld3M6IHtcbiAgICAnbWVudUNvbnRlbnQnIDp7XG4gICAgICB0ZW1wbGF0ZVVybDogXCJ0ZW1wbGF0ZXMvaW50cm8uaHRtbFwiLFxuICAgICAgY29udHJvbGxlciA6IFwiSW50cm9DdHJsXCJcbiAgICB9XG4gIH1cbn0pXG5cbi8vIGlmIG5vbmUgb2YgdGhlIGFib3ZlIHN0YXRlcyBhcmUgbWF0Y2hlZCwgdXNlIHRoaXMgYXMgdGhlIGZhbGxiYWNrXG4kdXJsUm91dGVyUHJvdmlkZXIub3RoZXJ3aXNlKCcvYXBwL2ludHJvJyk7XG5cbn0pO1xuIiwicG1iX2ltLmNvbnRyb2xsZXJzLmNvbnRyb2xsZXIoJ0F1dG9Db21wbGV0ZUN0cmwnLCBbJyRzY29wZScsICdsZWFmbGV0RGF0YScsICdsb2NhdGlvbkFQSScsIGZ1bmN0aW9uKCRzY29wZSwgbGVhZmxldERhdGEsIGxvY2F0aW9uQVBJKSB7XG5cblxuICAkc2NvcGUuaW9uQXV0b2NvbXBsZXRlRWxlbWVudCA9IGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiaW9uLWF1dG9jb21wbGV0ZVwiKSk7XG4gICRzY29wZS5pb25BdXRvY29tcGxldGVFbGVtZW50LmJpbmQoJ3RvdWNoZW5kIGNsaWNrIGZvY3VzJywgJHNjb3BlLm9uQ2xpY2spO1xuXG4gICRzY29wZS5vbkNsaWNrID0gZnVuY3Rpb24oKSB7XG5cbiAgICAkc2NvcGUuaW9uQXV0b2NvbXBsZXRlRWxlbWVudC5jb250cm9sbGVyKCdpb25BdXRvY29tcGxldGUnKS5zaG93TW9kYWwoKTtcblxuXG4gIH07XG5cblxuXG4gICRzY29wZS5zZWFyY2hMb2NhdGlvbiA9IGZ1bmN0aW9uKHF1ZXJ5KSB7XG4gICAgaWYgKHF1ZXJ5KSB7XG4gICAgICAvL2NvbnNvbGUubG9nKFwicXVlcnk9IFwiICsgcXVlcnkpO1xuICAgICAgcmV0dXJuIGxvY2F0aW9uQVBJLnNlYXJjaExvY2F0aW9uQnlTdHIocXVlcnkpO1xuXG4gICAgfVxuICB9O1xuXG5cbn1dKTtcbiIsInBtYl9pbS5jb250cm9sbGVycy5jb250cm9sbGVyKCdJbnRyb0N0cmwnLCBbJyRzY29wZScsICckc3RhdGUnLFxuICAnJGNvcmRvdmFHZW9sb2NhdGlvbicsXG4gICckc3RhdGVQYXJhbXMnLFxuICAnJGlvbmljUGxhdGZvcm0nLFxuICAnJGlvbmljUG9wdXAnLFxuICAnTG9jYXRpb25zU2VydmljZScsXG4gICdEQlNlcnZpY2UnLFxuICBmdW5jdGlvbigkc2NvcGUsICRzdGF0ZSwgJGNvcmRvdmFHZW9sb2NhdGlvbiwgJHN0YXRlUGFyYW1zLCAkaW9uaWNQbGF0Zm9ybSwgJGlvbmljUG9wdXAsIExvY2F0aW9uc1NlcnZpY2UsIERCU2VydmljZSkge1xuXG4gIHZhciBkYiA9IERCU2VydmljZS5pbml0REIoKTtcbiAgZGIuaW5mbygpLnRoZW4oY29uc29sZS5sb2cuYmluZChjb25zb2xlKSk7XG5cbiAgJHNjb3BlLmdlb2xvY2F0ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGxvY2F0ZWQgPSBmYWxzZTtcbiAgICAgIC8qc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICBpZighbG9jYXRlZCl7XG4gICAgICAgICAgJHN0YXRlLmdvKFwiYXBwLm1hcFwiKTtcbiAgICAgICAgfVxuICAgICAgfSwgNDAwMCk7Ki9cbiAgICAgIGlvbmljLlBsYXRmb3JtLnJlYWR5KGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgZGV2aWNlID0gaW9uaWMuUGxhdGZvcm0uZGV2aWNlKCk7XG4gICAgICAgIC8vYWxlcnQoZGV2aWNlLnBsYXRmb3JtKTtcbiAgICAgICAgdmFyIHBvc09wdGlvbnMgPSB7dGltZW91dDogMzUwMCwgZW5hYmxlSGlnaEFjY3VyYWN5OiB0cnVlLCBtYXhpbXVtQWdlOjYwMDAwfTtcbiAgICAgICAgJGNvcmRvdmFHZW9sb2NhdGlvblxuICAgICAgICAgIC5nZXRDdXJyZW50UG9zaXRpb24ocG9zT3B0aW9ucylcbiAgICAgICAgICAudGhlbihmdW5jdGlvbiAocG9zaXRpb24pIHtcbiAgICAgICAgICAgIC8vYWxlcnQoXCJzYWxpbyBwb3IgZWwgdHJ1ZVwiKTtcbiAgICAgICAgICAgIGxvY2F0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgTG9jYXRpb25zU2VydmljZS5zYXZlX2luaXRpYWxfcG9zaXRpb24ocG9zaXRpb24pO1xuICAgICAgICAgICAgJHN0YXRlLmdvKFwiYXBwLm1hcFwiKTtcbiAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgIC8vIGVycm9yXG4gICAgICAgICAgICAvL2FsZXJ0KFwic2FsaW8gcG9yIGVsIGVycm9yXCIpO1xuICAgICAgICAgICAgJHN0YXRlLmdvKFwiYXBwLm1hcFwiKTtcbiAgICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgfTtcblxuICAgJHNjb3BlLiRvbignJGlvbmljVmlldy5lbnRlcicsIGZ1bmN0aW9uKCl7IC8vVGhpcyBpcyBmaXJlZCB0d2ljZSBpbiBhIHJvd1xuICAgICAgICRzY29wZS5nZW9sb2NhdGUoKTtcbiAgIH0pO1xuXG4gIH1cbl0pO1xuIiwicG1iX2ltLmNvbnRyb2xsZXJzLmNvbnRyb2xsZXIoJ01hcENvbnRyb2xsZXInLCBbJyRzY29wZScsICckc2NlJywgJ18nLFxuICAnJGNvcmRvdmFGaWxlJyxcbiAgJyRjb3Jkb3ZhR2VvbG9jYXRpb24nLFxuICAnJGNvbXBpbGUnLFxuICAnJHN0YXRlJyxcbiAgJyRzdGF0ZVBhcmFtcycsXG4gICckaW9uaWNNb2RhbCcsXG4gICckaW9uaWNQb3B1cCcsXG4gICdsZWFmbGV0RGF0YScsXG4gICdDb25maWdTZXJ2aWNlJyxcbiAgJ0NvbnRhY3RTZXJ2aWNlJyxcbiAgJ1BNQlNlcnZpY2UnLFxuICAnTG9jYXRpb25zU2VydmljZScsXG4gICdDb250YWluZXJTZXJ2aWNlJyxcbiAgJ01hcFNlcnZpY2UnLFxuICAnRmFxU2VydmljZScsXG4gICdDYXRlZ29yaWVzU2VydmljZScsXG4gICdBdXRoU2VydmljZScsXG4gICdVc2VyU2VydmljZScsXG4gICdEQlNlcnZpY2UnLFxuICAnJHRpbWVvdXQnLFxuICAnJGxvY2F0aW9uJyxcbiAgJ0Vycm9yU2VydmljZScsXG4gICckaW9uaWNTbGlkZUJveERlbGVnYXRlJyxcbiAgJyRpb25pY1Njcm9sbERlbGVnYXRlJyxcbiAgJ1BvcFVwU2VydmljZScsXG4gICckaW9uaWNQbGF0Zm9ybScsXG4gICdDb25uZWN0aXZpdHlTZXJ2aWNlJyxcbiAgJyRjb3Jkb3ZhSW5BcHBCcm93c2VyJyxcbiAgJyRpbnRlcnZhbCcsXG4gICckY29yZG92YUtleWJvYXJkJyxcbiAgJ05ld3NTZXJ2aWNlJyxcbiAgJ1Jlc2lkdW9zU2VydmljZScsXG4gIGZ1bmN0aW9uKFxuICAgICRzY29wZSxcbiAgICAkc2NlLFxuICAgIF8sXG4gICAgJGNvcmRvdmFGaWxlLFxuICAgICRjb3Jkb3ZhR2VvbG9jYXRpb24sXG4gICAgJGNvbXBpbGUsXG4gICAgJHN0YXRlLFxuICAgICRzdGF0ZVBhcmFtcyxcbiAgICAkaW9uaWNNb2RhbCxcbiAgICAkaW9uaWNQb3B1cCxcbiAgICBsZWFmbGV0RGF0YSxcbiAgICBDb25maWdTZXJ2aWNlLFxuICAgIENvbnRhY3RTZXJ2aWNlLFxuICAgIFBNQlNlcnZpY2UsXG4gICAgTG9jYXRpb25zU2VydmljZSxcbiAgICBDb250YWluZXJTZXJ2aWNlLFxuICAgIE1hcFNlcnZpY2UsXG4gICAgRmFxU2VydmljZSxcbiAgICBDYXRlZ29yaWVzU2VydmljZSxcbiAgICBBdXRoU2VydmljZSxcbiAgICBVc2VyU2VydmljZSxcbiAgICBEQlNlcnZpY2UsXG4gICAgJHRpbWVvdXQsXG4gICAgJGxvY2F0aW9uLFxuICAgIEVycm9yU2VydmljZSxcbiAgICAkaW9uaWNTbGlkZUJveERlbGVnYXRlLFxuICAgICRpb25pY1Njcm9sbERlbGVnYXRlLFxuICAgIFBvcFVwU2VydmljZSxcbiAgICAkaW9uaWNQbGF0Zm9ybSxcbiAgICBDb25uZWN0aXZpdHlTZXJ2aWNlLFxuICAgICRjb3Jkb3ZhSW5BcHBCcm93c2VyLFxuICAgICRpbnRlcnZhbCxcbiAgICAkY29yZG92YUtleWJvYXJkLFxuICAgIE5ld3NTZXJ2aWNlLFxuICAgIFJlc2lkdW9zU2VydmljZVxuICApIHtcblxuICAgICAgLyoqXG4gICAgICogT25jZSBzdGF0ZSBsb2FkZWQsIGdldCBwdXQgbWFwIG9uIHNjb3BlLlxuICAgICAqL1xuICAgICRzY29wZS5mZWF0dXJlUmVwb3J0cyA9IHt9O1xuICAgICRzY29wZS5jb250YWluZXJzID0ge307XG4gICAgJHNjb3BlLmJhc2VVUkwgPSBDb25maWdTZXJ2aWNlLmJhc2VVUkw7XG4gICAgJHNjb3BlLnVzZXJfY2FjaGVkX2ltYWdlID0gXCJcIjtcbiAgICAkc2NvcGUucmVwb3J0X2RldGFpbF9pZCA9IG51bGw7XG4gICAgJHNjb3BlLm9uZV92YWx1ZV9wb3B1cCA9IG51bGw7XG4gICAgJHNjb3BlLmFidXNlX25hbWUgPSBudWxsO1xuICAgICRzY29wZS5hYnVzZV9lbWFpbCA9IG51bGw7XG4gICAgJHNjb3BlLmFidXNlX3N1YmplY3QgPSBudWxsO1xuICAgICRzY29wZS5hYnVzZV9tZXNzYWdlID0gbnVsbDtcbiAgICAkc2NvcGUuc2VhcmNoX3N0ciA9IFwiXCI7XG4gICAgJHNjb3BlLnJlc2lkdW9zQXJyYXkgPSBbXTtcbiAgICAkc2NvcGUuc2VsZWN0X3Jlc2lkdW8gPSBudWxsO1xuXG4gICAgJHNjb3BlLmFjdHVhbFNsaWRlckluZGV4PTA7XG5cbiAgICAkc2NvcGUuJG9uKFwiJGlvbmljVmlldy5iZWZvcmVFbnRlclwiLCBmdW5jdGlvbigpIHtcbiAgICAgIERCU2VydmljZS5pbml0REIoKTtcbiAgICAgICRzY29wZS5zZXRfbmV0d29ya19ldmVudHMoKTtcbiAgICAgICRzY29wZS5maW5kX21lKDE2KTtcbiAgICAgICRzY29wZS53YWxrdGhyb3VnaCgpO1xuICAgIH0pO1xuXG4gICAgJGlvbmljUGxhdGZvcm0ub25IYXJkd2FyZUJhY2tCdXR0b24oZnVuY3Rpb24oKSB7XG4gICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAkc2NvcGUuaGlkZV9zcGVjaWFsX2RpdnM7XG4gICAgfSk7XG5cbiAgICAkc2NvcGUub3BlbldlYnNpdGUgPSBmdW5jdGlvbih1cmwpIHtcbiAgICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgIGxvY2F0aW9uOiAnbm8nLFxuICAgICAgICAgICAgICAgIGNsZWFyY2FjaGU6ICd5ZXMnLFxuICAgICAgICAgICAgICAgIHRvb2xiYXI6ICdubydcbiAgICAgICAgICAgIH07XG5cbiAgICAgJGNvcmRvdmFJbkFwcEJyb3dzZXIub3Blbih1cmwsICdfYmxhbmsnLCBvcHRpb25zKVxuICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAvLyBzdWNjZXNzXG4gICAgICAgICAgfSlcbiAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIC8vIGVycm9yXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgICRzY29wZS5zZXRfbmV0d29ya19ldmVudHMgPSBmdW5jdGlvbigpIHtcbiAgICAgICRzY29wZS5jcmVhdGVfb25saW5lX21hcCgpO1xuICAgICAgJHNjb3BlLmFkZFBpbnNMYXllcigpO1xuICAgICAgJHNjb3BlLm1hcC5jZW50ZXIgPSB7XG4gICAgICAgICAgbGF0OiAtMzQuOTAxMTEzLFxuICAgICAgICAgIGxuZzogLTU2LjE2NDUzMSxcbiAgICAgICAgICB6b29tOiAxNlxuICAgICAgICB9O1xuICAgIH07XG5cbiAgICAkc2NvcGUuY3JlYXRlX29ubGluZV9tYXAgPSBmdW5jdGlvbigpe1xuICAgICAgaWYoJHNjb3BlLm1hcCE9bnVsbCl7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgICRzY29wZS5tYXAgPSB7XG4gICAgICAgIGRlZmF1bHRzOiB7XG4gICAgICAgICAgdGlsZUxheWVyOiAnaHR0cHM6Ly97c30udGlsZS5vcGVuc3RyZWV0bWFwLm9yZy97en0ve3h9L3t5fS5wbmcnLFxuICAgICAgICAgIG1pblpvb206IDEwLFxuICAgICAgICAgIG1heFpvb206IDE4LFxuICAgICAgICAgIHpvb21Db250cm9sUG9zaXRpb246ICd0b3BsZWZ0JyxcbiAgICAgICAgfSxcbiAgICAgICAgbWFya2Vyczoge30sXG4gICAgICAgIGV2ZW50czoge1xuICAgICAgICAgIG1hcDoge1xuICAgICAgICAgICAgZW5hYmxlOiBbJ2NvbnRleHQnXSxcbiAgICAgICAgICAgIGxvZ2ljOiAnZW1pdCdcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfTtcblxuICAgICRzY29wZS5jbGlja09uTWVudUljb24gPSBmdW5jdGlvbigpe1xuICAgICAgdmFyIGxpbmVzbWVudSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibmF2LWljb24tbGluZXNcIik7XG4gICAgICB2YXIgZXhwYW5kZWRfbWVudSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZXhwYW5kZWRfbWVudVwiKTtcbiAgICAgICRzY29wZS50b2dnbGVDbGFzc09uRWxlbWVudChsaW5lc21lbnUsXCJvcGVuXCIpO1xuICAgICAgJHNjb3BlLnRvZ2dsZUNsYXNzT25FbGVtZW50KGV4cGFuZGVkX21lbnUsXCJvcGVuXCIpO1xuICAgIH07XG5cblxuICAgIHZhciBMb2NhdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIExvY2F0aW9uKSkgcmV0dXJuIG5ldyBMb2NhdGlvbigpO1xuICAgICAgdGhpcy5sYXQgPSBcIlwiO1xuICAgICAgdGhpcy5sbmcgPSBcIlwiO1xuICAgICAgdGhpcy5uYW1lID0gXCJcIjtcbiAgICB9O1xuXG4gICRzY29wZS50b2dnbGVDbGFzc09uRWxlbWVudCA9IGZ1bmN0aW9uIChlbGVtZW50LCBjbGFzc05hbWUpe1xuICAgIGlmICghZWxlbWVudCB8fCAhY2xhc3NOYW1lKXtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgY2xhc3NTdHJpbmcgPSBlbGVtZW50LmNsYXNzTmFtZSwgbmFtZUluZGV4ID0gY2xhc3NTdHJpbmcuaW5kZXhPZihjbGFzc05hbWUpO1xuICAgIGlmIChuYW1lSW5kZXggPT0gLTEpIHtcbiAgICAgICAgY2xhc3NTdHJpbmcgKz0gJyAnICsgY2xhc3NOYW1lO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY2xhc3NTdHJpbmcgPSBjbGFzc1N0cmluZy5zdWJzdHIoMCwgbmFtZUluZGV4KSArIGNsYXNzU3RyaW5nLnN1YnN0cihuYW1lSW5kZXgrY2xhc3NOYW1lLmxlbmd0aCk7XG4gICAgfVxuICAgIGVsZW1lbnQuY2xhc3NOYW1lID0gY2xhc3NTdHJpbmc7XG4gIH07XG5cbiAgJHNjb3BlLm5leHQgPSBmdW5jdGlvbigpIHtcbiAgICAkaW9uaWNTbGlkZUJveERlbGVnYXRlLm5leHQoKTtcbiAgICAkc2NvcGUuYWN0dWFsU2xpZGVySW5kZXggPSAkaW9uaWNTbGlkZUJveERlbGVnYXRlLmN1cnJlbnRJbmRleCgpO1xuICB9O1xuXG4gICRzY29wZS5wcmV2aW91cyA9IGZ1bmN0aW9uKCkge1xuICAgICRpb25pY1NsaWRlQm94RGVsZWdhdGUucHJldmlvdXMoKTtcbiAgICAkc2NvcGUuYWN0dWFsU2xpZGVySW5kZXggPSAkaW9uaWNTbGlkZUJveERlbGVnYXRlLmN1cnJlbnRJbmRleCgpO1xuICB9O1xuXG5cbiAgICAkc2NvcGUuc2Nyb2xsTWUgPSBmdW5jdGlvbihhbmNob3JfaWQpe1xuICAgICAgJGxvY2F0aW9uLmhhc2goYW5jaG9yX2lkKTtcbiAgICAgIHZhciBoYW5kbGUgID0gJGlvbmljU2Nyb2xsRGVsZWdhdGUuJGdldEJ5SGFuZGxlKCdjb250ZW50Jyk7XG4gICAgICBoYW5kbGUuYW5jaG9yU2Nyb2xsKCk7XG4gICAgfVxuXG4gICAgJHNjb3BlLmdvVG8gPSBmdW5jdGlvbihpZCl7XG4gICAgICAgICAkbG9jYXRpb24uaGFzaCgnaXRlbScraWQpO1xuICAgICAgICAgJGlvbmljU2Nyb2xsRGVsZWdhdGUuYW5jaG9yU2Nyb2xsKCk7XG4gICAgfVxuXG4gICAgJHNjb3BlLnNldF9hY3RpdmVfb3B0aW9uID0gZnVuY3Rpb24oYnV0dG9uaWQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAkc2NvcGUuaGlkZV9zcGVjaWFsX2RpdnMgPSBmdW5jdGlvbigpe1xuICAgICAgdmFyIGNvbnRhaW5lcl9kZXRhaWxzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb250YWluZXJfZGV0YWlsc1wiKTtcbiAgICAgIGlmKGNvbnRhaW5lcl9kZXRhaWxzKXtcbiAgICAgICAgY29udGFpbmVyX2RldGFpbHMuY2xhc3NOYW1lID0gXCJcIjtcbiAgICAgIH1cbiAgICAgIHZhciBuYXZiYWNrID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJuYXZpZ2F0aW9uX2JhY2tcIik7XG4gICAgICBpZihuYXZiYWNrKXtcbiAgICAgICAgbmF2YmFjay5jbGFzc05hbWUgPSBcImhpZGRlblwiO1xuICAgICAgfVxuICAgICAgdmFyIG5hdmlnYXRpb25fbWVudSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibmF2aWdhdGlvbl9tZW51XCIpO1xuICAgICAgaWYobmF2aWdhdGlvbl9tZW51KXtcbiAgICAgICAgbmF2aWdhdGlvbl9tZW51LmNsYXNzTmFtZSA9IFwiXCI7XG4gICAgICB9XG4gICAgfVxuXG5cbiAgICAkc2NvcGUuYWRkTWFwQ29udHJvbHMgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgJHNjb3BlLnN0YXJ0UmVwb3J0RnJvbUNyb3NzaGFpcnMgPSBmdW5jdGlvbigpe1xuICAgIH1cblxuICAgICRzY29wZS5vblNlYXJjaENoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBzZWFyY2ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNlYXJjaF9pbl9kaWN0aW9uYXJ5XCIpO1xuICAgICAgdmFyIHNlYXJjaF9zdHIgPSBzZWFyY2gudmFsdWUudHJpbSgpO1xuICAgICAgaWYoc2VhcmNoX3N0ci5sZW5ndGg+PTMpe1xuICAgICAgICAkc2NvcGUuc2VhcmNoUmVzaWR1b3NCeVN0cihzZWFyY2hfc3RyKTtcbiAgICAgIH1lbHNle1xuICAgICAgICAkc2NvcGUuaGlkZVNlYXJjaFJlc3VsdHMoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAkc2NvcGUuc2VhcmNoUmVzaWR1b3NCeVN0ciA9IGZ1bmN0aW9uKHN0cil7XG4gICAgICBSZXNpZHVvc1NlcnZpY2UuZ2V0QnlTdHIoc3RyKS50aGVuKGZ1bmN0aW9uKHJlc3VsdCl7XG4gICAgICAgIHZhciByZXNpZHVvc0FycmF5ID0gcmVzdWx0LmRhdGEucmVzaWR1b3M7XG4gICAgICAgICRzY29wZS5yZXNpZHVvc0FycmF5ID0gcmVzaWR1b3NBcnJheTtcbiAgICAgICAgdmFyIHJlc2lkdW9zQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzZWFyY2hSZXN1bHRzXCIpO1xuICAgICAgICByZXNpZHVvc0NvbnRhaW5lci5jbGFzc05hbWU9XCJcIjtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgICRzY29wZS5oaWRlU2VhcmNoUmVzdWx0cyA9IGZ1bmN0aW9uKCl7XG4gICAgICAkc2NvcGUucmVzaWR1b3NBcnJheSA9IFtdO1xuICAgICAgdmFyIHJlc2lkdW9zQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzZWFyY2hSZXN1bHRzXCIpO1xuICAgICAgcmVzaWR1b3NDb250YWluZXIuY2xhc3NOYW1lPVwiaGlkZGVuXCI7XG4gICAgICB2YXIgc2VsZWN0ZWRSZXNpZHVvc0NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2VsZWN0ZWRfcmVzaWR1b19jb250YWluZXJcIik7XG4gICAgICBzZWxlY3RlZFJlc2lkdW9zQ29udGFpbmVyLmNsYXNzTmFtZT1cInNlbGVjdGVkX3Jlc2lkdW8gaGlkZGVuXCI7XG4gICAgfVxuXG4gICAgJHNjb3BlLnNlbGVjdF9yZXNpZHVvID0gZnVuY3Rpb24ocmVzaWR1byl7XG4gICAgICAkc2NvcGUuaGlkZVNlYXJjaFJlc3VsdHMoKTtcbiAgICAgIHZhciBwcm9ncmFtYXNfc3RyID0gcmVzaWR1by5wcm9wZXJ0aWVzLlByb2dyYW1hcztcbiAgICAgIC8vJHNjb3BlLnNlbGVjdF9yZXNpZHVvID0gcmVzaWR1bztcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2VsZWN0ZWRfcmVzaWR1b19uYW1lXCIpLmlubmVySFRNTCA9IHJlc2lkdW8ucHJvcGVydGllcy5Ob21icmU7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNlbGVjdGVkX3Jlc2lkdW9fY29uZGl0aW9uXCIpLmlubmVySFRNTCA9IHJlc2lkdW8ucHJvcGVydGllcy5Db25kaWNpb25lcztcbiAgICAgIHZhciBzZWxlY3RlZFJlc2lkdW9zQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzZWxlY3RlZF9yZXNpZHVvX2NvbnRhaW5lclwiKTtcbiAgICAgIHNlbGVjdGVkUmVzaWR1b3NDb250YWluZXIuY2xhc3NOYW1lPVwic2VsZWN0ZWRfcmVzaWR1b1wiO1xuICAgICAgJHNjb3BlLmZpbHRlclBpbnMocHJvZ3JhbWFzX3N0cik7XG4gICAgfVxuXG4gICAgJHNjb3BlLnVuc2VsZWN0X3Jlc2lkdW8gPSBmdW5jdGlvbihyZXNpZHVvKXtcbiAgICAgIC8vJHNjb3BlLnNlbGVjdF9yZXNpZHVvID0gbnVsbDtcbiAgICAgIHZhciBzZWxlY3RlZFJlc2lkdW9zQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzZWxlY3RlZF9yZXNpZHVvX2NvbnRhaW5lclwiKTtcbiAgICAgIHNlbGVjdGVkUmVzaWR1b3NDb250YWluZXIuY2xhc3NOYW1lPVwic2VsZWN0ZWRfcmVzaWR1byBoaWRkZW5cIjtcbiAgICAgICRzY29wZS5zaG93QWxsUGlucygpO1xuICAgIH1cblxuICAgICRzY29wZS5maWx0ZXJQaW5zID0gZnVuY3Rpb24ocHJvZ3JhbWFzX3N0cil7XG4gICAgICB2YXIgcHJvZ3JhbWFzSWRzID0gcHJvZ3JhbWFzX3N0ci5zcGxpdChcIi5cIik7XG4gICAgICB2YXIga2V5c0FycmF5ID0gT2JqZWN0LmtleXMoJHNjb3BlLmNvbnRhaW5lcnMpO1xuICAgICAga2V5c0FycmF5LmZvckVhY2goZnVuY3Rpb24oaXRlbSl7XG4gICAgICAgIHZhciBpZCA9IGl0ZW0ucmVwbGFjZShcInByb2dJZC1cIiwgXCJcIik7XG4gICAgICAgIGlmKHByb2dyYW1hc0lkcy5pbmRleE9mKGlkKTwwKXtcbiAgICAgICAgICAkc2NvcGUuY29udGFpbmVyc1tpdGVtXS5mb3JFYWNoKGZ1bmN0aW9uKGxheWVyLGtleSl7XG4gICAgICAgICAgICBsYXllci5faWNvbi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgIH0pXG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICRzY29wZS5jb250YWluZXJzW2l0ZW1dLmZvckVhY2goZnVuY3Rpb24obGF5ZXIsa2V5KXtcbiAgICAgICAgICAgIGxheWVyLl9pY29uLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgICRzY29wZS5zaG93QWxsUGlucyA9IGZ1bmN0aW9uKCl7XG4gICAgICB2YXIga2V5c0FycmF5ID0gT2JqZWN0LmtleXMoJHNjb3BlLmNvbnRhaW5lcnMpO1xuICAgICAga2V5c0FycmF5LmZvckVhY2goZnVuY3Rpb24oaXRlbSl7XG4gICAgICAgICRzY29wZS5jb250YWluZXJzW2l0ZW1dLmZvckVhY2goZnVuY3Rpb24obGF5ZXIsa2V5KXtcbiAgICAgICAgICBsYXllci5faWNvbi5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgfSlcbiAgICAgIH0pXG5cbiAgICB9XG5cbiAgICAkc2NvcGUuYWRkUGluc0xheWVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAvKmlmKCRzY29wZS5qc29uTGF5ZXIhPW51bGwpe1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9Ki9cbiAgICAgICRzY29wZS5jb250YWluZXJzID0ge307XG4gICAgICB2YXIgYmFzZVVSTCA9IENvbmZpZ1NlcnZpY2UuYmFzZVVSTDtcbiAgICAgICAgb25FYWNoRmVhdHVyZSA9IGZ1bmN0aW9uKGZlYXR1cmUsIGxheWVyKSB7XG4gICAgICAgICAgdmFyIGh0bWwsIHJlcG9ydElkLCBkZXNjcmlwY2lvbjtcbiAgICAgICAgICBpZiAoZmVhdHVyZS5wcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICBpZighJHNjb3BlLmNvbnRhaW5lcnNbXCJwcm9nSWQtXCIgKyBmZWF0dXJlLnByb3BlcnRpZXMuUHJvZ3JhbWFTdWJQcm9nSURdKXtcbiAgICAgICAgICAgICAgJHNjb3BlLmNvbnRhaW5lcnNbXCJwcm9nSWQtXCIgKyBmZWF0dXJlLnByb3BlcnRpZXMuUHJvZ3JhbWFTdWJQcm9nSURdPVtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJHNjb3BlLmNvbnRhaW5lcnNbXCJwcm9nSWQtXCIgKyBmZWF0dXJlLnByb3BlcnRpZXMuUHJvZ3JhbWFTdWJQcm9nSURdLnB1c2gobGF5ZXIpO1xuICAgICAgICAgICAgbGF5ZXIub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgICRzY29wZS5zZWxlY3RlZF9jb250YWluZXIgPSBDb250YWluZXJTZXJ2aWNlLmJ1aWxkKGUudGFyZ2V0LmZlYXR1cmUucHJvcGVydGllcyk7XG4gICAgICAgICAgICAgICAgaWYoJHNjb3BlLnNlbGVjdGVkX2NvbnRhaW5lci5Ib3JhcmlvPT1udWxsfHwkc2NvcGUuc2VsZWN0ZWRfY29udGFpbmVyLkhvcmFyaW89PXVuZGVmaW5lZHx8JHNjb3BlLnNlbGVjdGVkX2NvbnRhaW5lci5Ib3JhcmlvPT1cIlwiKXtcbiAgICAgICAgICAgICAgICAgICRzY29wZS5zZWxlY3RlZF9jb250YWluZXIuSG9yYXJpbyA9IFwiTm8gZXNwZWNpZmljYVwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAkc2NvcGUuc2VsZWN0ZWRfY29udGFpbmVyLnNldExhdExuZyhlLnRhcmdldC5mZWF0dXJlLmdlb21ldHJ5LmNvb3JkaW5hdGVzWzFdLGUudGFyZ2V0LmZlYXR1cmUuZ2VvbWV0cnkuY29vcmRpbmF0ZXNbMF0pO1xuICAgICAgICAgICAgICAgIHZhciBjb250YWluZXJEZXRhaWxzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb250YWluZXJfZGV0YWlsc1wiKTtcbiAgICAgICAgICAgICAgICBjb250YWluZXJEZXRhaWxzLmNsYXNzTmFtZSA9IFwib3BlblwiO1xuICAgICAgICAgICAgICAgIHZhciBiYWNrTWVudSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibmF2aWdhdGlvbl9iYWNrXCIpO1xuICAgICAgICAgICAgICAgIGJhY2tNZW51LmNsYXNzTmFtZT1cIlwiO1xuICAgICAgICAgICAgICAgIHZhciBtZW51ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJuYXZpZ2F0aW9uX21lbnVcIik7XG4gICAgICAgICAgICAgICAgbWVudS5jbGFzc05hbWUgPSBcImhpZGRlblwiO1xuICAgICAgICAgICAgICAgICRzY29wZS5nb1RvQ2VudGVyKCRzY29wZS5zZWxlY3RlZF9jb250YWluZXIubG9uLCRzY29wZS5zZWxlY3RlZF9jb250YWluZXIubGF0KTtcblxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbCA9IG5ldyBMLkxheWVySlNPTih7XG4gICAgICAgICAgdXJsOiBiYXNlVVJMICsgXCIvZGF0YXV5L2dldF9jb250YWluZXJzX2pzb24vXCIgKyBcIntiYm94fVwiLFxuICAgICAgICAgIGxvY0FzR2VvSlNPTjogdHJ1ZSxcbiAgICAgICAgICBtaW5TaGlmdDogNSxcbiAgICAgICAgICAvL3VwZGF0ZU91dEJvdW5kczogZmFsc2UsXG4gICAgICAgICAgcHJlY2lzaW9uOiAxMCxcbiAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBvbkVhY2hGZWF0dXJlXG4gICAgICAgIH0pO1xuXG5cbiAgICAgIGxlYWZsZXREYXRhLmdldE1hcCgpLnRoZW4oZnVuY3Rpb24obWFwKSB7XG4gICAgICAgIGlmKCRzY29wZS5qc29uTGF5ZXIhPW51bGwpe1xuICAgICAgICAgIG1hcC5yZW1vdmVMYXllcigkc2NvcGUuanNvbkxheWVyKTtcbiAgICAgICAgfVxuICAgICAgICAkc2NvcGUuanNvbkxheWVyID0gbDtcbiAgICAgICAgbWFwLmFkZExheWVyKGwpO1xuICAgICAgfSk7XG5cbiAgICAgICRzY29wZS5sYXN0TWFya2VyTGF5ZXIgPSBudWxsO1xuXG5cbiAgICAgIGwub24oJ2RhdGFsb2FkZWQnLCBmdW5jdGlvbihlKSB7IC8vc2hvdyBsb2FkZWQgZGF0YSFcbiAgICAgICAgJHNjb3BlLnJlcG9ydHMgPSBlLmRhdGEuZmVhdHVyZXM7XG4gICAgICB9KTtcblxuXG4gICAgICBsLm9uKCdsYXllcmFkZCcsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgZS5sYXllci5lYWNoTGF5ZXIoZnVuY3Rpb24oX2xheWVyKSB7XG4gICAgICAgICAgdmFyIGljb24gPSBcIi9pbWcvcGluLWNvbnRhaW5lci5zdmdcIjtcbiAgICAgICAgICBpZihfbGF5ZXIuZmVhdHVyZS5wcm9wZXJ0aWVzLnBpbl91cmwpe1xuICAgICAgICAgICAgaWNvbiA9IF9sYXllci5mZWF0dXJlLnByb3BlcnRpZXMucGluX3VybDtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIG1hcmtlckljb24gPSBMLmljb24oe1xuICAgICAgICAgICAgaWNvblVybDogYmFzZVVSTCArIGljb24sXG4gICAgICAgICAgICBpY29uU2l6ZTogWzI5LCAzNF0sXG4gICAgICAgICAgICBpY29uQW5jaG9yOiBbOCwgOF0sXG4gICAgICAgICAgICBwb3B1cEFuY2hvcjogWzAsIC04XVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIF9sYXllci5zZXRJY29uKG1hcmtlckljb24pO1xuICAgICAgICAgIGlmICgkc2NvcGUuZmVhdHVyZVJlcG9ydHNbX2xheWVyLmZlYXR1cmUucHJvcGVydGllcy5HSURdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICRzY29wZS5mZWF0dXJlUmVwb3J0c1tfbGF5ZXIuZmVhdHVyZS5wcm9wZXJ0aWVzLkdJRF0gPSBfbGF5ZXI7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgfSk7XG4gICAgfTtcblxuICAgICRzY29wZS5nb1RvQ2VudGVyID0gZnVuY3Rpb24obG9uZ1RvLGxhdFRvKXtcbiAgICAgIHZhciBwb3NPcHRpb25zID0ge3RpbWVvdXQ6IDMwMDAsIGVuYWJsZUhpZ2hBY2N1cmFjeTogdHJ1ZX07XG4gICAgICAgICRjb3Jkb3ZhR2VvbG9jYXRpb25cbiAgICAgICAgICAuZ2V0Q3VycmVudFBvc2l0aW9uKHBvc09wdGlvbnMpXG4gICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHBvc2l0aW9uKSB7XG4gICAgICAgICAgICAgICAgdmFyIGxhdEZyb20gID0gcG9zaXRpb24uY29vcmRzLmxhdGl0dWRlO1xuICAgICAgICAgICAgICAgIHZhciBsb25nRnJvbSA9IHBvc2l0aW9uLmNvb3Jkcy5sb25naXR1ZGU7XG4gICAgICAgICAgICAgICAgJHNjb3BlLmdldFJvYWQobGF0RnJvbSxsb25nRnJvbSxsYXRUbyxsb25nVG8pO1xuICAgICAgICAgICAgICAgIC8vJHNjb3BlLm1hcC5tYXJrZXJzLm5vdy5vcGVuUG9wdXAoKTtcbiAgICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICAgICAgLy9Nb3ZlIGEgbGl0dGxlIHRoZSBtYXAgY2VudGVyIGJlY2F1c2UgdGhlIG1hcCB2aWV3IGlzIHNtYWxsZXIgKHJlcG9ydCBsaXN0IGlzIGRpc3BsYXllZClcbiAgICAgICAgICAgICAgICBsYXRUbyA9IGxhdFRvIC0gMC4wMDA2O1xuICAgICAgICAgICAgICAgIE1hcFNlcnZpY2UuY2VudGVyTWFwT25Db29yZHMobGF0VG8sbG9uZ1RvLDE3KTtcbiAgICAgICAgICAgICAgICAvL0Vycm9yU2VydmljZS5zaG93X2Vycm9yX21lc3NhZ2VfcG9wdXAoXCJObyBoZW1vcyBwb2RpZG8gZ2VvbG9jYWxpemFybG8uIMK/VGFsIHZleiBvbHZpZMOzIGhhYmlsaXRhciBsb3Mgc2VydmljaW9zIGRlIGxvY2FsaXphY2nDs24gZW4gc3UgZGlzcG9zaXRpdm8/XCIpXG4gICAgICAgICAgICAgIH0pO1xuICAgIH07XG5cbiAgICAkc2NvcGUubGFzdFJvYWQgPSBudWxsO1xuXG4gICAgJHNjb3BlLm5hdl9iYWNrID0gZnVuY3Rpb24oKXtcbiAgICAgICRzY29wZS5oaWRlX3NwZWNpYWxfZGl2cygpO1xuICAgICAgaWYoJHNjb3BlLmxhc3RSb2FkIT1udWxsKXtcbiAgICAgICAgJHNjb3BlLmxhc3RSb2FkLnNwbGljZVdheXBvaW50cygwLCAyKTtcbiAgICAgICAgbGVhZmxldERhdGEuZ2V0TWFwKCkudGhlbihmdW5jdGlvbihtYXApIHtcbiAgICAgICAgICBtYXAucmVtb3ZlQ29udHJvbCgkc2NvcGUubGFzdFJvYWQpXG4gICAgICAgICAgJHNjb3BlLmxhc3RSb2FkPW51bGw7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgICRzY29wZS53YWxrdGhyb3VnaCA9IGZ1bmN0aW9uKCl7XG4gICAgICBpZigkc2NvcGUud2Fsa3Rocm91Z2hfbW9kYWwhPW51bGwpe1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICB2YXIgZG9uZVdhbGt0aHJvdWdoID0gREJTZXJ2aWNlLmdldERvbmVXYWxrdGhyb3VnaCgpO1xuICAgICAgZG9uZVdhbGt0aHJvdWdoLnRoZW4oZnVuY3Rpb24gKGRvYykge1xuICAgICAgICBpZihkb2Muc3RhdHVzIT1udWxsICYmIGRvYy5zdGF0dXM9PVwiZG9uZVwiKXtcbiAgICAgICAgICAvL1lhIGxvIHZpw7MgdW5hIHZlelxuICAgICAgICAgIC8vJHNjb3BlLm9wZW5XYWxrVGhyb3VnaE1vZGFsKCk7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICRzY29wZS5vcGVuV2Fsa1Rocm91Z2hNb2RhbCgpO1xuICAgICAgICB9XG4gICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICRzY29wZS5vcGVuV2Fsa1Rocm91Z2hNb2RhbCgpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgJHNjb3BlLndhbGt0aHJvdWdoRnJvbU1lbnUgPSBmdW5jdGlvbigpe1xuICAgICAgJHNjb3BlLmNsb3NlTWFpbk1lbnUoKTtcbiAgICAgICRzY29wZS5vcGVuV2Fsa1Rocm91Z2hNb2RhbCgpO1xuICAgIH1cblxuICAgICRzY29wZS5vcGVuV2Fsa1Rocm91Z2hNb2RhbCA9IGZ1bmN0aW9uKCl7XG4gICAgICAkaW9uaWNNb2RhbC5mcm9tVGVtcGxhdGVVcmwoJ3RlbXBsYXRlcy93YWxrdGhyb3VnaC5odG1sJywge1xuICAgICAgICBzY29wZTogJHNjb3BlLFxuICAgICAgICBoYXJkd2FyZUJhY2tCdXR0b25DbG9zZTogZmFsc2UsXG4gICAgICAgIGFuaW1hdGlvbjogJ3NsaWRlLWluLXVwJyxcbiAgICAgICAgLy9mb2N1c0ZpcnN0SW5wdXQ6IHRydWVcbiAgICAgIH0pLnRoZW4oZnVuY3Rpb24obW9kYWwpIHtcbiAgICAgICAgICAkc2NvcGUud2Fsa3Rocm91Z2hfbW9kYWwgPSBtb2RhbDtcbiAgICAgICAgICAkc2NvcGUud2Fsa3Rocm91Z2hfbW9kYWwuc2hvdygpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgJHNjb3BlLmZpbmlzaFdhbGt0aHJvdWdoID0gZnVuY3Rpb24oKXtcbiAgICAgICRzY29wZS53YWxrdGhyb3VnaF9tb2RhbC5oaWRlKCk7XG4gICAgICAkc2NvcGUud2Fsa3Rocm91Z2hfbW9kYWwucmVtb3ZlKCk7XG4gICAgICBEQlNlcnZpY2Uuc2F2ZURvbmVXYWxrdGhyb3VnaCgpO1xuICAgIH1cblxuICAgICRzY29wZS5zdWJqZWN0ID0gXCJGZWVkYmFja1wiO1xuXG4gICAgJHNjb3BlLnRvZ2dsZUdyb3VwID0gZnVuY3Rpb24oZ3JvdXApIHtcbiAgICAgIGlmICgkc2NvcGUuaXNHcm91cFNob3duKGdyb3VwKSkge1xuICAgICAgICAkc2NvcGUuc2hvd25Hcm91cCA9IG51bGw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkc2NvcGUuc2hvd25Hcm91cCA9IGdyb3VwO1xuICAgICAgfVxuICAgICAgJGlvbmljU2Nyb2xsRGVsZWdhdGUucmVzaXplKCk7XG4gICAgfTtcblxuICAgICRzY29wZS5pc0dyb3VwU2hvd24gPSBmdW5jdGlvbihncm91cCkge1xuICAgICAgcmV0dXJuICRzY29wZS5zaG93bkdyb3VwID09PSBncm91cDtcbiAgICB9O1xuXG4gICAgJHNjb3BlLm9wZW5Qcm9ncmFtYXMgPSBmdW5jdGlvbigpe1xuICAgICAgJHNjb3BlLm1haW5fbWVudV9tb2RhbC5oaWRlKCk7XG4gICAgICAkc2NvcGUubWFpbl9tZW51X21vZGFsLnJlbW92ZSgpO1xuICAgICAgJGlvbmljTW9kYWwuZnJvbVRlbXBsYXRlVXJsKCd0ZW1wbGF0ZXMvcHJvZ3JhbWFzLmh0bWwnLCB7XG4gICAgICAgIHNjb3BlOiAkc2NvcGUsXG4gICAgICAgIGhhcmR3YXJlQmFja0J1dHRvbkNsb3NlOiB0cnVlLFxuICAgICAgICBhbmltYXRpb246ICdub25lJyxcbiAgICAgICAgLy9mb2N1c0ZpcnN0SW5wdXQ6IHRydWVcbiAgICAgIH0pLnRoZW4oZnVuY3Rpb24obW9kYWwpIHtcbiAgICAgICAgICAkc2NvcGUuaXRlbV9tb2RhbCA9IG1vZGFsO1xuICAgICAgICAgICRzY29wZS5pdGVtX21vZGFsLnNob3coKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgICRzY29wZS5jbGlja1RpcG9SZXNpZHVvID0gZnVuY3Rpb24oaWQpe1xuICAgICAgJHNjb3BlLnNjcm9sbE1lKGlkKTtcbiAgICB9XG5cbiAgICAkc2NvcGUub3BlbkNsYXNpZmljYXIgPSBmdW5jdGlvbigpe1xuICAgICAgJHNjb3BlLm1haW5fbWVudV9tb2RhbC5oaWRlKCk7XG4gICAgICAkc2NvcGUubWFpbl9tZW51X21vZGFsLnJlbW92ZSgpO1xuICAgICAgJGlvbmljTW9kYWwuZnJvbVRlbXBsYXRlVXJsKCd0ZW1wbGF0ZXMvY2xhc2lmaWNhci5odG1sJywge1xuICAgICAgICBzY29wZTogJHNjb3BlLFxuICAgICAgICBoYXJkd2FyZUJhY2tCdXR0b25DbG9zZTogdHJ1ZSxcbiAgICAgICAgYW5pbWF0aW9uOiAnbm9uZScsXG4gICAgICAgIC8vZm9jdXNGaXJzdElucHV0OiB0cnVlXG4gICAgICB9KS50aGVuKGZ1bmN0aW9uKG1vZGFsKSB7XG4gICAgICAgICAgJHNjb3BlLml0ZW1fbW9kYWwgPSBtb2RhbDtcbiAgICAgICAgICAkc2NvcGUuaXRlbV9tb2RhbC5zaG93KCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAkc2NvcGUub3BlbkFib3V0UHJveWVjdCA9IGZ1bmN0aW9uKCl7XG4gICAgICAkc2NvcGUubWFpbl9tZW51X21vZGFsLmhpZGUoKTtcbiAgICAgICRzY29wZS5tYWluX21lbnVfbW9kYWwucmVtb3ZlKCk7XG4gICAgICAkaW9uaWNNb2RhbC5mcm9tVGVtcGxhdGVVcmwoJ3RlbXBsYXRlcy9zb2JyZV9wcm95ZWN0by5odG1sJywge1xuICAgICAgICBzY29wZTogJHNjb3BlLFxuICAgICAgICBoYXJkd2FyZUJhY2tCdXR0b25DbG9zZTogdHJ1ZSxcbiAgICAgICAgYW5pbWF0aW9uOiAnbm9uZScsXG4gICAgICAgIC8vZm9jdXNGaXJzdElucHV0OiB0cnVlXG4gICAgICB9KS50aGVuKGZ1bmN0aW9uKG1vZGFsKSB7XG4gICAgICAgICAgJHNjb3BlLml0ZW1fbW9kYWwgPSBtb2RhbDtcbiAgICAgICAgICAkc2NvcGUuaXRlbV9tb2RhbC5zaG93KCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAkc2NvcGUubmV3cyA9IG51bGw7XG5cbiAgICAkc2NvcGUuZ290b0xpbmsgPSBmdW5jdGlvbiAodXJsKSB7XG4gICAgICB3aW5kb3cub3Blbih1cmwsJ19zeXN0ZW0nKTtcbiAgICB9XG5cbiAgICAkc2NvcGUub3Blbk5ld3MgPSBmdW5jdGlvbigpe1xuICAgICAgJHNjb3BlLnNob3dEaXYoXCJtZW51LXNwaW5uZXJcIik7XG4gICAgICBOZXdzU2VydmljZS5hbGwoKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAkc2NvcGUubmV3cyA9IHJlc3BvbnNlLmRhdGEuaXRlbXM7XG4gICAgICAgIGlmKCRzY29wZS5pdGVtX21vZGFsIT1udWxsKXtcbiAgICAgICAgICAkc2NvcGUuaXRlbV9tb2RhbC5oaWRlKCk7XG4gICAgICAgICAgJHNjb3BlLml0ZW1fbW9kYWwucmVtb3ZlKCk7XG4gICAgICAgIH1cbiAgICAgICAgJHNjb3BlLmhpZGVEaXYoXCJtZW51LXNwaW5uZXJcIik7XG4gICAgICAgICRzY29wZS5tYWluX21lbnVfbW9kYWwuaGlkZSgpO1xuICAgICAgICAkc2NvcGUubWFpbl9tZW51X21vZGFsLnJlbW92ZSgpO1xuICAgICAgICAkaW9uaWNNb2RhbC5mcm9tVGVtcGxhdGVVcmwoJ3RlbXBsYXRlcy9uZXdzLmh0bWwnLCB7XG4gICAgICAgICAgc2NvcGU6ICRzY29wZSxcbiAgICAgICAgICBoYXJkd2FyZUJhY2tCdXR0b25DbG9zZTogdHJ1ZSxcbiAgICAgICAgICBhbmltYXRpb246ICdub25lJyxcbiAgICAgICAgICAvL2ZvY3VzRmlyc3RJbnB1dDogdHJ1ZVxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKG1vZGFsKSB7XG4gICAgICAgICAgICAkc2NvcGUuaXRlbV9tb2RhbCA9IG1vZGFsO1xuICAgICAgICAgICAgJHNjb3BlLml0ZW1fbW9kYWwuc2hvdygpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgICRzY29wZS5zaG93RGl2ID0gZnVuY3Rpb24oZGl2SWQpe1xuICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGRpdklkKTtcbiAgICAgIGRpdi5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpO1xuICAgIH1cblxuICAgICRzY29wZS5oaWRlRGl2ID0gZnVuY3Rpb24oZGl2SWQsIGRpdkNsYXNzKXtcbiAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChkaXZJZCk7XG4gICAgICBkaXYuY2xhc3NOYW1lID0gZGl2LmNsYXNzTmFtZSArIFwiIGhpZGRlblwiO1xuICAgIH1cblxuICAgICRzY29wZS5vcGVuQ29udGFjdCA9IGZ1bmN0aW9uKCl7XG4gICAgICAkc2NvcGUuc3ViamVjdCA9IFwiRmVlZGJhY2tcIjtcbiAgICAgIGlmKCRzY29wZS5pdGVtX21vZGFsIT1udWxsKXtcbiAgICAgICAgJHNjb3BlLml0ZW1fbW9kYWwuaGlkZSgpO1xuICAgICAgICAkc2NvcGUuaXRlbV9tb2RhbC5yZW1vdmUoKTtcbiAgICAgIH1cbiAgICAgICRzY29wZS5tYWluX21lbnVfbW9kYWwuaGlkZSgpO1xuICAgICAgJHNjb3BlLm1haW5fbWVudV9tb2RhbC5yZW1vdmUoKTtcbiAgICAgICRpb25pY01vZGFsLmZyb21UZW1wbGF0ZVVybCgndGVtcGxhdGVzL2NvbnRhY3QuaHRtbCcsIHtcbiAgICAgICAgc2NvcGU6ICRzY29wZSxcbiAgICAgICAgaGFyZHdhcmVCYWNrQnV0dG9uQ2xvc2U6IHRydWUsXG4gICAgICAgIGFuaW1hdGlvbjogJ25vbmUnLFxuICAgICAgICAvL2ZvY3VzRmlyc3RJbnB1dDogdHJ1ZVxuICAgICAgfSkudGhlbihmdW5jdGlvbihtb2RhbCkge1xuICAgICAgICAgICRzY29wZS5pdGVtX21vZGFsID0gbW9kYWw7XG4gICAgICAgICAgJHNjb3BlLml0ZW1fbW9kYWwuc2hvdygpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgJHNjb3BlLm9wZW5Db250YWN0U3VjY2VzcyA9IGZ1bmN0aW9uKCl7XG4gICAgICAkc2NvcGUuaXRlbV9tb2RhbC5oaWRlKCk7XG4gICAgICAkc2NvcGUuaXRlbV9tb2RhbC5yZW1vdmUoKTtcbiAgICAgICRpb25pY01vZGFsLmZyb21UZW1wbGF0ZVVybCgndGVtcGxhdGVzL2NvbnRhY3Rfc3VjY2Vzcy5odG1sJywge1xuICAgICAgICBzY29wZTogJHNjb3BlLFxuICAgICAgICBoYXJkd2FyZUJhY2tCdXR0b25DbG9zZTogdHJ1ZSxcbiAgICAgICAgYW5pbWF0aW9uOiAnbm9uZScsXG4gICAgICB9KS50aGVuKGZ1bmN0aW9uKG1vZGFsKSB7XG4gICAgICAgICAgJHNjb3BlLml0ZW1fbW9kYWwgPSBtb2RhbDtcbiAgICAgICAgICAkc2NvcGUuaXRlbV9tb2RhbC5zaG93KCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAkc2NvcGUuc2VuZF9jb250YWN0X3JlcXVlc3QgPSBmdW5jdGlvbigpe1xuICAgICAgdmFyIG5hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbnRhY3Rfbm9tYnJlXCIpO1xuICAgICAgdmFyIGVtYWlsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb250YWN0X2VtYWlsXCIpO1xuICAgICAgdmFyIHN1YmplY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbnRhY3Rfc2VsZWN0XCIpO1xuICAgICAgdmFyIG1lc3NhZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbnRhY3RfbWVuc2FqZVwiKTtcbiAgICAgIHZhciBlcnJvckxhYmVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb250YWN0X2Vycm9yX2xhYmVsXCIpO1xuICAgICAgaWYoRXJyb3JTZXJ2aWNlLmNoZWNrX2ZpZWxkKG5hbWUsXCJub3ROdWxsXCIsZXJyb3JMYWJlbCkmJlxuICAgICAgICBFcnJvclNlcnZpY2UuY2hlY2tfZmllbGQoZW1haWwsXCJub3ROdWxsXCIsZXJyb3JMYWJlbCkmJlxuICAgICAgICBFcnJvclNlcnZpY2UuY2hlY2tfZmllbGQoZW1haWwsXCJlbWFpbFwiLGVycm9yTGFiZWwpJiZcbiAgICAgICAgRXJyb3JTZXJ2aWNlLmNoZWNrX2ZpZWxkKHN1YmplY3QsXCJzZWxlY3RcIixlcnJvckxhYmVsKSYmXG4gICAgICAgIEVycm9yU2VydmljZS5jaGVja19maWVsZChtZXNzYWdlLFwibm90TnVsbFwiLGVycm9yTGFiZWwpKXtcbiAgICAgICAgQ29udGFjdFNlcnZpY2Uuc2VuZF9jb250YWN0KG5hbWUudmFsdWUsZW1haWwudmFsdWUsc3ViamVjdFtzdWJqZWN0LnNlbGVjdGVkSW5kZXhdLnZhbHVlLG1lc3NhZ2UudmFsdWUpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgaWYoRXJyb3JTZXJ2aWNlLmh0dHBfZGF0YV9yZXNwb25zZV9pc19zdWNjZXNzZnVsX2FqYXgocmVzcG9uc2UpKXtcbiAgICAgICAgICAgICRzY29wZS5vcGVuQ29udGFjdFN1Y2Nlc3MoKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgIH1lbHNle1xuICAgICAgICB2YXIgZXJyb3JDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbnRhY3RfZXJyb3JcIik7XG4gICAgICAgIGVycm9yQ29udGFpbmVyLmNsYXNzTmFtZSA9IFwiY29udGFjdF9lcnJvclwiO1xuICAgICAgfVxuICAgIH1cblxuICAgICRzY29wZS5vcGVuTWFpbk1lbnVGcm9tSXRlbSA9IGZ1bmN0aW9uKCl7XG4gICAgICAkc2NvcGUuaXRlbV9tb2RhbC5oaWRlKCk7XG4gICAgICAkc2NvcGUuaXRlbV9tb2RhbC5yZW1vdmUoKTtcbiAgICAgICRpb25pY01vZGFsLmZyb21UZW1wbGF0ZVVybCgndGVtcGxhdGVzL21haW5fbWVudS5odG1sJywge1xuICAgICAgICBzY29wZTogJHNjb3BlLFxuICAgICAgICBoYXJkd2FyZUJhY2tCdXR0b25DbG9zZTogdHJ1ZSxcbiAgICAgICAgYW5pbWF0aW9uOiAnbm9uZScsXG4gICAgICAgIC8vZm9jdXNGaXJzdElucHV0OiB0cnVlXG4gICAgICB9KS50aGVuKGZ1bmN0aW9uKG1vZGFsKSB7XG4gICAgICAgICAgJHNjb3BlLm1haW5fbWVudV9tb2RhbCA9IG1vZGFsO1xuICAgICAgICAgICRzY29wZS5tYWluX21lbnVfbW9kYWwuc2hvdygpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgJHNjb3BlLm9wZW5NYWluTWVudSA9IGZ1bmN0aW9uKCl7XG4gICAgICAkaW9uaWNNb2RhbC5mcm9tVGVtcGxhdGVVcmwoJ3RlbXBsYXRlcy9tYWluX21lbnUuaHRtbCcsIHtcbiAgICAgICAgc2NvcGU6ICRzY29wZSxcbiAgICAgICAgaGFyZHdhcmVCYWNrQnV0dG9uQ2xvc2U6IHRydWUsXG4gICAgICAgIGFuaW1hdGlvbjogJ25vbmUnLFxuICAgICAgICAvL2ZvY3VzRmlyc3RJbnB1dDogdHJ1ZVxuICAgICAgfSkudGhlbihmdW5jdGlvbihtb2RhbCkge1xuICAgICAgICAgICRzY29wZS5tYWluX21lbnVfbW9kYWwgPSBtb2RhbDtcbiAgICAgICAgICAkc2NvcGUubWFpbl9tZW51X21vZGFsLnNob3coKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgICRzY29wZS5jbG9zZU1haW5NZW51ID0gZnVuY3Rpb24oKXtcbiAgICAgICRzY29wZS5tYWluX21lbnVfbW9kYWwuaGlkZSgpO1xuICAgICAgJHNjb3BlLm1haW5fbWVudV9tb2RhbC5yZW1vdmUoKTtcbiAgICB9XG5cbiAgICAkc2NvcGUuZ2V0Um9hZCA9IGZ1bmN0aW9uKExhdEZyb20sTG9uZ0Zyb20sbGF0VG8sbG9uZ1RvKXtcbiAgICAgIGxlYWZsZXREYXRhLmdldE1hcCgpLnRoZW4oZnVuY3Rpb24obWFwKSB7XG4gICAgICAgIG1hcC5jbG9zZVBvcHVwKCk7XG4gICAgICAgIHZhciBtYXJrZXJJY29uID0gTC5pY29uKHtcbiAgICAgICAgICBpY29uVXJsOiBcIi4vaW1nL21lLnN2Z1wiLFxuICAgICAgICAgIGljb25TaXplOiBbMjksIDM0XSxcbiAgICAgICAgICBpY29uQW5jaG9yOiBbOCwgOF0sXG4gICAgICAgICAgcG9wdXBBbmNob3I6IFswLCAtOF1cbiAgICAgICAgfSk7XG4gICAgICAgIGlmKCRzY29wZS5ub3dfbWFya2VyIT1udWxsKXtcbiAgICAgICAgICBtYXAucmVtb3ZlTGF5ZXIoJHNjb3BlLm5vd19tYXJrZXIpO1xuICAgICAgICB9XG4gICAgICAgICRzY29wZS5ub3dfbWFya2VyID0gTC5tYXJrZXIoW0xhdEZyb20sIExvbmdGcm9tXSwge2ljb246IG1hcmtlckljb259KS5hZGRUbyhtYXApO1xuICAgICAgICBpZigkc2NvcGUubGFzdFJvYWQhPW51bGwpe1xuICAgICAgICAgICRzY29wZS5sYXN0Um9hZC5zcGxpY2VXYXlwb2ludHMoMCwgMik7XG4gICAgICAgICAgbWFwLnJlbW92ZUNvbnRyb2woJHNjb3BlLmxhc3RSb2FkKVxuICAgICAgICAgICRzY29wZS5sYXN0Um9hZD1udWxsO1xuICAgICAgICB9XG4gICAgICAgICRzY29wZS5sYXN0Um9hZCA9IEwuUm91dGluZy5jb250cm9sKHtcbiAgICAgICAgICB3YXlwb2ludHM6IFtcbiAgICAgICAgICAgIEwubGF0TG5nKExhdEZyb20sTG9uZ0Zyb20pLFxuICAgICAgICAgICAgTC5sYXRMbmcobGF0VG8sbG9uZ1RvKVxuICAgICAgICAgIF0sXG4gICAgICAgICAgbGFuZ3VhZ2U6XCJlc1wiLFxuICAgICAgICAgIHJvdXRlcjogTC5Sb3V0aW5nLm1hcGJveCgncGsuZXlKMUlqb2liR2wwYjNod1pYSmhiRzlqWVNJc0ltRWlPaUpqYWpOaGRIVXpiVE13TVRRd01uRndhR1JpZG1jMmVtWjVJbjAuZEVENEQ0X0xCalJjLXNHYTV6dDVZZycpLFxuICAgICAgICAgIGNyZWF0ZU1hcmtlcjogZnVuY3Rpb24gKGksIHN0YXJ0LCBuKXtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgbGluZU9wdGlvbnM6IHtcbiAgICAgICAgICAgICBzdHlsZXM6IFt7Y29sb3I6ICcjNGM0YzRjJywgb3BhY2l0eTogMSwgd2VpZ2h0OiA1fV1cbiAgICAgICAgICB9LFxuICAgICAgICAgIGZpdFNlbGVjdGVkUm91dGVzOiBmYWxzZVxuICAgICAgICB9KS5hZGRUbyhtYXApO1xuICAgICAgICAvL01vdmUgYSBsaXR0bGUgdGhlIG1hcCBjZW50ZXIgYmVjYXVzZSB0aGUgbWFwIHZpZXcgaXMgc21hbGxlciAocmVwb3J0IGxpc3QgaXMgZGlzcGxheWVkKVxuICAgICAgICBsYXRUbyA9IGxhdFRvIC0gMC4wMDA4O1xuICAgICAgICBNYXBTZXJ2aWNlLmNlbnRlck1hcE9uQ29vcmRzKGxhdFRvLGxvbmdUbywxNyk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBTdWdnZXN0aW9uXG4gICAgJHNjb3BlLm1vZGVsID0gW107XG4gICAgJHNjb3BlLmV4dGVybmFsTW9kZWwgPSBbXTtcbiAgICAkc2NvcGUuc2VsZWN0ZWRJdGVtcyA9IFtdO1xuICAgICRzY29wZS5wcmVzZWxlY3RlZFNlYXJjaEl0ZW1zID0gW107XG4gICAgJHNjb3BlLmNsaWNrZWRWYWx1ZU1vZGVsID0gXCJcIjtcbiAgICAkc2NvcGUucmVtb3ZlZFZhbHVlTW9kZWwgPSBcIlwiO1xuXG4gICAgJHNjb3BlLml0ZW1zUmVtb3ZlZCA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgICAkc2NvcGUucmVtb3ZlZFZhbHVlTW9kZWwgPSBjYWxsYmFjaztcbiAgICB9O1xuXG4gICAgJHNjb3BlLnVzZXJfb3B0aW9ucyA9IGZ1bmN0aW9uKCl7XG4gICAgICB2YXIgbWVudSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidXNlci1vcHRpb25zLW1lbnVcIik7XG4gICAgICBpZihtZW51LnN0eWxlLmRpc3BsYXk9PVwiYmxvY2tcIil7XG4gICAgICAgIG1lbnUuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgfWVsc2V7XG4gICAgICAgIHZhciBuYW1lID0gVXNlclNlcnZpY2UubmFtZTtcbiAgICAgICAgaWYobmFtZT09bnVsbCl7XG4gICAgICAgICAgLy9ObyBlc3RhIGxvZ3VlYWRvXG4gICAgICAgICAgJHNjb3BlLnNob3dfYW5vbnltb3VzX21lbnUoKTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgLy9Fc3TDoSBsb2d1ZWFkb1xuICAgICAgICAgICRzY29wZS5zaG93X3VzZXJfbWVudSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgJHNjb3BlLnNob3dfYW5vbnltb3VzX21lbnUgPSBmdW5jdGlvbigpe1xuICAgICAgdmFyIG1lbnUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInVzZXItb3B0aW9ucy1tZW51XCIpO1xuICAgICAgdmFyIGh0bWwgPSBcIjxkaXYgaWQ9J2F1dGhfb3B0aW9ucyc+PGRpdiBjbGFzcz0nbm9uYXV0aC1saW5rJyBuZy1jbGljaz0nc2hvd19sb2dpbl9tb2RhbCgpJz5JbmljaWFyIHNlc2nDs248L2Rpdj5cIjtcbiAgICAgIGh0bWwgPSBodG1sICsgXCI8ZGl2IGNsYXNzPSdub25hdXRoLWxpbmsnIG5nLWNsaWNrPSdzaG93X3NpZ25fdXBfbW9kYWwoKSc+UmVnaXN0cmFyc2U8L2Rpdj48L2Rpdj5cIjtcbiAgICAgIG1lbnUuaW5uZXJIVE1MID0gaHRtbDtcbiAgICAgICRjb21waWxlKG1lbnUpKCRzY29wZSk7IC8vPC0tLS0gcmVjb21waWxhdGlvblxuICAgICAgbWVudS5zdHlsZS5oZWlnaHQgPSAnMTIwcHgnO1xuICAgICAgbWVudS5zdHlsZS53aWR0aCA9ICcxNTBweCc7XG4gICAgICBtZW51LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgfVxuXG4gICAgJHNjb3BlLnNob3dfdXNlcl9tZW51ID0gZnVuY3Rpb24oKXtcbiAgICAgIHZhciBtZW51ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ1c2VyLW9wdGlvbnMtbWVudVwiKTtcbiAgICAgIHZhciBodG1sID0gVXNlclNlcnZpY2UubmFtZSArIFwiPGRpdiBpZD0nYXV0aF9vcHRpb25zJz48ZGl2IGNsYXNzPSd1c2VyLWxvZ2dlZC1saW5rJyBuZy1jbGljaz0nc2hvd19lZGl0X3Byb2ZpbGVfbW9kYWwoKSc+TWkgcGVyZmlsPC9kaXY+XCI7XG4gICAgICBodG1sID0gaHRtbCArIFwiPGRpdiBjbGFzcz0ndXNlci1sb2dnZWQtbGluaycgbmctY2xpY2s9J2xpc3Rfb2ZmbGluZV9yZXBvcnRzX21lbnUoKSc+UmVwb3J0ZXMgcGVuZGllbnRlczwvZGl2PlwiO1xuICAgICAgaHRtbCA9IGh0bWwgKyBcIjxkaXYgY2xhc3M9J3VzZXItbG9nZ2VkLWxpbmsnIG5nLWNsaWNrPSdzaWduX291dCgpJz5DZXJyYXIgc2VzacOzbjwvZGl2PjwvZGl2PlwiO1xuICAgICAgbWVudS5pbm5lckhUTUwgPSBodG1sO1xuICAgICAgJGNvbXBpbGUobWVudSkoJHNjb3BlKTsgLy88LS0tLSByZWNvbXBpbGF0aW9uXG4gICAgICBtZW51LnN0eWxlLmhlaWdodCA9ICcxNjBweCc7XG4gICAgICBtZW51LnN0eWxlLndpZHRoID0gJzIwMHB4JztcbiAgICAgIG1lbnUuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICB9O1xuXG4gICAgJHNjb3BlLmNyZWF0ZV9maWVsZF9hcnJheSA9IGZ1bmN0aW9uKG5hbWUsdHlwZSx2YWx1ZSl7XG4gICAgICB2YXIgZmllbGQgPSBuZXcgQXJyYXkoKTtcbiAgICAgIGZpZWxkLm5hbWUgPSBuYW1lO1xuICAgICAgZmllbGQudHlwZSA9IHR5cGU7XG4gICAgICBmaWVsZC52YWx1ZSA9IHZhbHVlO1xuICAgICAgcmV0dXJuIGZpZWxkO1xuICAgIH07XG5cbiAgICAkc2NvcGUuc2lnbl9pbiA9IGZ1bmN0aW9uKGVtYWlsLCBwYXNzd29yZCl7XG4gICAgICBpZihDb25uZWN0aXZpdHlTZXJ2aWNlLmlzT25saW5lKCkpe1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXItaW5zaWRlLW1vZGFsXCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgIHZhciBmaWVsZHMgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgZmllbGRzLnB1c2goJHNjb3BlLmNyZWF0ZV9maWVsZF9hcnJheShcIkVtYWlsXCIsXCJlbWFpbFwiLGVtYWlsKSk7XG4gICAgICAgIGZpZWxkcy5wdXNoKCRzY29wZS5jcmVhdGVfZmllbGRfYXJyYXkoXCJDb250cmFzZcOxYVwiLFwibm90TnVsbFwiLHBhc3N3b3JkKSk7XG4gICAgICAgIGlmKEVycm9yU2VydmljZS5jaGVja19maWVsZHMoZmllbGRzLFwiZXJyb3JfY29udGFpbmVyXCIpKXtcbiAgICAgICAgICBBdXRoU2VydmljZS5zaWduX2luKHBhc3N3b3JkLCBlbWFpbCkudGhlbihmdW5jdGlvbihyZXNwKSB7XG4gICAgICAgICAgICBpZihFcnJvclNlcnZpY2UuaHR0cF9yZXNwb25zZV9pc19zdWNjZXNzZnVsKHJlc3AsXCJlcnJvcl9jb250YWluZXJcIikpe1xuICAgICAgICAgICAgICBVc2VyU2VydmljZS5zYXZlX3VzZXJfZGF0YShyZXNwLmRhdGEubmFtZSwgZW1haWwsIHBhc3N3b3JkLCByZXNwLmRhdGEuaWRlbnRpdHlfZG9jdW1lbnQsIHJlc3AuZGF0YS5waG9uZSwgcmVzcC5kYXRhLnBpY3R1cmVfdXJsKTtcbiAgICAgICAgICAgICAgREJTZXJ2aWNlLnNhdmVVc2VyKHJlc3AuZGF0YS5uYW1lLGVtYWlsLHBhc3N3b3JkLHJlc3AuZGF0YS5pZGVudGl0eV9kb2N1bWVudCxyZXNwLmRhdGEucGhvbmUscmVzcC5kYXRhLnBpY3R1cmVfdXJsKTtcbiAgICAgICAgICAgICAgLy8kc2NvcGUuc2V0X3VzZXJfcGljdHVyZSgxKTtcbiAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyLWluc2lkZS1tb2RhbFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICAgICRzY29wZS5jbG9zZV9sb2dpbl9tb2RhbCgpO1xuICAgICAgICAgICAgICAvLyRzY29wZS5jaGVja191c2VyX2xvZ2dlZCgpO1xuICAgICAgICAgICAgICAkc2NvcGUuc2V0X3VzZXJfcGljdHVyZSgxKTtcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXItaW5zaWRlLW1vZGFsXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCBmdW5jdGlvbihyZXNwKSB7XG4gICAgICAgICAgICAvL2FsZXJ0KFwiRXJyb3IgZW4gc2lnbl9pblwiKTtcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lci1pbnNpZGUtbW9kYWxcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgRXJyb3JTZXJ2aWNlLnNob3dfZXJyb3JfbWVzc2FnZShcImVycm9yX2NvbnRhaW5lclwiLHJlc3Auc3RhdHVzVGV4dCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lci1pbnNpZGUtbW9kYWxcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICB9XG5cbiAgICAgIH1lbHNle1xuICAgICAgICBQb3BVcFNlcnZpY2Uuc2hvd19hbGVydChcIlNpbiBjb25leGnDs24gYSBpbnRlcm5ldFwiLFwiUGFyYSBpbmljaWFyIHNlc2nDs24gZGViZSBlc3RhciBjb25lY3RhZG8gYSBpbnRlcm5ldFwiKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAkc2NvcGUuc2lnbl9pbl9hamF4ID0gZnVuY3Rpb24oZW1haWwsIHBhc3N3b3JkKXtcbiAgICAgIEF1dGhTZXJ2aWNlLnNpZ25faW4ocGFzc3dvcmQsIGVtYWlsKS50aGVuKGZ1bmN0aW9uKHJlc3ApIHtcbiAgICAgICAgaWYoRXJyb3JTZXJ2aWNlLmh0dHBfcmVzcG9uc2VfaXNfc3VjY2Vzc2Z1bF9hamF4KHJlc3ApKXtcbiAgICAgICAgICBVc2VyU2VydmljZS5zYXZlX3VzZXJfZGF0YShyZXNwLmRhdGEubmFtZSwgZW1haWwsIHBhc3N3b3JkLCByZXNwLmRhdGEuaWRlbnRpdHlfZG9jdW1lbnQsIHJlc3AuZGF0YS5waG9uZSwgcmVzcC5kYXRhLnBpY3R1cmVfdXJsKTtcbiAgICAgICAgICBEQlNlcnZpY2Uuc2F2ZVVzZXIocmVzcC5kYXRhLm5hbWUsZW1haWwscGFzc3dvcmQscmVzcC5kYXRhLmlkZW50aXR5X2RvY3VtZW50LHJlc3AuZGF0YS5waG9uZSxyZXNwLmRhdGEucGljdHVyZV91cmwpO1xuICAgICAgICAgICRzY29wZS5zZXRfdXNlcl9waWN0dXJlKDEpO1xuICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuXG4gICAgICB9LCBmdW5jdGlvbihyZXNwKSB7XG4gICAgICAgIC8vRXJyb3JTZXJ2aWNlLnNob3dfZXJyb3JfbWVzc2FnZV9wb3B1cChyZXNwLnN0YXR1c1RleHQpO1xuICAgICAgICByZXR1cm4gMDtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgICRzY29wZS5zaWduX291dCA9IGZ1bmN0aW9uKCl7XG4gICAgICBVc2VyU2VydmljZS5lcmFzZV91c2VyX2RhdGEoKTtcbiAgICAgIERCU2VydmljZS5lcmFzZVVzZXIoKTtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lclwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAkc2NvcGUuc2V0X3VzZXJfcGljdHVyZSgwKTtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidXNlci1vcHRpb25zLW1lbnVcIikuc3R5bGUuZGlzcGxheT1cIm5vbmVcIjtcbiAgICB9XG5cblxuICAgICRzY29wZS5jaGVja191c2VyX2xvZ2dlZCA9IGZ1bmN0aW9uKCl7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgJHNjb3BlLnNldF9vZmZsaW5lX3VzZXIgPSBmdW5jdGlvbigpe1xuICAgIH1cblxuXG5cbiAgICAkc2NvcGUuc2V0X3VzZXJfcGljdHVyZSA9IGZ1bmN0aW9uKGhhc1Bob3RvKXtcbiAgICB9XG5cbiAgICAkc2NvcGUuc2VhcmNoX3N0cmVldCA9IGZ1bmN0aW9uKCl7XG4gICAgICAkc2NvcGUuaGlkZV9zcGVjaWFsX2RpdnMoKTtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2VhcmNoLXRleHRib3hcIikucGFyZW50Tm9kZS5jbGljaygpO1xuICAgIH1cblxuICAgICRzY29wZS5maW5kX21lID0gZnVuY3Rpb24oem9vbURlZil7XG4gICAgICAgICRzY29wZS5zZXRfYWN0aXZlX29wdGlvbihcImJ1dHRvbi1maW5kLW1lXCIpO1xuICAgICAgICAkc2NvcGUuaGlkZV9zcGVjaWFsX2RpdnMoKTtcbiAgICAgICAgdmFyIHBvc09wdGlvbnMgPSB7dGltZW91dDogMzAwMCwgZW5hYmxlSGlnaEFjY3VyYWN5OiB0cnVlfTtcbiAgICAgICAgJGNvcmRvdmFHZW9sb2NhdGlvblxuICAgICAgICAgIC5nZXRDdXJyZW50UG9zaXRpb24ocG9zT3B0aW9ucylcbiAgICAgICAgICAudGhlbihmdW5jdGlvbiAocG9zaXRpb24pIHtcbiAgICAgICAgICAgICAgICAvKiRzY29wZS5tYXAuY2VudGVyLmxhdCAgPSBwb3NpdGlvbi5jb29yZHMubGF0aXR1ZGU7XG4gICAgICAgICAgICAgICAgJHNjb3BlLm1hcC5jZW50ZXIubG5nID0gcG9zaXRpb24uY29vcmRzLmxvbmdpdHVkZTtcbiAgICAgICAgICAgICAgICBMb2NhdGlvbnNTZXJ2aWNlLnNhdmVfbmV3X3JlcG9ydF9wb3NpdGlvbihwb3NpdGlvbi5jb29yZHMubGF0aXR1ZGUscG9zaXRpb24uY29vcmRzLmxvbmdpdHVkZSk7Ki9cbiAgICAgICAgICAgICAgICB2YXIgem9vbSA9IHpvb21EZWY7XG4gICAgICAgICAgICAgICAgdmFyIG1hcmtlckljb24gPSBMLmljb24oe1xuICAgICAgICAgICAgICAgICAgaWNvblVybDogXCIuL2ltZy9tZS5zdmdcIixcbiAgICAgICAgICAgICAgICAgIGljb25TaXplOiBbMjksIDM0XSxcbiAgICAgICAgICAgICAgICAgIGljb25BbmNob3I6IFs4LCA4XSxcbiAgICAgICAgICAgICAgICAgIHBvcHVwQW5jaG9yOiBbMCwgLThdXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBsZWFmbGV0RGF0YS5nZXRNYXAoKS50aGVuKGZ1bmN0aW9uKG1hcCkge1xuICAgICAgICAgICAgICAgICAgaWYoJHNjb3BlLm5vd19tYXJrZXIhPW51bGwpe1xuICAgICAgICAgICAgICAgICAgICBtYXAucmVtb3ZlTGF5ZXIoJHNjb3BlLm5vd19tYXJrZXIpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgJHNjb3BlLm5vd19tYXJrZXIgPSBMLm1hcmtlcihbcG9zaXRpb24uY29vcmRzLmxhdGl0dWRlLCBwb3NpdGlvbi5jb29yZHMubG9uZ2l0dWRlXSwge2ljb246IG1hcmtlckljb259KS5hZGRUbyhtYXApO1xuICAgICAgICAgICAgICAgICAgTWFwU2VydmljZS5jZW50ZXJNYXBPbkNvb3Jkcyhwb3NpdGlvbi5jb29yZHMubGF0aXR1ZGUscG9zaXRpb24uY29vcmRzLmxvbmdpdHVkZSx6b29tKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICAgICAgLy9FcnJvclNlcnZpY2Uuc2hvd19lcnJvcl9tZXNzYWdlX3BvcHVwKFwiTm8gaGVtb3MgcG9kaWRvIGdlb2xvY2FsaXphcmxvLiDCv1RhbCB2ZXogb2x2aWTDsyBoYWJpbGl0YXIgbG9zIHNlcnZpY2lvcyBkZSBsb2NhbGl6YWNpw7NuIGVuIHN1IGRpc3Bvc2l0aXZvP1wiKVxuICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgIH07XG5cbiAgICAgIHZhciBMb2NhdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoICEodGhpcyBpbnN0YW5jZW9mIExvY2F0aW9uKSApIHJldHVybiBuZXcgTG9jYXRpb24oKTtcbiAgICAgICAgdGhpcy5sYXQgID0gXCJcIjtcbiAgICAgICAgdGhpcy5sbmcgID0gXCJcIjtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJcIjtcbiAgICAgIH07XG5cbiAgfVxuXSk7XG4iLCJwbWJfaW0uY29udHJvbGxlcnMuY29udHJvbGxlcignUE1CQ3RybCcsXG5bJyRzY29wZScsXG4nJHN0YXRlJyxcbidsZWFmbGV0RGF0YScsXG4nUE1CU2VydmljZScsXG4nQ29udGFpbmVyU2VydmljZScsXG4nbG9jYXRpb25BUEknLFxuJ01hcFNlcnZpY2UnLFxuJ18nLFxuJ0xvYWRlcicsXG4nTG9jYXRpb25zU2VydmljZScsXG5mdW5jdGlvbigkc2NvcGUsXG4gICRzdGF0ZSxcbiAgbGVhZmxldERhdGEsXG4gIFBNQlNlcnZpY2UsXG4gIENvbnRhaW5lclNlcnZpY2UsXG4gIGxvY2F0aW9uQVBJLFxuICBNYXBTZXJ2aWNlLFxuICBfLFxuICBMb2FkZXIsXG4gIExvY2F0aW9uc1NlcnZpY2UpIHtcbiAgJHNjb3BlLnJlcG9ydEJ1dHRvbiA9IHtcbiAgICB0ZXh0OiBcIlJlcG9ydGFyXCIsXG4gICAgc3RhdGU6IFwidW5Db25maXJtZWRcIlxuICB9O1xuXG4gIC8vJHNjb3BlLiRvbignJGlvbmljVmlldy5hZnRlckVudGVyJywgZnVuY3Rpb24oKXsgLy9UaGlzIGlzIGZpcmVkIHR3aWNlIGluIGEgcm93XG4gICRzY29wZS4kb24oXCIkaW9uaWNWaWV3LmFmdGVyRW50ZXJcIiwgZnVuY3Rpb24oKSB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICB2YXIgbWFwID0gbGVhZmxldERhdGEuZ2V0TWFwKCk7XG4gICAgaWYoTG9jYXRpb25zU2VydmljZS5pbml0aWFsX2xhdCE9XCJcIil7XG4gICAgICBNYXBTZXJ2aWNlLmNlbnRlck1hcE9uQ29vcmRzKExvY2F0aW9uc1NlcnZpY2UuaW5pdGlhbF9sYXQsIExvY2F0aW9uc1NlcnZpY2UuaW5pdGlhbF9sbmcsIDE2KTtcbiAgICB9ZWxzZXtcbiAgICAgIE1hcFNlcnZpY2UuY2VudGVyTWFwT25Db29yZHMoLTM0LjkwMTExMywgLTU2LjE2NDUzMSwgMTYpO1xuICAgIH1cbiAgfSk7XG5cblxuICAvKiovXG5cbiAgJHNjb3BlLnNlYXJjaE1vZGUgPSBcImNhbGxlLmx1Z2FyXCI7XG4gICRzY29wZS5sb2NhdGlvbiA9e2NhbGxlOm51bGwsZXNxdWluYTpudWxsLGx1Z2FyOm51bGx9O1xuXG5cbiAgLy9BdXRvIGNvbXBsZXRlXG5cblxuICB2YXIgbG9jYXRpb25HZW9tUGFyYW1zID17dGlwbzpudWxsLHBhdGhQYXJhbXM6W119O1xuICAkc2NvcGUuJG9uKFwiJHN0YXRlQ2hhbmdlU3VjY2Vzc1wiLCBmdW5jdGlvbigpIHtcbiAgICAkc2NvcGUuaW9uQXV0b2NvbXBsZXRlRWxlbWVudCA9IGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiaW9uLWF1dG9jb21wbGV0ZVwiKSk7XG4gICAgLy9jb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeSgkc2NvcGUuaW9uQXV0b2NvbXBsZXRlRWxlbWVudCkpO1xuICAgICRzY29wZS5pb25BdXRvY29tcGxldGVFbGVtZW50LmJpbmQoJ3RvdWNoZW5kIGNsaWNrIGZvY3VzJywgJHNjb3BlLm9uQ2xpY2spO1xuICB9KTtcblxuXG4gICRzY29wZS5pbml0UmVwb3J0ID0gZnVuY3Rpb24oKSB7XG5cbiAgICB2YXIgX3BpbiwgX3Bpbkljb24gPSBMLmljb24oe1xuICAgICAgaWNvblVybDogJ2ltZy9waW5AeDIucG5nJyxcbiAgICAgIGljb25TaXplOiBbNzAsIDExMF0sIC8vIHNpemUgb2YgdGhlIGljb25cbiAgICAgIGljb25BbmNob3I6IFstMTgsIDU1XSwgLy8gcG9pbnQgb2YgdGhlIGljb24gd2hpY2ggd2lsbCBjb3JyZXNwb25kIHRvIG1hcmtlcidzIGxvY2F0aW9uXG4gICAgfSk7XG5cbiAgICBpZiAoJHNjb3BlLnJlcG9ydEJ1dHRvbi5zdGF0ZSA9PSBcInVuQ29uZmlybWVkXCIpIHtcblxuICAgICAgJHNjb3BlLnJlcG9ydEJ1dHRvbi50ZXh0ID0gXCJDb25maXJtYXJcIjtcbiAgICAgICRzY29wZS5yZXBvcnRCdXR0b24uc3RhdGUgPSBcImFib3V0MkNvbmZpcm1cIjtcblxuXG4gICAgICBsZWFmbGV0RGF0YS5nZXRNYXAoKS50aGVuKGZ1bmN0aW9uKG1hcCkge1xuICAgICAgICBfcGluID0gbmV3IEwubWFya2VyKG1hcC5nZXRDZW50ZXIoKSwge1xuICAgICAgICAgIGljb246IF9waW5JY29uLFxuICAgICAgICAgIGNsaWNrYWJsZTogZmFsc2VcbiAgICAgICAgfSkuYWRkVG8obWFwKTtcblxuICAgICAgICBSZXBvcnRTZXJ2aWNlLl9uZXcoKTtcbiAgICAgICAgUmVwb3J0U2VydmljZS5jdXJyZW50LnNldExhdExuZyhtYXAuZ2V0Q2VudGVyKCkpO1xuICAgICAgICAvL2NvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KCRzY29wZS5jdXJyZW50UmVwb3J0KSk7XG5cbiAgICAgICAgJHNjb3BlLmlvbkF1dG9jb21wbGV0ZUVsZW1lbnQgPSBhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImlvbi1hdXRvY29tcGxldGVcIikpO1xuICAgICAgICAkc2NvcGUuaW9uQXV0b2NvbXBsZXRlRWxlbWVudC5iaW5kKCd0b3VjaGVuZCBjbGljayBmb2N1cycsICRzY29wZS5vbkNsaWNrKTtcblxuXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy9jb25zb2xlLmxvZyhcImN1cnJlbnRSZXBvcnQgPVwiICsgSlNPTi5zdHJpbmdpZnkoJHNjb3BlLmN1cnJlbnRSZXBvcnQpKTtcbiAgICB9XG5cbiAgfTtcblxuICAkc2NvcGUuaXNOdW1lcmljID0gZnVuY3Rpb24obikge1xuICAgIHJldHVybiAhaXNOYU4ocGFyc2VGbG9hdChuKSkgJiYgaXNGaW5pdGUobik7XG4gIH07XG5cbiAgJHNjb3BlLnNlYXJjaExvY2F0aW9uID0gZnVuY3Rpb24ocXVlcnkpIHtcbiAgICBjb25zb2xlLmxvZyhcIlNlIGVqZWN1dG86IFwiICsgcXVlcnkpO1xuICAgIHZhciBwcm9taXNlU2VhcmNoO1xuICAgIGlmIChxdWVyeSAmJiBxdWVyeS5sZW5ndGg+PTIpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiWSBlbnRyw7M6IFwiICsgcXVlcnkpO1xuXG5cbiAgICAgIGlmICgkc2NvcGUuc2VhcmNoTW9kZSA9PSBcImNhbGxlLmx1Z2FyXCIpIHtcbiAgICAgICAgcHJvbWlzZVNlYXJjaCA9IGxvY2F0aW9uQVBJLnNlYXJjaExvY2F0aW9uQnlTdHIocXVlcnkpO1xuXG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvL2NvbnNvbGUubG9nKFwiYnVzY2FuZG8gY2FsbGUvXCIrJHNjb3BlLnNlbGVjdGVkSXRlbS5jb2RpZ28rXCJlc3F1aW5hID0gXCIgKyBxdWVyeSk7XG4gICAgICAgIGlmKCRzY29wZS5pc051bWVyaWMocXVlcnkudHJpbSgpKSl7XG4gICAgICAgICAgdmFyIGl0ZW1zID0gW107XG4gICAgICAgICAgdmFyIGl0ZW0gPSB7XCJkZXNjVGlwb1wiOlwiTlVNRVJPXCIsXCJub21icmVcIjpxdWVyeSxcImNvZGlnb1wiOnF1ZXJ5fTtcbiAgICAgICAgICBpdGVtc1swXSA9IGl0ZW07XG4gICAgICAgICAgcmV0dXJuIGl0ZW1zO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICBwcm9taXNlU2VhcmNoID0gbG9jYXRpb25BUEkuc2VhcmNoRXNxdWluYUJ5U3RyKHtcbiAgICAgICAgICAgIGNhbGxlOiAkc2NvcGUuc2VsZWN0ZWRJdGVtLmNvZGlnbyxcbiAgICAgICAgICAgIGVzcXVpbmE6IHF1ZXJ5XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBwcm9taXNlU2VhcmNoO1xuICAgIH1lbHNle1xuICAgICAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gIH07XG5cbiAgJHNjb3BlLm9uQ2xpY2sgPSBmdW5jdGlvbigpIHtcblxuICAgICRzY29wZS5pb25BdXRvY29tcGxldGVFbGVtZW50LmNvbnRyb2xsZXIoJ2lvbkF1dG9jb21wbGV0ZScpLnNob3dNb2RhbCgpO1xuXG4gIH07XG5cbiAgJHNjb3BlLml0ZW1zUmVtb3ZlZCA9IGZ1bmN0aW9uKGNhbGxiYWNrKXtcbiAgICAkc2NvcGUuc2VhcmNoTW9kZSA9IFwiY2FsbGUubHVnYXJcIjtcbiAgICAkc2NvcGUuaW9uQXV0b2NvbXBsZXRlRWxlbWVudFNlYXJjaC5hdHRyKFwicGxhY2Vob2xkZXJcIiwgXCJCdXNjYXIgY2FsbGVcIik7XG4gIH1cblxuICAkc2NvcGUuaXRlbXNDbGlja2VkID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcblxuICAgICRzY29wZS5jbGlja2VkVmFsdWVNb2RlbCA9IGNhbGxiYWNrO1xuICAgIC8vJHNjb3BlLnNlbGVjdGVkSXRlbSA9IGNhbGxiYWNrLnNlbGVjdGVkSXRlbXNbMF07XG4gICAgJHNjb3BlLnNlbGVjdGVkSXRlbSA9IGNhbGxiYWNrLml0ZW07XG4gICAgJHNjb3BlLmlvbkF1dG9jb21wbGV0ZUVsZW1lbnRTZWFyY2ggPSBhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImlvbi1hdXRvY29tcGxldGUtc2VhcmNoXCIpKTtcbiAgICBpZiAoJHNjb3BlLnNlYXJjaE1vZGUgPT0gXCJlc3F1aW5hLm51bWVyb1wiKSB7XG4gICAgICBsb2NhdGlvbkdlb21QYXJhbXMucGF0aFBhcmFtcyA9IFtdO1xuICAgICAgJHNjb3BlLmxvY2F0aW9uLmVzcXVpbmE9ICRzY29wZS5zZWxlY3RlZEl0ZW07XG4gICAgICBsb2NhdGlvbkdlb21QYXJhbXMucGF0aFBhcmFtcy5wdXNoKCRzY29wZS5sb2NhdGlvbi5jYWxsZS5jb2RpZ28pO1xuICAgICAgbG9jYXRpb25HZW9tUGFyYW1zLnBhdGhQYXJhbXMucHVzaCgkc2NvcGUubG9jYXRpb24uZXNxdWluYS5jb2RpZ28pO1xuICAgICAgdmFyIHN0cl90aXBvID0gXCJcIjtcbiAgICAgIGlmKCRzY29wZS5pc051bWVyaWMoJHNjb3BlLnNlbGVjdGVkSXRlbS5ub21icmUpKXtcbiAgICAgICAgLy9TZWxlY2Npb27DsyB1biBuw7ptZXJvIGRlIHB1ZXJ0YVxuICAgICAgICBsb2NhdGlvbkdlb21QYXJhbXMudGlwbz1cIkRJUkVDQ0lPTlwiO1xuICAgICAgfWVsc2V7XG4gICAgICAgIC8vc2VsZWNjaW9ubyB1bmEgZXNxdWluYVxuICAgICAgICBsb2NhdGlvbkdlb21QYXJhbXMudGlwbz1cIkVTUVVJTkFcIjsvLyRzY29wZS5zZWxlY3RlZEl0ZW0uZGVzY1RpcG87XG4gICAgICAgIHN0cl90aXBvID0gXCJlc3F1aW5hXCI7XG4gICAgICB9XG4gICAgICBsb2NhdGlvbkFQSS5nZXRMb2NhdGlvbkdlb20obG9jYXRpb25HZW9tUGFyYW1zKS50aGVuKGZ1bmN0aW9uKHJlc3VsdCl7XG4gICAgICAgIC8vY29uc29sZS5sb2cocmVzdWx0Lmdlb0pTT04pO1xuICAgICAgICBNYXBTZXJ2aWNlLmdvVG9QbGFjZShhbmd1bGFyLmV4dGVuZCh7bm9tYnJlOiAkc2NvcGUubG9jYXRpb24uY2FsbGUubm9tYnJlICsgXCIgXCIgKyBzdHJfdGlwbyArIFwiIFwiICsgJHNjb3BlLnNlbGVjdGVkSXRlbS5ub21icmUsIGdlb206IHJlc3VsdC5nZW9KU09OfSxyZXN1bHQpLCRzY29wZSk7XG4gICAgICAgICRzY29wZS5zZWFyY2hNb2RlID0gXCJjYWxsZS5sdWdhclwiO1xuICAgICAgICAkc2NvcGUuaW9uQXV0b2NvbXBsZXRlRWxlbWVudFNlYXJjaC5hdHRyKFwicGxhY2Vob2xkZXJcIiwgXCJCdXNjYXIgY2FsbGVcIik7XG4gICAgICAgICRzY29wZS5leHRlcm5hbE1vZGVsID0gW107XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgJHNjb3BlLmxvY2F0aW9uLmNhbGxlPSAkc2NvcGUuc2VsZWN0ZWRJdGVtO1xuICAgICAgJHNjb3BlLnNlYXJjaE1vZGUgPSBcImVzcXVpbmEubnVtZXJvXCI7XG4gICAgICAkc2NvcGUuaW9uQXV0b2NvbXBsZXRlRWxlbWVudFNlYXJjaC5hdHRyKFwicGxhY2Vob2xkZXJcIiwgXCJFc3F1aW5hIG8gbsO6bWVyb1wiKTtcbiAgICAgICRzY29wZS5pb25BdXRvY29tcGxldGVFbGVtZW50LmNvbnRyb2xsZXIoJ2lvbkF1dG9jb21wbGV0ZScpLnNob3dNb2RhbCgpO1xuICAgICAgJHNjb3BlLnByZXNlbGVjdGVkU2VhcmNoSXRlbXMgPSBbXTtcbiAgICB9XG4gICAgLy9jYWxsYmFjay5zZWFyY2hJdGVtcyA9IFtdO1xuXG4gIH07XG5cbiAgJHNjb3BlLml0ZW1zQ2FuY2VsZWQ9IGZ1bmN0aW9uKF9pdGVtKXtcbiAgICB2YXIgbnVtUHVlcnRhID0gcGFyc2VJbnQoX2l0ZW0uc2VhcmNoUXVlcnkpO1xuICAgIGlmKE51bWJlci5pc0ludGVnZXIobnVtUHVlcnRhKSl7XG4gICAgICAvL2NvbnNvbGUubG9nKFwiSVMgbnVtYmVyXCIpO1xuICAgICAgbG9jYXRpb25HZW9tUGFyYW1zLnRpcG89XCJESVJFQ0NJT05cIjsvLyRzY29wZS5zZWxlY3RlZEl0ZW0uZGVzY1RpcG87XG4gICAgICBsb2NhdGlvbkdlb21QYXJhbXMucGF0aFBhcmFtcy5wdXNoKCRzY29wZS5sb2NhdGlvbi5jYWxsZS5jb2RpZ28pO1xuICAgICAgbG9jYXRpb25HZW9tUGFyYW1zLnBhdGhQYXJhbXMucHVzaChudW1QdWVydGEpO1xuICAgICAgbG9jYXRpb25BUEkuZ2V0TG9jYXRpb25HZW9tKGxvY2F0aW9uR2VvbVBhcmFtcykudGhlbihmdW5jdGlvbihyZXN1bHQpe1xuICAgICAgTWFwU2VydmljZS5nb1RvUGxhY2UoYW5ndWxhci5leHRlbmQoe25vbWJyZTokc2NvcGUuc2VsZWN0ZWRJdGVtLm5vbWJyZSArIFwiIFwiICsgbnVtUHVlcnRhIH0scmVzdWx0KSwkc2NvcGUpO1xuICAgICAgJHNjb3BlLnNlYXJjaE1vZGUgPSBcImNhbGxlLmx1Z2FyXCI7XG5cbiAgICB9LGZ1bmN0aW9uKGVycm9yKXtcbiAgICAgIC8vY29uc29sZS5sb2coXCJFcnJvciBvYnRlbmllbmRvIGxhIGRpcmVjY2lvbiBcIisgSlNPTi5zdHJpbmdpZnkoZXJyb3IpKTtcbiAgICAgIExvYWRlci5zaG93QWxlcnQoXCJFcnJvclwiLFwiTm8gZXhpc3RlIGVzYSBkaXJlY2Npb25cIikudGhlbihmdW5jdGlvbihyZXMpe1xuICAgICAgICAgICRzY29wZS5pb25BdXRvY29tcGxldGVFbGVtZW50LmNvbnRyb2xsZXIoJ2lvbkF1dG9jb21wbGV0ZScpLnNob3dNb2RhbCgpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIH07XG59XSk7XG4iLCJwbWJfaW0uc2VydmljZXMuZmFjdG9yeSgnQXV0aFNlcnZpY2UnLCBbJyRodHRwJywgJyRjb3Jkb3ZhRmlsZVRyYW5zZmVyJywgJ0NvbmZpZ1NlcnZpY2UnLCBmdW5jdGlvbigkaHR0cCwgJGNvcmRvdmFGaWxlVHJhbnNmZXIsIENvbmZpZ1NlcnZpY2UpIHtcblxuICB2YXIgYmFzZVVSTCA9IENvbmZpZ1NlcnZpY2UuYmFzZVVSTCArIFwiL2F1dGgvYWpheC9cIjtcblxuICByZXR1cm4ge1xuICAgIHNpZ25faW46IGZ1bmN0aW9uIChwYXNzd29yZCwgZW1haWwpIHtcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoYmFzZVVSTCArIFwic2lnbl9pblwiLCB7IHBhcmFtczogeyBwYXNzd29yZF9zaWduX2luOiBwYXNzd29yZCwgZW1haWw6IGVtYWlsIH0gfSk7XG4gICAgfSxcblxuICAgIHNpZ25fb3V0OiBmdW5jdGlvbiAocGFzc3dvcmQsIGVtYWlsKSB7XG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KGJhc2VVUkwgKyBcInNpZ25fb3V0XCIsIHsgcGFyYW1zOiB7IHBhc3N3b3JkX3NpZ25faW46IHBhc3N3b3JkLCBlbWFpbDogZW1haWwgfSB9KTtcbiAgICB9LFxuXG4gICAgY3JlYXRlX3VzZXI6IGZ1bmN0aW9uIChlbWFpbCxmdWxsbmFtZSxwYXNzd29yZCwgaWRfZG9jLCB1c2VyX3Bob25lKSB7XG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KGJhc2VVUkwgKyBcImNyZWF0ZV91c2VyXCIsIHsgcGFyYW1zOiB7IGZvcm1fZW1haWw6IGVtYWlsLCBuYW1lOiBmdWxsbmFtZSwgcGFzc3dvcmRfcmVnaXN0ZXI6IHBhc3N3b3JkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWRlbnRpdHlfZG9jdW1lbnQ6IGlkX2RvYywgcGhvbmU6IHVzZXJfcGhvbmUgfSB9KTtcbiAgICB9LFxuXG4gICAgY2hhbmdlX3Bhc3N3b3JkOiBmdW5jdGlvbiAoZW1haWwsZnVsbG5hbWUscGFzc3dvcmQsIGlkX2RvYywgdXNlcl9waG9uZSkge1xuICAgICAgcmV0dXJuICRodHRwLmdldChiYXNlVVJMICsgXCJjcmVhdGVfdXNlclwiLCB7IHBhcmFtczogeyBsb2dpbl9lbWFpbDogZW1haWwsIG5hbWU6IGZ1bGxuYW1lLCBwYXNzd29yZF9yZWdpc3RlcjogcGFzc3dvcmQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZGVudGl0eV9kb2N1bWVudDogaWRfZG9jLCBwaG9uZTogdXNlcl9waG9uZSB9IH0pO1xuICAgIH0sXG5cbiAgICBlZGl0X3VzZXI6IGZ1bmN0aW9uIChlbWFpbCxwYXNzd29yZCwgZnVsbG5hbWUsIG5ld19lbWFpbCwgaWRfZG9jLCB1c2VyX3Bob25lLCB1c2VyX3BpY3R1cmVfdXJsKSB7XG4gICAgICBpZiAodXNlcl9waWN0dXJlX3VybCE9bnVsbCAmJiB1c2VyX3BpY3R1cmVfdXJsIT1cIlwiKSB7XG4gICAgICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgICAgZmlsZUtleTogXCJwaG90b1wiLFxuICAgICAgICAgLy9maWxlTmFtZTogZmlsZW5hbWUsXG4gICAgICAgICAvL2NodW5rZWRNb2RlOiBmYWxzZSxcbiAgICAgICAgIC8vbWltZVR5cGU6IFwiaW1hZ2UvanBnXCIsXG4gICAgICAgICBwYXJhbXMgOiB7ICBlbWFpbDogZW1haWwsXG4gICAgICAgICAgICAgICAgICAgICBwYXNzd29yZF9zaWduX2luOiBwYXNzd29yZCxcbiAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGZ1bGxuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgbmV3X2VtYWlsOiBuZXdfZW1haWwsXG4gICAgICAgICAgICAgICAgICAgICBpZGVudGl0eV9kb2N1bWVudDogaWRfZG9jLFxuICAgICAgICAgICAgICAgICAgICAgcGhvbmU6IHVzZXJfcGhvbmVcbiAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHZhciB0cnVzdEFsbEhvc3RzID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuICRjb3Jkb3ZhRmlsZVRyYW5zZmVyLnVwbG9hZChiYXNlVVJMICsgXCJlZGl0X3VzZXJcIiwgdXNlcl9waWN0dXJlX3VybCwgb3B0aW9ucywgdHJ1c3RBbGxIb3N0cyk7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgcmV0dXJuICRodHRwLmdldChiYXNlVVJMICsgXCJlZGl0X3VzZXJcIiwgeyBwYXJhbXM6IHsgZW1haWw6IGVtYWlsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmRfc2lnbl9pbjogcGFzc3dvcmQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBmdWxsbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld19lbWFpbDogbmV3X2VtYWlsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWRlbnRpdHlfZG9jdW1lbnQ6IGlkX2RvYyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBob25lOiB1c2VyX3Bob25lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gIH07XG59XSk7XG4iLCJwbWJfaW0uc2VydmljZXMuZmFjdG9yeSgnQ2F0ZWdvcmllc1NlcnZpY2UnLCBbJyRodHRwJywnTG9jYXRpb25zU2VydmljZScsICdDb25maWdTZXJ2aWNlJywgJ0RCU2VydmljZScsIGZ1bmN0aW9uKCRodHRwLExvY2F0aW9uc1NlcnZpY2UsIENvbmZpZ1NlcnZpY2UsIERCU2VydmljZSkge1xuXG4gIHZhciBiYXNlVVJMID0gQ29uZmlnU2VydmljZS5iYXNlVVJMICsgXCIvcmVwb3J0L25ldy9hamF4XCI7XG5cbiAgcmV0dXJuIHtcbiAgICBhbGw6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoYmFzZVVSTCwgeyBwYXJhbXM6IHsgbGF0OiBMb2NhdGlvbnNTZXJ2aWNlLm5ld19yZXBvcnRfbGF0LCBsb246IExvY2F0aW9uc1NlcnZpY2UubmV3X3JlcG9ydF9sbmcsIGZvcm1hdDogXCJqc29uXCIgfSB9KVxuICAgIH0sXG5cbiAgICBnZXRDYWNoZWRDYXRlZ29yaWVzOiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gREJTZXJ2aWNlLmdldENhdGVnb3JpZXMoKTtcbiAgICB9XG4gIH07XG59XSk7XG4iLCJwbWJfaW0uc2VydmljZXMuZmFjdG9yeSgnQ29uZmlnU2VydmljZScsIFsnJGh0dHAnLCBmdW5jdGlvbigkaHR0cCkge1xuXG4gIHZhciBDb25maWdPYmogPSB7fTtcbiAgQ29uZmlnT2JqLmJhc2VVUkwgPSBcImh0dHA6Ly9kb25kZXJlY2ljbG8uZGV2ZWxvcG1lbnQuZGF0YXV5Lm9yZ1wiO1xuXG4gIHJldHVybiBDb25maWdPYmo7XG5cbn1dKTtcbiIsInBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdDb25uZWN0aXZpdHlTZXJ2aWNlJywgWyckY29yZG92YU5ldHdvcmsnLCBmdW5jdGlvbigkY29yZG92YU5ldHdvcmspe1xuXG4gIHJldHVybiB7XG4gICAgaXNPbmxpbmU6IGZ1bmN0aW9uKCl7XG4gICAgICBpZihpb25pYy5QbGF0Zm9ybS5pc1dlYlZpZXcoKSl7XG4gICAgICAgIHJldHVybiAkY29yZG92YU5ldHdvcmsuaXNPbmxpbmUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBuYXZpZ2F0b3Iub25MaW5lO1xuICAgICAgICAvL3JldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGlzT2ZmbGluZTogZnVuY3Rpb24oKXtcbiAgICAgIGlmKGlvbmljLlBsYXRmb3JtLmlzV2ViVmlldygpKXtcbiAgICAgICAgcmV0dXJuICEkY29yZG92YU5ldHdvcmsuaXNPbmxpbmUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAhbmF2aWdhdG9yLm9uTGluZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1dKVxuIiwicG1iX2ltLnNlcnZpY2VzLmZhY3RvcnkoJ0NvbnRhY3RTZXJ2aWNlJywgWyckaHR0cCcsICdDb25maWdTZXJ2aWNlJywgZnVuY3Rpb24oJGh0dHAsIENvbmZpZ1NlcnZpY2UpIHtcblxuICB2YXIgYmFzZVVSTCA9IENvbmZpZ1NlcnZpY2UuYmFzZVVSTCArIFwiL2RhdGF1eS9jb250YWN0L1wiO1xuXG4gIHJldHVybiB7XG4gICAgc2VuZF9jb250YWN0OiBmdW5jdGlvbiAobmFtZSwgZW1haWwsIHN1YmplY3QsIG1lc3NhZ2UpIHtcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoYmFzZVVSTCArIG5hbWUgKyBcIi9cIiArIGVtYWlsICsgXCIvXCIgKyBzdWJqZWN0ICsgXCIvXCIgKyBtZXNzYWdlLCB7IHBhcmFtczogeyB9IH0pO1xuICAgIH1cblxuICB9O1xufV0pO1xuIiwicG1iX2ltLnNlcnZpY2VzLmZhY3RvcnkoJ0NvbnRhaW5lclNlcnZpY2UnLCBbJyRodHRwJywgJ2xlYWZsZXREYXRhJywnQ29uZmlnU2VydmljZScsIGZ1bmN0aW9uKCRodHRwLCBsZWFmbGV0RGF0YSwgQ29uZmlnU2VydmljZSkge1xuXG4gIHZhciBiYXNlVVJMID0gQ29uZmlnU2VydmljZS5iYXNlVVJMICsgXCIvcmVwb3J0L2FqYXgvXCI7XG5cblxuICAvKipcbiAgICogQ29uc3RydWN0b3IsIHdpdGggY2xhc3MgbmFtZVxuICAgKi9cbiAgZnVuY3Rpb24gQ29udGFpbmVyKF9kYXRhKSB7XG4gICAgYW5ndWxhci5leHRlbmQodGhpcywgX2RhdGEpO1xuICB9XG5cbiAgQ29udGFpbmVyLmdldEJ5SWQgPSBmdW5jdGlvbihpZCl7XG4gICAgdmFyIHVybCA9IGJhc2VVUkwgKyBpZDtcbiAgICByZXR1cm4gJGh0dHAuZ2V0KHVybCkudGhlbihmdW5jdGlvbihyZXN1bHQpe1xuICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0pO1xuICB9XG5cblxuICBDb250YWluZXIuX2RlZmF1bHQgPSBmdW5jdGlvbigpe1xuICAgIHZhciBfZGF0YSA9IHtcbiAgICAgIGxhdDogMCxcbiAgICAgIGxvbjogMCxcbiAgICAgIHRpdGxlOiBudWxsLFxuICAgICAgZGV0YWlsOiBudWxsLFxuICAgICAgbWF5X3Nob3dfbmFtZTogMSxcbiAgICAgIGNhdGVnb3J5OiBudWxsLFxuICAgICAgcGhvbmU6IG51bGwsXG4gICAgICBwYzogJycsXG4gICAgICBmaWxlOiBudWxsLFxuICAgICAgbmFtZTogbnVsbCxcbiAgICAgIGVtYWlsOiBudWxsLFxuICAgICAgc3VibWl0X3NpZ25faW46IDEsXG4gICAgICBwYXNzd29yZF9zaWduX2luOiBudWxsLFxuICAgICAgcmVtZW1iZXJfbWU6MVxuICAgIH07XG4gICAgcmV0dXJuIG5ldyBDb250YWluZXIoX2RhdGEpO1xuICB9O1xuXG4gICAgQ29udGFpbmVyLl9hbGwgPSBbXTtcbiAgICBDb250YWluZXIuY3VycmVudCA9IHt9O1xuICAgIENvbnRhaW5lci5fbmV3ID0gZnVuY3Rpb24oKXtcbiAgICAgIC8qUmVwb3J0LmN1cnJlbnQgPSBSZXBvcnQuX2RlZmF1bHQoKTtcbiAgICAgIHJldHVybiBSZXBvcnQuY3VycmVudDsqL1xuICAgICAgcmV0dXJuIENvbnRhaW5lci5fZGVmYXVsdCgpO1xuICAgIH07XG5cblxuXG4gICAgLyoqXG4gICAgICogU3RhdGljIG1ldGhvZCwgYXNzaWduZWQgdG8gY2xhc3NcbiAgICAgKiBJbnN0YW5jZSAoJ3RoaXMnKSBpcyBub3QgYXZhaWxhYmxlIGluIHN0YXRpYyBjb250ZXh0XG4gICAgICovXG4gICAgQ29udGFpbmVyLmJ1aWxkID0gZnVuY3Rpb24oX2RhdGEpIHtcbiAgICAgIHJldHVybiBuZXcgQ29udGFpbmVyKF9kYXRhKTtcbiAgICB9O1xuXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5zZXRMYXRMbmcgPSBmdW5jdGlvbiAobGF0LGxuZykge1xuICAgICAgdGhpcy5sYXQgPSBsYXQ7XG4gICAgICB0aGlzLmxvbiA9IGxuZztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBjb25zdHJ1Y3RvciBmdW5jdGlvblxuICAgICAqL1xuICAgIHJldHVybiBDb250YWluZXI7XG5cbn1dKTtcbiIsInBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdEQlNlcnZpY2UnLCBbJyRxJywgZnVuY3Rpb24oJHEpIHtcbiAgIHZhciBfZGI7XG5cbiAgIHJldHVybiB7XG4gICAgICAgaW5pdERCOiBpbml0REIsXG4gICAgICAgc2F2ZVVzZXI6IHNhdmVVc2VyLFxuICAgICAgIGdldFVzZXI6IGdldFVzZXIsXG4gICAgICAgZXJhc2VVc2VyOiBlcmFzZVVzZXIsXG4gICAgICAgc2F2ZVJlcG9ydDogc2F2ZVJlcG9ydCxcbiAgICAgICBnZXRSZXBvcnQ6IGdldFJlcG9ydCxcbiAgICAgICBnZXRBbGxSZXBvcnRzOiBnZXRBbGxSZXBvcnRzLFxuICAgICAgIHVwZGF0ZVJlcG9ydDogdXBkYXRlUmVwb3J0LFxuICAgICAgIGRlbGV0ZVJlcG9ydDogZGVsZXRlUmVwb3J0LFxuICAgICAgIGRlbGV0ZUdpdmVuUmVwb3J0OiBkZWxldGVHaXZlblJlcG9ydCxcbiAgICAgICBnZXRDYXRlZ29yaWVzOiBnZXRDYXRlZ29yaWVzLFxuICAgICAgIHNhdmVDYXRlZ29yaWVzOiBzYXZlQ2F0ZWdvcmllcyxcbiAgICAgICBnZXREb25lV2Fsa3Rocm91Z2g6IGdldERvbmVXYWxrdGhyb3VnaCxcbiAgICAgICBzYXZlRG9uZVdhbGt0aHJvdWdoOiBzYXZlRG9uZVdhbGt0aHJvdWdoXG4gICB9O1xuXG4gICBmdW5jdGlvbiBzYXZlVXNlcih1c2VyX25hbWUsIHVzZXJfZW1haWwsIHVzZXJfcGFzc3dvcmQsIHVzZXJfaWRfZG9jLCB1c2VyX3Bob25lLCB1c2VyX3BpY3R1cmVfdXJsKSB7XG4gICAgICAgICB2YXIgdXNlciA9IHtcbiAgICAgICAgICAgIF9pZDogJ3VzZXItbG9nZ2VkJyxcbiAgICAgICAgICAgIG5hbWU6IHVzZXJfbmFtZSxcbiAgICAgICAgICAgIGVtYWlsOiB1c2VyX2VtYWlsLFxuICAgICAgICAgICAgcGFzc3dvcmQ6IHVzZXJfcGFzc3dvcmQsXG4gICAgICAgICAgICBpZGVudGl0eV9kb2N1bWVudDogdXNlcl9pZF9kb2MsXG4gICAgICAgICAgICBwaG9uZTogdXNlcl9waG9uZSxcbiAgICAgICAgICAgIHBpY3R1cmVfdXJsOiB1c2VyX3BpY3R1cmVfdXJsXG4gICAgICAgICB9O1xuICAgICAgICAgZ2V0VXNlcigpLnRoZW4oZnVuY3Rpb24gKGRvYykge1xuICAgICAgICAgICB1c2VyLl9yZXYgPSBkb2MuX3JldjtcbiAgICAgICAgICAgcmV0dXJuIF9kYi5wdXQodXNlcik7XG4gICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgIHJldHVybiBfZGIucHV0KHVzZXIpO1xuICAgICAgICAgfSlcbiAgIH07XG5cbiAgIGZ1bmN0aW9uIHNhdmVEb25lV2Fsa3Rocm91Z2goKSB7XG4gICAgICB2YXIgZG9uZVdhbGt0aHJvdWdoID0ge1xuICAgICAgICAgX2lkOiAnZG9uZS13YWxrdGhyb3VnaCcsXG4gICAgICAgICBzdGF0dXM6ICdkb25lJ1xuICAgICAgfTtcbiAgICAgIHJldHVybiBfZGIucHV0KGRvbmVXYWxrdGhyb3VnaCk7XG4gICAgfTtcblxuICBmdW5jdGlvbiBnZXREb25lV2Fsa3Rocm91Z2goKSB7XG4gICByZXR1cm4gX2RiLmdldCgnZG9uZS13YWxrdGhyb3VnaCcpO1xuICB9O1xuXG4gIGZ1bmN0aW9uIGdldFVzZXIoKSB7XG4gICAgIHJldHVybiBfZGIuZ2V0KCd1c2VyLWxvZ2dlZCcpO1xuICB9O1xuXG4gIGZ1bmN0aW9uIGVyYXNlVXNlcigpIHtcbiAgICBfZGIuZ2V0KCd1c2VyLWxvZ2dlZCcpLnRoZW4oZnVuY3Rpb24oZG9jKSB7XG4gICAgICByZXR1cm4gX2RiLnJlbW92ZShkb2MpO1xuICAgIH0pO1xuICB9XG5cbiAgIGZ1bmN0aW9uIGluaXREQigpIHtcbiAgICAgICAvLyBDcmVhdGVzIHRoZSBkYXRhYmFzZSBvciBvcGVucyBpZiBpdCBhbHJlYWR5IGV4aXN0c1xuICAgICAgIF9kYiA9IG5ldyBQb3VjaERCKCdwbWJfbG9jYWxfZGInKTtcbiAgICAgICByZXR1cm4gX2RiO1xuICAgfTtcblxuICAgZnVuY3Rpb24gc2F2ZVJlcG9ydChyZXBvcnQpIHtcbiAgICAgIC8vbmV3X3JlcG9ydF9pZCA9IFwicmVwb3J0X1wiICsgcG91Y2hDb2xsYXRlLnRvSW5kZXhhYmxlU3RyaW5nKFtyZXBvcnRdKTtcbiAgICAgIHZhciBkYXRlID0gbmV3IERhdGUoKTtcbiAgICAgIHZhciBuZXdfcmVwb3J0X2lkID0gXCJyZXBvcnRfXCIgKyBkYXRlLmdldEZ1bGxZZWFyKCkgKyAoZGF0ZS5nZXRNb250aCgpICsgMSkgKyBkYXRlLmdldERhdGUoKSArIGRhdGUuZ2V0TWlsbGlzZWNvbmRzKCk7XG4gICAgICByZXBvcnQuX2lkID0gbmV3X3JlcG9ydF9pZDtcbiAgICAgIHJldHVybiBfZGIucHV0KHJlcG9ydCk7XG4gICB9O1xuXG4gICBmdW5jdGlvbiB1cGRhdGVSZXBvcnQocmVwb3J0KSB7XG4gICAgIHJldHVybiBfZGIucHV0KHJlcG9ydCk7XG4gIH07XG5cbiAgIGZ1bmN0aW9uIGdldENhdGVnb3JpZXMoKSB7XG4gICAgIHJldHVybiBfZGIuZ2V0KCdjYXRlZ29yaWVzLWxpc3QnKTtcbiAgIH07XG5cbiAgIGZ1bmN0aW9uIHNhdmVDYXRlZ29yaWVzKGNhdGVnb3JpZXMpIHtcbiAgICAgZ2V0Q2F0ZWdvcmllcygpLnRoZW4oZnVuY3Rpb24gKGRvYykge1xuICAgICAgIGNhdGVnb3JpZXMuX3JldiA9IGRvYy5fcmV2O1xuICAgICAgIHJldHVybiBfZGIucHV0KGNhdGVnb3JpZXMpO1xuICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgY2F0ZWdvcmllcy5faWQgPSBcImNhdGVnb3JpZXMtbGlzdFwiO1xuICAgICAgIHJldHVybiBfZGIucHV0KGNhdGVnb3JpZXMpO1xuICAgICB9KVxuICAgfTtcblxuICBmdW5jdGlvbiBnZXRSZXBvcnQocmVwb3J0SWQpIHtcbiAgICAgcmV0dXJuIF9kYi5nZXQocmVwb3J0SWQpO1xuICB9O1xuXG4gICBmdW5jdGlvbiBnZXRBbGxSZXBvcnRzKCkge1xuICAgICByZXR1cm4gX2RiLmFsbERvY3Moe1xuICAgICAgaW5jbHVkZV9kb2NzOiB0cnVlLFxuICAgICAgYXR0YWNobWVudHM6IGZhbHNlLFxuICAgICAgc3RhcnRrZXk6ICdyZXBvcnRfJyxcbiAgICAgIGVuZGtleTogJ3JlcG9ydF9cXHVmZmZmJ1xuICAgICB9KTsvKi50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgIC8vIGhhbmRsZSByZXN1bHRcbiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgIH0pOyovXG4gIH07XG5cbiAgZnVuY3Rpb24gZGVsZXRlUmVwb3J0KHJlcG9ydF9pZCkge1xuICAgIF9kYi5nZXQocmVwb3J0X2lkKS50aGVuKGZ1bmN0aW9uKGRvYykge1xuICAgICAgcmV0dXJuIF9kYi5yZW1vdmUoZG9jKTtcbiAgICB9KTtcbiAgfTtcblxuICBmdW5jdGlvbiBkZWxldGVHaXZlblJlcG9ydChyZXBvcnQpIHtcbiAgICByZXR1cm4gX2RiLnJlbW92ZShyZXBvcnQpO1xuICB9O1xuXG59XSk7XG4iLCJwbWJfaW0uc2VydmljZXMuZmFjdG9yeSgnRXJyb3JTZXJ2aWNlJywgWyckaHR0cCcsJyRpb25pY1BvcHVwJywgJ1ZhbGlkYXRpb25TZXJ2aWNlJywgZnVuY3Rpb24oJGh0dHAsJGlvbmljUG9wdXAsVmFsaWRhdGlvblNlcnZpY2UpIHtcblxuICByZXR1cm4ge1xuICAgIGh0dHBfcmVzcG9uc2VfaXNfc3VjY2Vzc2Z1bDogZnVuY3Rpb24gKGpzb25SZXN1bHQsIGVycm9yQ29udGFpbmVySWQpIHtcbiAgICAgIHZhciBlcnJvckRpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVycm9yQ29udGFpbmVySWQpO1xuICAgICAgaWYoanNvblJlc3VsdC5kYXRhLnJlc3VsdD09MCl7XG4gICAgICAgIGVycm9yRGl2LmlubmVySFRNTD1cIjxoMz5cIiArIGpzb25SZXN1bHQuZGF0YS5tZXNzYWdlICsgXCI8L2gzPlwiO1xuICAgICAgICBlcnJvckRpdi5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgZXJyb3JEaXYuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgaHR0cF9yZXNwb25zZV9pc19zdWNjZXNzZnVsX2FqYXg6IGZ1bmN0aW9uIChqc29uUmVzdWx0KSB7XG4gICAgICBpZihqc29uUmVzdWx0LmRhdGEucmVzdWx0PT0wKXtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfWVsc2V7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBodHRwX3Jlc3BvbnNlX2lzX3N1Y2Nlc3NmdWxfcG9wdXA6IGZ1bmN0aW9uIChqc29uUmVzdWx0KSB7XG4gICAgICBpZihqc29uUmVzdWx0LmRhdGEucmVzdWx0PT0wKXtcbiAgICAgICAgdmFyIGFsZXJ0UG9wdXAgPSAkaW9uaWNQb3B1cC5hbGVydCh7XG4gICAgICAgICB0aXRsZTogXCJFcnJvclwiLFxuICAgICAgICAgdGVtcGxhdGU6IGpzb25SZXN1bHQuZGF0YS5tZXNzYWdlXG4gICAgICAgIH0pO1xuICAgICAgICBhbGVydFBvcHVwLnRoZW4oZnVuY3Rpb24ocmVzKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfWVsc2V7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBodHRwX2RhdGFfcmVzcG9uc2VfaXNfc3VjY2Vzc2Z1bDogZnVuY3Rpb24gKGRhdGEsIGVycm9yQ29udGFpbmVySWQpIHtcbiAgICAgIHZhciBlcnJvckRpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVycm9yQ29udGFpbmVySWQpO1xuICAgICAgaWYoZGF0YS5yZXN1bHQ9PTApe1xuICAgICAgICBlcnJvckRpdi5pbm5lckhUTUw9XCI8aDM+XCIgKyBkYXRhLm1lc3NhZ2UgKyBcIjwvaDM+XCI7XG4gICAgICAgIGVycm9yRGl2LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1lbHNle1xuICAgICAgICBlcnJvckRpdi5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBodHRwX2RhdGFfcmVzcG9uc2VfaXNfc3VjY2Vzc2Z1bF9hamF4OiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgaWYoZGF0YS5yZXN1bHQ9PTApe1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfSxcblxuICAgIHNob3dfZXJyb3JfbWVzc2FnZTogZnVuY3Rpb24gKGVycm9yQ29udGFpbmVySWQsIG1lc3NhZ2UpIHtcbiAgICAgICAgdmFyIGVycm9yRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZXJyb3JDb250YWluZXJJZCk7XG4gICAgICAgIGVycm9yRGl2LmlubmVySFRNTD1cIjxoMz5cIiArIG1lc3NhZ2UgKyBcIjwvaDM+XCI7XG4gICAgICAgIGVycm9yRGl2LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuXG4gICAgc2hvd19lcnJvcl9tZXNzYWdlX3BvcHVwOiBmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgICAgICB2YXIgYWxlcnRQb3B1cCA9ICRpb25pY1BvcHVwLmFsZXJ0KHtcbiAgICAgICAgIHRpdGxlOiBcIkVycm9yXCIsXG4gICAgICAgICB0ZW1wbGF0ZTogbWVzc2FnZVxuICAgICAgICB9KTtcbiAgICAgICAgYWxlcnRQb3B1cC50aGVuKGZ1bmN0aW9uKHJlcykge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuXG4gICAgY2hlY2tfZmllbGRzOiBmdW5jdGlvbiAoZmllbGRzLCBlcnJvckNvbnRhaW5lcklkKSB7XG4gICAgICB2YXIgZXJyb3JzID0gXCJcIjtcbiAgICAgIGZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uKGZpZWxkKSB7XG4gICAgICAgIGlmKGZpZWxkLnR5cGU9PVwibm90TnVsbFwiKXtcbiAgICAgICAgICBpZighVmFsaWRhdGlvblNlcnZpY2UudmFsaWRhdGVfbm90X2VtcHR5KGZpZWxkLnZhbHVlKSl7XG4gICAgICAgICAgICBlcnJvcnMgPSBlcnJvcnMgKyAnPGgzPi0gRWwgY2FtcG8gXCInICsgZmllbGQubmFtZSArICdcIiBubyBwdWVkZSBlc3RhciB2YWPDrW8uPC9oMz4nO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZihmaWVsZC50eXBlPT1cImVtYWlsXCIpe1xuICAgICAgICAgIGlmKCFWYWxpZGF0aW9uU2VydmljZS52YWxpZGF0ZV9lbWFpbChmaWVsZC52YWx1ZSkpe1xuICAgICAgICAgICAgZXJyb3JzID0gZXJyb3JzICsgJzxoMz4tIEVsIGNhbXBvIFwiJyArIGZpZWxkLm5hbWUgKyAnXCIgbm8gZXMgdW5hIGRpcmVjY2nDs24gZGUgY29ycmVvIHbDoWxpZGEuPC9oMz4nO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZihmaWVsZC50eXBlPT1cImlkZG9jX3V5XCIpe1xuICAgICAgICAgIGlmKCFWYWxpZGF0aW9uU2VydmljZS52YWxpZGF0ZV9pZGRvY191eShmaWVsZC52YWx1ZSkpe1xuICAgICAgICAgICAgZXJyb3JzID0gZXJyb3JzICsgJzxoMz4tIEVsIGNhbXBvIFwiJyArIGZpZWxkLm5hbWUgKyAnXCIgbm8gZXMgdW5hIGPDqWR1bGEgdXJ1Z3VheWEgdsOhbGlkYS48L2gzPic7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmKGZpZWxkLnR5cGU9PVwidHdvX3dvcmRzXCIpe1xuICAgICAgICAgIGlmKCFWYWxpZGF0aW9uU2VydmljZS52YWxpZGF0ZV90d29fd29yZHMoZmllbGQudmFsdWUpKXtcbiAgICAgICAgICAgIGVycm9ycyA9IGVycm9ycyArICc8aDM+LSBFbCBjYW1wbyBcIicgKyBmaWVsZC5uYW1lICsgJ1wiIGRlYmUgY29udGVuZXIgYWwgbWVub3MgZG9zIHBhbGFicmFzLjwvaDM+JztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYoZXJyb3JzID09XCJcIil7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfWVsc2V7XG4gICAgICAgIHZhciBlcnJvckRpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVycm9yQ29udGFpbmVySWQpO1xuICAgICAgICBlcnJvckRpdi5pbm5lckhUTUw9IGVycm9ycztcbiAgICAgICAgZXJyb3JEaXYuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBjaGVja19maWVsZDogZnVuY3Rpb24gKGZpZWxkLCB0eXBlLCBsYWJlbCkge1xuICAgICAgICB2YXIgb2sgPSB0cnVlO1xuICAgICAgICBpZih0eXBlPT1cIm5vdE51bGxcIil7XG4gICAgICAgICAgaWYoIVZhbGlkYXRpb25TZXJ2aWNlLnZhbGlkYXRlX25vdF9lbXB0eShmaWVsZC52YWx1ZSkpe1xuICAgICAgICAgICAgb2sgPSBmYWxzZTtcbiAgICAgICAgICAgIGxhYmVsLmlubmVySFRNTD1cIkRlYmVzIGNvbXBsZXRhcjxici8+ZWwgY2FtcG8gXCIrZmllbGQubmFtZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYodHlwZT09XCJlbWFpbFwiKXtcbiAgICAgICAgICBpZighVmFsaWRhdGlvblNlcnZpY2UudmFsaWRhdGVfZW1haWwoZmllbGQudmFsdWUpKXtcbiAgICAgICAgICAgIG9rID0gZmFsc2U7XG4gICAgICAgICAgICBsYWJlbC5pbm5lckhUTUw9XCJFbCBjYW1wbyBcIitmaWVsZC5uYW1lK1wiPGJyLz5ubyBlcyB1biBlbWFpbCB2w6FsaWRvXCI7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmKHR5cGU9PVwiaWRkb2NfdXlcIil7XG4gICAgICAgICAgaWYoIVZhbGlkYXRpb25TZXJ2aWNlLnZhbGlkYXRlX2lkZG9jX3V5KGZpZWxkLnZhbHVlKSl7XG4gICAgICAgICAgICBvayA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZih0eXBlPT1cInR3b193b3Jkc1wiKXtcbiAgICAgICAgICBpZighVmFsaWRhdGlvblNlcnZpY2UudmFsaWRhdGVfdHdvX3dvcmRzKGZpZWxkLnZhbHVlKSl7XG4gICAgICAgICAgICBvayA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZih0eXBlPT1cInRleHRhcmVhXCIpe1xuICAgICAgICAgIGlmKCFWYWxpZGF0aW9uU2VydmljZS52YWxpZGF0ZV9ub3RfZW1wdHkoZmllbGQuaW5uZXJIVE1MKSl7XG4gICAgICAgICAgICBvayA9IGZhbHNlO1xuICAgICAgICAgICAgbGFiZWwuaW5uZXJIVE1MPVwiRGViZXMgY29tcGxldGFyPGJyLz5lbCBjYW1wbyBcIitmaWVsZC5uYW1lO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZih0eXBlPT1cInNlbGVjdFwiKXtcbiAgICAgICAgICBpZighVmFsaWRhdGlvblNlcnZpY2UudmFsaWRhdGVfbm90X21pbnVzb25lKGZpZWxkW2ZpZWxkLnNlbGVjdGVkSW5kZXhdLnZhbHVlKSl7XG4gICAgICAgICAgICBvayA9IGZhbHNlO1xuICAgICAgICAgICAgbGFiZWwuaW5uZXJIVE1MPVwiRGViZXMgZWxlZ2lyIHZhbG9yPGJyLz5wYXJhIGVsIGNhbXBvIFwiK2ZpZWxkLm5hbWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmKCFvayl7XG4gICAgICAgICAgZmllbGQuc3R5bGUuYm9yZGVyQ29sb3IgPSBcInJlZFwiO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICBmaWVsZC5zdHlsZS5ib3JkZXJDb2xvciA9IFwiIzk3OTc5N1wiO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvaztcbiAgICB9XG5cblxuICB9O1xufV0pO1xuIiwicG1iX2ltLnNlcnZpY2VzLmZhY3RvcnkoJ0ZhcVNlcnZpY2UnLCBbJyRodHRwJywgJ0NvbmZpZ1NlcnZpY2UnLCBmdW5jdGlvbigkaHR0cCwgQ29uZmlnU2VydmljZSkge1xuXG4gIHZhciBiYXNlVVJMID0gQ29uZmlnU2VydmljZS5iYXNlVVJMICsgXCIvZmFxXCI7XG5cbiAgcmV0dXJuIHtcbiAgICBhbGw6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoYmFzZVVSTCwgeyBwYXJhbXM6IHsgYWpheDogXCIxXCIgfSB9KTtcbiAgICB9XG4gIH07XG59XSk7XG4iLCJwbWJfaW0uc2VydmljZXMuZmFjdG9yeSgnTG9hZGVyJywgWyckaW9uaWNMb2FkaW5nJywgJyR0aW1lb3V0JywnJGlvbmljUG9wdXAnLGZ1bmN0aW9uKCRpb25pY0xvYWRpbmcsJHRpbWVvdXQsJGlvbmljUG9wdXApIHtcblxuICB2YXIgTE9BREVSQVBJID0ge1xuXG4gICAgc2hvd0xvYWRpbmc6IGZ1bmN0aW9uKHRleHQpIHtcbiAgICAgIHRleHQgPSB0ZXh0IHx8ICdMb2FkaW5nLi4uJztcbiAgICAgICRpb25pY0xvYWRpbmcuc2hvdyh7XG4gICAgICAgIHRlbXBsYXRlOiB0ZXh0XG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgaGlkZUxvYWRpbmc6IGZ1bmN0aW9uKCkge1xuICAgICAgJGlvbmljTG9hZGluZy5oaWRlKCk7XG4gICAgfSxcblxuICAgIHRvZ2dsZUxvYWRpbmdXaXRoTWVzc2FnZTogZnVuY3Rpb24odGV4dCwgdGltZW91dCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICBzZWxmLnNob3dMb2FkaW5nKHRleHQpO1xuXG4gICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgc2VsZi5oaWRlTG9hZGluZygpO1xuICAgICAgfSwgdGltZW91dCB8fCAzMDAwKTtcbiAgICB9LFxuXG4gICAgY29uZmlybVBvcHVwOmZ1bmN0aW9uKHRpdGxlLHRleHQpe1xuICAgICAgdmFyIGNvbmZpcm1Qb3B1cCA9ICRpb25pY1BvcHVwLmNvbmZpcm0oe1xuICAgICB0aXRsZTogdGl0bGUsXG4gICAgIHRlbXBsYXRlOiB0ZXh0XG4gICB9KTtcbiAgIHJldHVybiBjb25maXJtUG9wdXA7XG4gfSxcblxuXG4gICAgc2hvd0FsZXJ0OmZ1bmN0aW9uKF90aXRsZSxfdGVtcGxhdGUpIHtcbiAgICAgIHZhciBhbGVydFBvcHVwID0gJGlvbmljUG9wdXAuYWxlcnQoe1xuICAgICAgICB0aXRsZTogX3RpdGxlLFxuICAgICAgICB0ZW1wbGF0ZTogX3RlbXBsYXRlXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBhbGVydFBvcHVwO1xuIH1cblxuICB9O1xuICByZXR1cm4gTE9BREVSQVBJO1xufV0pO1xuIiwicG1iX2ltLnNlcnZpY2VzLmZhY3RvcnkoJ0xvY2F0aW9uc1NlcnZpY2UnLCBbIGZ1bmN0aW9uKCkge1xuXG4gIHZhciBsb2NhdGlvbnNPYmogPSB7fTtcbiAgbG9jYXRpb25zT2JqLmluaXRpYWxfbGF0ID0gXCJcIjtcbiAgbG9jYXRpb25zT2JqLmluaXRpYWxfbG5nID0gXCJcIjtcbiAgbG9jYXRpb25zT2JqLm5ld19yZXBvcnRfbGF0ID0gXCJcIjtcbiAgbG9jYXRpb25zT2JqLm5ld19yZXBvcnRfbG5nID0gXCJcIjtcblxuICBsb2NhdGlvbnNPYmouc2F2ZV9pbml0aWFsX3Bvc2l0aW9uID0gZnVuY3Rpb24ocG9zaXRpb24pIHtcbiAgICBsb2NhdGlvbnNPYmouaW5pdGlhbF9sYXQgPSAgcG9zaXRpb24uY29vcmRzLmxhdGl0dWRlO1xuICAgIGxvY2F0aW9uc09iai5pbml0aWFsX2xuZyA9ICBwb3NpdGlvbi5jb29yZHMubG9uZ2l0dWRlO1xuICB9XG5cbiAgbG9jYXRpb25zT2JqLnNhdmVfbmV3X3JlcG9ydF9wb3NpdGlvbiA9IGZ1bmN0aW9uKGxhdCxsbmcpe1xuICAgIGxvY2F0aW9uc09iai5uZXdfcmVwb3J0X2xhdCA9IGxhdDtcbiAgICBsb2NhdGlvbnNPYmoubmV3X3JlcG9ydF9sbmcgPSBsbmc7XG4gIH1cblxuICBsb2NhdGlvbnNPYmouc2F2ZWRMb2NhdGlvbnMgPSBbXTtcblxuICByZXR1cm4gbG9jYXRpb25zT2JqO1xuXG59XSk7XG4iLCIgLy9wbWJfaW0uc2VydmljZXMuZmFjdG9yeSgnTWFwU2VydmljZScsIFsgZnVuY3Rpb24oKSB7XG4gcG1iX2ltLnNlcnZpY2VzLmZhY3RvcnkoJ01hcFNlcnZpY2UnLCBbJ2xlYWZsZXREYXRhJywgJyRjb21waWxlJywgZnVuY3Rpb24obGVhZmxldERhdGEsICRjb21waWxlKSB7XG5cbiAgIC8vRGVmaW5pY2lvbiBkZSBsYSBwcm95ZWNjY2lvbiBVVE0gMjEgc1xuICAgcHJvajQuZGVmcygnRVBTRzozMjcyMScsICcrcHJvaj11dG0gK3pvbmU9MjEgK3NvdXRoICtlbGxwcz1XR1M4NCArZGF0dW09V0dTODQgK3VuaXRzPW0gK25vX2RlZnMnKTtcblxuXG4gICB2YXIgbWFwU2VydmljZSA9IHt9O1xuXG4gICBtYXBTZXJ2aWNlLmdvVG9QbGFjZSA9IGZ1bmN0aW9uKF9wbGFjZSxzY29wZSkge1xuXG4gICAgIHZhciBfZ2VvSnNvbiA9IHtcbiAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICBub21icmU6IF9wbGFjZS5ub21icmVcbiAgICAgICB9LFxuICAgICAgIGNyczoge1xuICAgICAgICAgdHlwZTogJ25hbWUnLFxuICAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgICBuYW1lOiAndXJuOm9nYzpkZWY6Y3JzOkVQU0c6OjMyNzIxJ1xuICAgICAgICAgfVxuICAgICAgIH1cbiAgICAgfTtcbiAgICAgX2dlb0pzb24gPSBhbmd1bGFyLmV4dGVuZChfZ2VvSnNvbiwgX3BsYWNlLmdlb20pO1xuICAgICAvL2FsZXJ0KEpTT04uc3RyaW5naWZ5KF9wbGFjZS5nZW9tKSk7XG4gICAgIGxlYWZsZXREYXRhLmdldE1hcCgpLnRoZW4oZnVuY3Rpb24obWFwKSB7XG4gICAgICAgdmFyIF9sYXRsbmc7XG4gICAgICAgdmFyIGxheWVyID0gTC5Qcm9qLmdlb0pzb24oX2dlb0pzb24sIHtcbiAgICAgICAgICdwb2ludFRvTGF5ZXInOiBmdW5jdGlvbihmZWF0dXJlLCBsYXRsbmcpIHtcbiAgICAgICAgICAgX2xhdGxuZyA9IGxhdGxuZztcbiAgICAgICAgICAgcmV0dXJuIEwubWFya2VyKGxhdGxuZyk7XG4gICAgICAgICB9XG4gICAgICAgfSk7XG4gICAgICAgLypsYXllci5hZGRUbyhtYXApOyovXG4gICAgICAgLy8gY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkobGF5ZXIpKTtcblxuICAgICAgIG1hcC5zZXRWaWV3KF9sYXRsbmcsIDE4KTtcbiAgICAgICAvL2xheWVyLm9wZW5Qb3B1cCgpO1xuICAgICB9KTtcbiAgIH07XG5cbiAgIG1hcFNlcnZpY2UuY2VudGVyTWFwT25Db29yZHMgPSBmdW5jdGlvbihsYXQsbG5nLHpvb20pIHtcbiAgICAgbGVhZmxldERhdGEuZ2V0TWFwKCkudGhlbihmdW5jdGlvbihtYXApIHtcbiAgICAgICAgbWFwLnNldFZpZXcobmV3IEwuTGF0TG5nKGxhdCwgbG5nKSx6b29tKTtcbiAgICAgICB9KTtcbiAgICAgfVxuXG4gICByZXR1cm4gbWFwU2VydmljZTtcblxuIH1dKTtcbiIsInBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdOZXdzU2VydmljZScsIFsnJGh0dHAnLCAnQ29uZmlnU2VydmljZScsIGZ1bmN0aW9uKCRodHRwLCBDb25maWdTZXJ2aWNlKSB7XG5cbiAgdmFyIGJhc2VVUkwgPSBDb25maWdTZXJ2aWNlLmJhc2VVUkwgKyBcIi9kYXRhdXkvbmV3c1wiO1xuXG4gIHJldHVybiB7XG4gICAgYWxsOiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KGJhc2VVUkwsIHsgcGFyYW1zOiB7fX0pXG4gICAgfVxuICB9O1xufV0pO1xuIiwicG1iX2ltLnNlcnZpY2VzLmZhY3RvcnkoJ1BNQlNlcnZpY2UnLCBbJyRodHRwJywgJ2xlYWZsZXREYXRhJywgJyRjb3Jkb3ZhRmlsZVRyYW5zZmVyJywgJ0NvbmZpZ1NlcnZpY2UnLCBmdW5jdGlvbigkaHR0cCwgbGVhZmxldERhdGEsICRjb3Jkb3ZhRmlsZVRyYW5zZmVyLENvbmZpZ1NlcnZpY2UpIHtcblxuICB2YXIgYmFzZSA9IENvbmZpZ1NlcnZpY2UuYmFzZVVSTDtcblxuICB2YXIgUE1CU2VydmljZSA9IHtcblxuICAgIHJlcG9ydDogZnVuY3Rpb24oZm9ybSkge1xuICAgICAgaWYgKGZvcm0uZmlsZSkge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgICAgIGZpbGVLZXk6IFwicGhvdG9cIixcbiAgICAgICAgIGZpbGVOYW1lOiBcImltYWdlLmpwZWdcIixcbiAgICAgICAgIGNodW5rZWRNb2RlOiBmYWxzZSxcbiAgICAgICAgIG1pbWVUeXBlOiBcImltYWdlL2pwZWdcIixcbiAgICAgICAgIHBhcmFtcyA6IGZvcm1cbiAgICAgICAgfTtcbiAgICAgICAgb3B0aW9ucy5oZWFkZXJzID0ge1xuICAgICAgICAgIENvbm5lY3Rpb246IFwiQ2xvc2VcIlxuICAgICAgICB9O1xuICAgICAgICB2YXIgdHJ1c3RBbGxIb3N0cyA9IHRydWU7XG4gICAgICAgIHJldHVybiAkY29yZG92YUZpbGVUcmFuc2Zlci51cGxvYWQoYmFzZSArICcvcmVwb3J0L25ldy9tb2JpbGUnLCBmb3JtLmZpbGUsIG9wdGlvbnMsIHRydXN0QWxsSG9zdHMpO1xuICAgICAgfWVsc2V7XG4gICAgICAgIHJldHVybiAkaHR0cC5nZXQoYmFzZSArICcvcmVwb3J0L25ldy9tb2JpbGUnLCB7IHBhcmFtczogZm9ybSB9KTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgc3Vic2NyaWJlOiBmdW5jdGlvbiAoZW1haWwscmVwb3J0X2lkKSB7XG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KGJhc2UgKyBcIi9hbGVydC9zdWJzY3JpYmVfYWpheFwiLCB7IHBhcmFtczogeyByem52eTogZW1haWwsIGlkOiByZXBvcnRfaWQsIHR5cGU6IFwidXBkYXRlc1wiIH0gfSk7XG4gICAgfSxcblxuICAgIGFidXNlOiBmdW5jdGlvbiAoZW1haWwscmVwb3J0X2lkLCBuYW1lLCBzdWJqZWN0LCBtZXNzYWdlKSB7XG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KGJhc2UgKyBcIi9jb250YWN0L3N1Ym1pdF9hamF4XCIsIHsgcGFyYW1zOiB7IGVtOiBlbWFpbCwgaWQ6IHJlcG9ydF9pZCwgbmFtZTogbmFtZSwgc3ViamVjdDogc3ViamVjdCwgbWVzc2FnZTogbWVzc2FnZSB9IH0pO1xuICAgIH0sXG5cbiAgICBoaWRlOiBmdW5jdGlvbiAocmVwb3J0X2lkKSB7XG4gICAgICB2YXIgZGVsZXRlVVJMID0gXCIvcmVwb3J0L2RlbGV0ZV9hamF4L1wiICsgcmVwb3J0X2lkO1xuICAgICAgcmV0dXJuICRodHRwLmdldChiYXNlICsgZGVsZXRlVVJMLCB7IHBhcmFtczoge30gfSk7XG4gICAgfSxcblxuICAgIGNvbW1lbnQ6IGZ1bmN0aW9uIChyZXBvcnRfaWQsbWVzc2FnZSxuYW1lLGVtYWlsLG1heV9zaG93X25hbWUsYWRkX2FsZXJ0LGZpeGVkKSB7XG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KGJhc2UgKyBcIi9yZXBvcnQvdXBkYXRlX2FqYXhcIixcbiAgICAgIHsgcGFyYW1zOlxuICAgICAgICB7XG4gICAgICAgICAgc3VibWl0X3VwZGF0ZTogMSxcbiAgICAgICAgICBpZDogcmVwb3J0X2lkLFxuICAgICAgICAgIG1heV9zaG93X25hbWU6IG1heV9zaG93X25hbWUsXG4gICAgICAgICAgYWRkX2FsZXJ0OiBhZGRfYWxlcnQsXG4gICAgICAgICAgZml4ZWQ6IGZpeGVkLFxuICAgICAgICAgIHVwZGF0ZTogbWVzc2FnZSxcbiAgICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICAgIGZvcm1fcnpudnk6IGVtYWlsXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgfTtcbiAgcmV0dXJuIFBNQlNlcnZpY2U7XG5cbn1dKTtcbiIsInBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdQb3BVcFNlcnZpY2UnLCBbJyRpb25pY1BvcHVwJywnVmFsaWRhdGlvblNlcnZpY2UnLCBmdW5jdGlvbigkaW9uaWNQb3B1cCxWYWxpZGF0aW9uU2VydmljZSkge1xuXG4gIHJldHVybiB7XG4gICAgc2hvd19hbGVydDogZnVuY3Rpb24gKGFsZXJ0X3RpdGxlLGFsZXJ0X21lc3NhZ2UpIHtcbiAgICAgICAgdmFyIGFsZXJ0UG9wdXAgPSAkaW9uaWNQb3B1cC5hbGVydCh7XG4gICAgICAgICB0aXRsZTogYWxlcnRfdGl0bGUsXG4gICAgICAgICB0ZW1wbGF0ZTogYWxlcnRfbWVzc2FnZVxuICAgICAgICB9KTtcbiAgICAgICAgYWxlcnRQb3B1cC50aGVuKGZ1bmN0aW9uKHJlcykge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcblxuICAgY29uZmlybVBvcHVwOiBmdW5jdGlvbih0aXRsZSx0ZXh0KXtcbiAgICAgdmFyIGNvbmZpcm1Qb3B1cCA9ICRpb25pY1BvcHVwLmNvbmZpcm0oe1xuICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiB0aXRsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogdGV4dFxuICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgcmV0dXJuIGNvbmZpcm1Qb3B1cDtcbiAgIH0sXG5cbiAgIGFza0Zvck9uZVZhbHVlUG9wVXA6IGZ1bmN0aW9uKHNjb3BlLHRpdGxlLHRleHQsZmllbGRfbmFtZSx2YWxpZGF0aW9uVHlwZSl7XG4gICAgICAkc2NvcGUgPSBzY29wZTtcbiAgICAgIHZhciBteVBvcHVwID0gJGlvbmljUG9wdXAuc2hvdyh7XG4gICAgICB0ZW1wbGF0ZTogZmllbGRfbmFtZSArICc6IDxpbnB1dCB0eXBlPVwidGV4dFwiIGlkPVwib25lX3ZhbHVlX3BvcHVwXCI+PGRpdiBpZD1cImVycm9yX2NvbnRhaW5lcl9pbnNpZGVcIj48L2Rpdj4nLFxuICAgICAgdGl0bGU6IHRpdGxlLFxuICAgICAgc3ViVGl0bGU6IHRleHQsXG4gICAgICBzY29wZTogJHNjb3BlLFxuICAgICAgYnV0dG9uczogW1xuICAgICAgICB7IHRleHQ6ICdDYW5jZWxhcicgfSxcbiAgICAgICAge1xuICAgICAgICAgIHRleHQ6ICc8Yj5FbnZpYXI8L2I+JyxcbiAgICAgICAgICB0eXBlOiAnYnV0dG9uLXBvc2l0aXZlJyxcbiAgICAgICAgICBvblRhcDogZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgdmFyIGVycm9ycyA9IFwiXCI7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm9uZV92YWx1ZV9wb3B1cFwiKS52YWx1ZTtcbiAgICAgICAgICAgIGlmKHZhbGlkYXRpb25UeXBlPT1cIm5vdE51bGxcIil7XG4gICAgICAgICAgICAgIGlmKCFWYWxpZGF0aW9uU2VydmljZS52YWxpZGF0ZV9ub3RfZW1wdHkodmFsdWUpKXtcbiAgICAgICAgICAgICAgICBlcnJvcnMgPSBlcnJvcnMgKyAnPGgzPi0gRWwgY2FtcG8gXCInICsgZmllbGRfbmFtZSArICdcIiBubyBwdWVkZSBlc3RhciB2YWPDrW8uPC9oMz4nO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZih2YWxpZGF0aW9uVHlwZT09XCJlbWFpbFwiKXtcbiAgICAgICAgICAgICAgaWYoIVZhbGlkYXRpb25TZXJ2aWNlLnZhbGlkYXRlX2VtYWlsKHZhbHVlKSl7XG4gICAgICAgICAgICAgICAgZXJyb3JzID0gZXJyb3JzICsgJzxoMz4tIEVsIGNhbXBvIFwiJyArIGZpZWxkX25hbWUgKyAnXCIgbm8gZXMgdW5hIGRpcmVjY2nDs24gZGUgY29ycmVvIHbDoWxpZGEuPC9oMz4nO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZih2YWxpZGF0aW9uVHlwZT09XCJpZGRvY191eVwiKXtcbiAgICAgICAgICAgICAgaWYoIVZhbGlkYXRpb25TZXJ2aWNlLnZhbGlkYXRlX2lkZG9jX3V5KHZhbHVlKSl7XG4gICAgICAgICAgICAgICAgZXJyb3JzID0gZXJyb3JzICsgJzxoMz4tIEVsIGNhbXBvIFwiJyArIGZpZWxkX25hbWUgKyAnXCIgbm8gZXMgdW5hIGPDqWR1bGEgdXJ1Z3VheWEgdsOhbGlkYS48L2gzPic7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKHZhbGlkYXRpb25UeXBlPT1cInR3b193b3Jkc1wiKXtcbiAgICAgICAgICAgICAgaWYoIVZhbGlkYXRpb25TZXJ2aWNlLnZhbGlkYXRlX3R3b193b3Jkcyh2YWx1ZSkpe1xuICAgICAgICAgICAgICAgIGVycm9ycyA9IGVycm9ycyArICc8aDM+LSBFbCBjYW1wbyBcIicgKyBmaWVsZF9uYW1lICsgJ1wiIGRlYmUgY29udGVuZXIgYWwgbWVub3MgZG9zIHBhbGFicmFzLjwvaDM+JztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoZXJyb3JzIT1cIlwiKXtcbiAgICAgICAgICAgICAgdmFyIGVycm9yRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJlcnJvcl9jb250YWluZXJfaW5zaWRlXCIpO1xuICAgICAgICAgICAgICBlcnJvckRpdi5pbm5lckhUTUw9IGVycm9ycztcbiAgICAgICAgICAgICAgZXJyb3JEaXYuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgICAgICAgLy9kb24ndCBhbGxvdyB0aGUgdXNlciB0byBjbG9zZSB1bmxlc3MgaGUgZW50ZXJzIHdpZmkgcGFzc3dvcmRcbiAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgXVxuICAgIH0pO1xuICAgIHJldHVybiBteVBvcHVwO1xuICAgfVxuXG5cbiAgfTtcbn1dKTtcbiIsInBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdSZXNpZHVvc1NlcnZpY2UnLCBbJyRodHRwJywnQ29uZmlnU2VydmljZScsIGZ1bmN0aW9uKCRodHRwLCBDb25maWdTZXJ2aWNlKSB7XG5cbiAgdmFyIGJhc2VVUkwgPSBDb25maWdTZXJ2aWNlLmJhc2VVUkwgKyBcIi9kYXRhdXkvZ2V0X3Jlc2lkdW9zX2pzb24vXCI7XG5cbiAgcmV0dXJuIHtcbiAgICBnZXRCeVN0cjogZnVuY3Rpb24gKHN0cikge1xuICAgICAgcmV0dXJuICRodHRwLmdldChiYXNlVVJMICsgc3RyLCB7IHBhcmFtczogeyB9IH0pO1xuICAgIH1cbiAgfTtcbn1dKTtcbiIsInBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdsb2NhdGlvbkFQSScsIFsnJGh0dHAnLCAnJHEnLCAnQXBpSW1FbmRwb2ludCcsICdBcGlEYXRhRW5kcG9pbnQnLCBmdW5jdGlvbigkaHR0cCwgJHEsIEFwaUltRW5kcG9pbnQsIEFwaURhdGFFbmRwb2ludCkge1xuXG4gIHZhciByZXN0UHJlZmZpeCA9IFwidWJpY2FjaW9uZXNSZXN0UHJvZFwiO1xuXG5cbiAgdmFyIGxvY2F0aW9uQVBJID0ge307XG5cbiAgbG9jYXRpb25BUEkuc2VhcmNoTG9jYXRpb25CeVN0ciA9IGZ1bmN0aW9uKF9sb2NhdGlvbikge1xuICAgIHJldHVybiAkaHR0cC5nZXQoQXBpSW1FbmRwb2ludC51cmwgKyAnLycgKyByZXN0UHJlZmZpeCArICcvY2FsbGVzJywge1xuICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgIHBhcmFtczoge1xuICAgICAgICBub21icmU6IF9sb2NhdGlvblxuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG5cbiAgbG9jYXRpb25BUEkuc2VhcmNoRXNxdWluYUJ5U3RyID0gZnVuY3Rpb24oX2xvY2F0aW9uKSB7XG4gICAgLy9jb25zb2xlLmxvZyhcInNlYXJjaEVzcXVpbmFCeVN0ciA9IFwiICsgSlNPTi5zdHJpbmdpZnkoX2xvY2F0aW9uKSk7XG4gICAgLy9yZXR1cm4gJGh0dHAuZ2V0KEFwaUltRW5kcG9pbnQudXJsICsgJy8nICsgcmVzdFByZWZmaXggKyAnL2VzcXVpbmEvJyArIF9sb2NhdGlvbi5jYWxsZSArICcvJyArIF9sb2NhdGlvbi5lc3F1aW5hLCB7XG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KEFwaUltRW5kcG9pbnQudXJsICsgJy8nICsgcmVzdFByZWZmaXggKyAnL2NydWNlcy8nICsgX2xvY2F0aW9uLmNhbGxlICsgJy8nLFxuICAgICAge1xuICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICBub21icmU6IF9sb2NhdGlvbi5lc3F1aW5hXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9O1xuXG4gIGxvY2F0aW9uQVBJLmdldExvY2F0aW9uR2VvbSA9IGZ1bmN0aW9uKF9sb2NhdGlvbikge1xuICAgIHZhciB1cmwgPSBBcGlJbUVuZHBvaW50LnVybCArICcvJyArIHJlc3RQcmVmZml4ICsgbG9jYXRpb25BUEkuZ2V0UGFyYW1QYXRoQnlUaXBvKF9sb2NhdGlvbi50aXBvKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IF9sb2NhdGlvbi5wYXRoUGFyYW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICB1cmwgKz0gJy8nICsgX2xvY2F0aW9uLnBhdGhQYXJhbXNbaV07XG4gICAgfVxuXG4gICAgcmV0dXJuICRodHRwLmdldCh1cmwpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xuICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgfSk7XG5cblxuICB9O1xuXG4gIGxvY2F0aW9uQVBJLmdldFBhcmFtUGF0aEJ5VGlwbyA9IGZ1bmN0aW9uKF90aXBvKSB7XG5cbiAgICB2YXIgcmVzdEdlb0RhdGFTZXJ2aWNlUGF0aCA9IHtcbiAgICAgICdFU1FVSU5BJzpcIi9lc3F1aW5hXCIsXG4gICAgICAnRElSRUNDSU9OJzpcIi9kaXJlY2Npb25cIlxuICAgIH07XG5cbiAgICByZXR1cm4gcmVzdEdlb0RhdGFTZXJ2aWNlUGF0aFtfdGlwb107XG5cblxuICB9O1xuXG4gIHJldHVybiBsb2NhdGlvbkFQSTtcblxufV0pO1xuIiwicG1iX2ltLnNlcnZpY2VzLmZhY3RvcnkoJ18nLCBbZnVuY3Rpb24oKSB7XG4gIHJldHVybiB3aW5kb3cuXzsgLy9VbmRlcnNjb3JlIG11c3QgYWxyZWFkeSBiZSBsb2FkZWQgb24gdGhlIHBhZ2Vcbn1dKTtcbiIsInBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdVc2VyU2VydmljZScsIFsnJGh0dHAnLCBmdW5jdGlvbigkaHR0cCkge1xuXG4gIC8vdmFyIGJhc2VVUkwgPSBcImh0dHA6Ly9wbWJ1eS5kZXZlbG9wbWVudC5kYXRhdXkub3JnL2F1dGgvYWpheC9cIjtcbiAgdmFyIFVzZXJPYmogPSB7fTtcbiAgVXNlck9iai5uYW1lID0gbnVsbDtcbiAgVXNlck9iai5lbWFpbCA9IG51bGw7XG4gIFVzZXJPYmoucGFzc3dvcmQgPSBudWxsO1xuICBVc2VyT2JqLmlkZW50aXR5X2RvY3VtZW50ID0gbnVsbDtcbiAgVXNlck9iai5waG9uZSA9ICcnO1xuICBVc2VyT2JqLnBpY3R1cmVfdXJsID0gXCJ1cmwoLi9pbWcvaWNvbi11c2VyLWFub255bW91cy5wbmcpXCI7XG5cblxuICBVc2VyT2JqLnNhdmVfdXNlcl9kYXRhID0gZnVuY3Rpb24gKHVzZXJfbmFtZSwgdXNlcl9lbWFpbCwgdXNlcl9wYXNzd29yZCwgdXNlcl9pZF9kb2MsIHVzZXJfcGhvbmUsIHVzZXJfcGljdHVyZV91cmwpIHtcbiAgICAgIFVzZXJPYmoubmFtZSA9IHVzZXJfbmFtZTtcbiAgICAgIFVzZXJPYmouZW1haWwgPSB1c2VyX2VtYWlsO1xuICAgICAgVXNlck9iai5wYXNzd29yZCA9IHVzZXJfcGFzc3dvcmQ7XG4gICAgICBVc2VyT2JqLmlkZW50aXR5X2RvY3VtZW50ID0gdXNlcl9pZF9kb2M7XG4gICAgICBVc2VyT2JqLnBob25lID0gdXNlcl9waG9uZTtcbiAgICAgIFVzZXJPYmoucGljdHVyZV91cmwgPSB1c2VyX3BpY3R1cmVfdXJsO1xuICAgICAgLy9TQVZFIElOIFBPVUNIREJcbiAgfVxuXG4gIFVzZXJPYmouZXJhc2VfdXNlcl9kYXRhID0gZnVuY3Rpb24gKCkge1xuICAgIFVzZXJPYmoubmFtZSA9IG51bGw7XG4gICAgVXNlck9iai5lbWFpbCA9IG51bGw7XG4gICAgVXNlck9iai5wYXNzd29yZCA9IG51bGw7XG4gICAgVXNlck9iai5pZGVudGl0eV9kb2N1bWVudCA9IG51bGw7XG4gICAgVXNlck9iai5waG9uZSA9IG51bGw7XG4gICAgVXNlck9iai5waWN0dXJlX3VybCA9IG51bGw7XG4gICAgLy9ERUxFVEUgSU4gUE9VQ0hEQlxuICB9XG5cbiAgVXNlck9iai5nZXRfdXNlcl9kYXRhID0gZnVuY3Rpb24gKCkge1xuICAgIC8vTEVWQU5UQSBERSBQT1VDSERCIExPUyBEQVRPUyBERUwgVVNVQVJJTy4gU0kgSEFZIExPUyBQT05FIEVOIExBUyBWQVJJQUJMRVMgREVMIFNFUlZJQ0lPLiBTSSBOTyBIQVkgUE9ORSBUT0RPIE5VTExcbiAgfVxuXG4gIFVzZXJPYmouYWRkX3Bob3RvID0gZnVuY3Rpb24gKHVzZXJfcGljdHVyZV91cmwpIHtcbiAgICBVc2VyT2JqLnBpY3R1cmVfdXJsID0gdXNlcl9waWN0dXJlX3VybDtcbiAgfVxuXG4gIFVzZXJPYmouaXNMb2dnZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYoVXNlck9iai5uYW1lIT1udWxsICYmIFVzZXJPYmoubmFtZSE9XCJcIil7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9ZWxzZXtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuXG4gIHJldHVybiBVc2VyT2JqO1xuXG59XSk7XG4iLCJwbWJfaW0uc2VydmljZXMuZmFjdG9yeSgnVmFsaWRhdGlvblNlcnZpY2UnLCBbJyRodHRwJywnJGlvbmljUG9wdXAnLCBmdW5jdGlvbigkaHR0cCwkaW9uaWNQb3B1cCkge1xuXG4gIHJldHVybiB7XG4gICAgdmFsaWRhdGVfbm90X21pbnVzb25lOiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYodmFsdWU9PS0xKXtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIHZhbGlkYXRlX25vdF9lbXB0eTogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmKHZhbHVlIT1udWxsICYmIHZhbHVlIT1cInVuZGVmaW5lZFwiICYmIHZhbHVlIT1cIlwiKXtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIHZhbGlkYXRlX3R3b193b3JkczogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmKHZhbHVlIT1udWxsICYmIHZhbHVlIT1cInVuZGVmaW5lZFwiICYmIHZhbHVlIT1cIlwiKXtcbiAgICAgICAgICB2YXIgdmFsdWVzID0gdmFsdWUuc3BsaXQoJyAnKS5maWx0ZXIoZnVuY3Rpb24odil7cmV0dXJuIHYhPT0nJ30pO1xuICAgICAgICAgIGlmICh2YWx1ZXMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAvL3R3byBvciBtb3JlIHdvcmRzXG4gICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vbm90IGVub3VnaCB3b3Jkc1xuICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgdmFsaWRhdGVfZW1haWw6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZih2YWx1ZSE9bnVsbCAmJiB2YWx1ZSE9XCJ1bmRlZmluZWRcIiAmJiB2YWx1ZSE9XCJcIil7XG4gICAgICAgICAgdmFyIHJlID0gL14oKFtePD4oKVxcW1xcXVxcXFwuLDs6XFxzQFwiXSsoXFwuW148PigpXFxbXFxdXFxcXC4sOzpcXHNAXCJdKykqKXwoXCIuK1wiKSlAKChcXFtbMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XSl8KChbYS16QS1aXFwtMC05XStcXC4pK1thLXpBLVpdezIsfSkpJC87XG4gICAgICAgICAgcmV0dXJuIHJlLnRlc3QodmFsdWUpO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgdmFsaWRhdGVfaWRkb2NfdXk6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgaWYodmFsdWUhPW51bGwgJiYgdmFsdWUhPVwidW5kZWZpbmVkXCIgJiYgdmFsdWUhPVwiXCIpe1xuICAgICAgICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZSgvXFxEL2csICcnKTtcbiAgICAgICAgICB2YXIgZGlnID0gdmFsdWVbdmFsdWUubGVuZ3RoIC0gMV07XG4gICAgICAgICAgdmFyIGEgPSAwOyB2YXIgaSA9IDA7XG4gICAgICAgICAgaWYodmFsdWUubGVuZ3RoIDw9IDYpe1xuICAgICAgICAgICAgZm9yKGkgPSB2YWx1ZS5sZW5ndGg7IGkgPCA3OyBpKyspe1xuICAgICAgICAgICAgICB2YWx1ZSA9ICcwJyArIHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBmb3IoaSA9IDA7IGkgPCA3OyBpKyspe1xuICAgICAgICAgICAgYSArPSAocGFyc2VJbnQoXCIyOTg3NjM0XCJbaV0pICogcGFyc2VJbnQodmFsdWVbaV0pKSAlIDEwO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgcmVzdWx0O1xuICAgICAgICAgIGlmKGElMTAgPT09IDApe1xuICAgICAgICAgICAgcmVzdWx0ID0gMDtcbiAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIHJlc3VsdCA9IDEwIC0gYSAlIDEwO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZihkaWcgPT0gcmVzdWx0KXtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgIH1lbHNle1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9O1xufV0pO1xuIl19
