window.VERSION = "0.0.3";var pmb_im={controllers:angular.module("pmb_im.controllers",[]),services:angular.module("pmb_im.services",[])};pmb_im.app=angular.module("pmb_im",["ionic","ionic.wizard","ion-autocomplete","leaflet-directive","pmb_im.controllers","pmb_im.services","ngCordova","ionic-cache-src"]).constant("ApiImEndpoint",{url:"http://www.montevideo.gub.uy"}).constant("ApiDataEndpoint",{url:"/data"}).run(["$ionicPlatform","$rootScope","$cordovaKeyboard",function(e,n,t){n.VERSION=window.VERSION,e.ready(function(){window.cordova&&window.cordova.plugins.Keyboard&&cordova.plugins.Keyboard.hideKeyboardAccessoryBar(!0),ionic.Platform.isFullScreen=!1,window.StatusBar&&StatusBar.styleDefault()})}]).config(["$stateProvider","$urlRouterProvider","$compileProvider","$ionicConfigProvider",function(e,n,t,o){t.debugInfoEnabled(!1),e.state("app",{cache:!1,url:"/app","abstract":!0,templateUrl:"templates/menu.html",controller:"MapController"}).state("app.map",{cache:!1,url:"/map/",views:{menuContent:{templateUrl:"templates/map.html",controller:"PMBCtrl"}}}).state("app.intro",{cache:!1,url:"/intro",views:{menuContent:{templateUrl:"templates/intro.html",controller:"IntroCtrl"}}}),n.otherwise("/app/intro")}]),pmb_im.controllers.controller("AutoCompleteCtrl",["$scope","leafletData","locationAPI",function(e,n,t){e.ionAutocompleteElement=angular.element(document.getElementsByClassName("ion-autocomplete")),e.ionAutocompleteElement.bind("touchend click focus",e.onClick),e.onClick=function(){e.ionAutocompleteElement.controller("ionAutocomplete").showModal()},e.searchLocation=function(e){if(e)return t.searchLocationByStr(e)}}]),pmb_im.controllers.controller("IntroCtrl",["$scope","$state","$cordovaGeolocation","$stateParams","$ionicPlatform","$ionicPopup","LocationsService","DBService",function(e,n,t,o,a,r,i,l){var c=l.initDB();c.info().then(console.log.bind(console)),e.geolocate=function(){var e=!1;ionic.Platform.ready(function(){var o=(ionic.Platform.device(),{timeout:3500,enableHighAccuracy:!0,maximumAge:6e4});t.getCurrentPosition(o).then(function(t){e=!0,i.save_initial_position(t),n.go("app.map")},function(e){n.go("app.map")})})},e.$on("$ionicView.enter",function(){e.geolocate()})}]),pmb_im.controllers.controller("MapController",["$scope","$sce","_","$cordovaFile","$cordovaGeolocation","$compile","$state","$stateParams","$ionicModal","$ionicPopup","leafletData","ConfigService","ContactService","PMBService","LocationsService","ContainerService","MapService","FaqService","CategoriesService","AuthService","UserService","DBService","$timeout","$location","ErrorService","$ionicSlideBoxDelegate","$ionicScrollDelegate","PopUpService","$ionicPlatform","ConnectivityService","$cordovaInAppBrowser","$interval","$cordovaKeyboard","NewsService",function(n,t,o,a,r,i,c,u,s,m,d,p,_,f,h,g,v,y,w,b,k,C,E,S,B,I,M,$,P,x,R,A,T,N){n.featureReports={},n.baseURL=p.baseURL,n.user_cached_image="",n.report_detail_id=null,n.one_value_popup=null,n.abuse_name=null,n.abuse_email=null,n.abuse_subject=null,n.abuse_message=null,n.actualSliderIndex=0,n.$on("$ionicView.beforeEnter",function(){C.initDB(),n.set_network_events(),n.find_me(),n.walkthrough()}),P.onHardwareBackButton(function(){e.stopPropagation(),n.hide_special_divs}),n.openWebsite=function(e){var n={location:"no",clearcache:"yes",toolbar:"no"};R.open(e,"_blank",n).then(function(e){})["catch"](function(e){})},n.set_network_events=function(){n.create_online_map(),n.addPinsLayer(),n.map.center={lat:-34.901113,lng:-56.164531,zoom:18}},n.create_online_map=function(){return null==n.map&&void(n.map={defaults:{tileLayer:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",minZoom:10,maxZoom:18,zoomControlPosition:"topleft"},markers:{},events:{map:{enable:["context"],logic:"emit"}}})},n.clickOnMenuIcon=function(){var e=document.getElementById("nav-icon-lines"),t=document.getElementById("expanded_menu");n.toggleClassOnElement(e,"open"),n.toggleClassOnElement(t,"open")};n.toggleClassOnElement=function(e,n){if(e&&n){var t=e.className,o=t.indexOf(n);o==-1?t+=" "+n:t=t.substr(0,o)+t.substr(o+n.length),e.className=t}},n.next=function(){I.next(),n.actualSliderIndex=I.currentIndex()},n.previous=function(){I.previous(),n.actualSliderIndex=I.currentIndex()},n.scrollMe=function(e){S.hash(e);var n=M.$getByHandle("content");n.anchorScroll()},n.goTo=function(e){S.hash("item"+e),M.anchorScroll()},n.set_active_option=function(e){return!1},n.hide_special_divs=function(){var e=document.getElementById("container_details");e&&(e.className="");var n=document.getElementById("navigation_back");n&&(n.className="hidden");var t=document.getElementById("navigation_menu");t&&(t.className="")},n.addMapControls=function(){return!1},n.startReportFromCrosshairs=function(){},n.addPinsLayer=function(){if(null!=n.jsonLayer)return!1;var e=p.baseURL;onEachFeature=function(e,t){e.properties&&t.on("click",function(e){n.selected_container=g.build(e.target.feature.properties),n.selected_container.setLatLng(e.target.feature.geometry.coordinates[1],e.target.feature.geometry.coordinates[0]);var t=document.getElementById("container_details");t.className="open";var o=document.getElementById("navigation_back");o.className="";var a=document.getElementById("navigation_menu");a.className="hidden",n.goToCenter(n.selected_container.lon,n.selected_container.lat)})},l=new L.LayerJSON({url:e+"/datauy/get_containers_json/{bbox}",locAsGeoJSON:!0,minShift:5,precision:10,onEachFeature:onEachFeature}),d.getMap().then(function(e){null!=n.jsonLayer&&e.removeLayer(n.jsonLayer),n.jsonLayer=l,e.addLayer(l)}),n.lastMarkerLayer=null,l.on("dataloaded",function(e){n.reports=e.data.features}),l.on("layeradd",function(t){t.layer.eachLayer(function(t){var o="/img/pin-container.svg";t.feature.properties.pin_url&&(o=t.feature.properties.pin_url);var a=L.icon({iconUrl:e+o,iconSize:[29,34],iconAnchor:[8,8],popupAnchor:[0,-8]});t.setIcon(a),void 0===n.featureReports[t.feature.properties.GID]&&(n.featureReports[t.feature.properties.GID]=t)})})},n.goToCenter=function(e,t){var o={timeout:3e3,enableHighAccuracy:!0};r.getCurrentPosition(o).then(function(o){var a=o.coords.latitude,r=o.coords.longitude;n.getRoad(a,r,t,e)},function(n){t-=6e-4,v.centerMapOnCoords(t,e,17)})},n.lastRoad=null,n.nav_back=function(){n.hide_special_divs(),null!=n.lastRoad&&(n.lastRoad.spliceWaypoints(0,2),d.getMap().then(function(e){e.removeControl(n.lastRoad),n.lastRoad=null}))},n.walkthrough=function(){if(null!=n.walkthrough_modal)return!1;var e=C.getDoneWalkthrough();e.then(function(e){null!=e.status&&"done"==e.status||n.openWalkThroughModal()})["catch"](function(e){n.openWalkThroughModal()})},n.walkthroughFromMenu=function(){n.closeMainMenu(),n.openWalkThroughModal()},n.openWalkThroughModal=function(){s.fromTemplateUrl("templates/walkthrough.html",{scope:n,hardwareBackButtonClose:!1,animation:"slide-in-up"}).then(function(e){n.walkthrough_modal=e,n.walkthrough_modal.show()})},n.finishWalkthrough=function(){n.walkthrough_modal.hide(),n.walkthrough_modal.remove(),C.saveDoneWalkthrough()},n.subject="Feedback",n.toggleGroup=function(e){n.isGroupShown(e)?n.shownGroup=null:n.shownGroup=e},n.isGroupShown=function(e){return n.shownGroup===e},n.openProgramas=function(){n.main_menu_modal.hide(),n.main_menu_modal.remove(),s.fromTemplateUrl("templates/programas.html",{scope:n,hardwareBackButtonClose:!0,animation:"none"}).then(function(e){n.item_modal=e,n.item_modal.show()})},n.clickTipoResiduo=function(e){n.scrollMe(e)},n.openClasificar=function(){n.main_menu_modal.hide(),n.main_menu_modal.remove(),s.fromTemplateUrl("templates/clasificar.html",{scope:n,hardwareBackButtonClose:!0,animation:"none"}).then(function(e){n.item_modal=e,n.item_modal.show()})},n.openAboutProyect=function(){n.main_menu_modal.hide(),n.main_menu_modal.remove(),s.fromTemplateUrl("templates/sobre_proyecto.html",{scope:n,hardwareBackButtonClose:!0,animation:"none"}).then(function(e){n.item_modal=e,n.item_modal.show()})},n.news=null,n.gotoLink=function(e){window.open(e,"_system")},n.openNews=function(){n.showDiv("menu-spinner"),N.all().then(function(e){n.news=e.data.items,null!=n.item_modal&&(n.item_modal.hide(),n.item_modal.remove()),n.hideDiv("menu-spinner"),n.main_menu_modal.hide(),n.main_menu_modal.remove(),s.fromTemplateUrl("templates/news.html",{scope:n,hardwareBackButtonClose:!0,animation:"none"}).then(function(e){n.item_modal=e,n.item_modal.show()})})},n.showDiv=function(e){var n=document.getElementById(e);n.classList.remove("hidden")},n.hideDiv=function(e,n){var t=document.getElementById(e);t.className=t.className+" hidden"},n.openContact=function(){n.subject="Feedback",null!=n.item_modal&&(n.item_modal.hide(),n.item_modal.remove()),n.main_menu_modal.hide(),n.main_menu_modal.remove(),s.fromTemplateUrl("templates/contact.html",{scope:n,hardwareBackButtonClose:!0,animation:"none"}).then(function(e){n.item_modal=e,n.item_modal.show()})},n.openContactSuccess=function(){n.item_modal.hide(),n.item_modal.remove(),s.fromTemplateUrl("templates/contact_success.html",{scope:n,hardwareBackButtonClose:!0,animation:"none"}).then(function(e){n.item_modal=e,n.item_modal.show()})},n.send_contact_request=function(){var e=document.getElementById("contact_nombre"),t=document.getElementById("contact_email"),o=document.getElementById("contact_select"),a=document.getElementById("contact_mensaje"),r=document.getElementById("contact_error_label");if(B.check_field(e,"notNull",r)&&B.check_field(t,"notNull",r)&&B.check_field(t,"email",r)&&B.check_field(o,"select",r)&&B.check_field(a,"notNull",r))_.send_contact(e.value,t.value,o[o.selectedIndex].value,a.value).then(function(e){B.http_data_response_is_successful_ajax(e)&&n.openContactSuccess()});else{var i=document.getElementById("contact_error");i.className="contact_error"}},n.openMainMenuFromItem=function(){n.item_modal.hide(),n.item_modal.remove(),s.fromTemplateUrl("templates/main_menu.html",{scope:n,hardwareBackButtonClose:!0,animation:"none"}).then(function(e){n.main_menu_modal=e,n.main_menu_modal.show()})},n.openMainMenu=function(){s.fromTemplateUrl("templates/main_menu.html",{scope:n,hardwareBackButtonClose:!0,animation:"none"}).then(function(e){n.main_menu_modal=e,n.main_menu_modal.show()})},n.closeMainMenu=function(){n.main_menu_modal.hide(),n.main_menu_modal.remove()},n.getRoad=function(e,t,o,a){d.getMap().then(function(r){r.closePopup();var i=L.icon({iconUrl:"./img/me.svg",iconSize:[29,34],iconAnchor:[8,8],popupAnchor:[0,-8]});null!=n.now_marker&&r.removeLayer(n.now_marker),n.now_marker=L.marker([e,t],{icon:i}).addTo(r),null!=n.lastRoad&&(n.lastRoad.spliceWaypoints(0,2),r.removeControl(n.lastRoad),n.lastRoad=null),n.lastRoad=L.Routing.control({waypoints:[L.latLng(e,t),L.latLng(o,a)],language:"es",router:L.Routing.mapbox("pk.eyJ1IjoibGl0b3hwZXJhbG9jYSIsImEiOiJjajNhdHUzbTMwMTQwMnFwaGRidmc2emZ5In0.dED4D4_LBjRc-sGa5zt5Yg"),createMarker:function(e,n,t){return null},lineOptions:{styles:[{color:"#4c4c4c",opacity:1,weight:5}]},fitSelectedRoutes:!1}).addTo(r),o-=8e-4,v.centerMapOnCoords(o,a,17)})},n.model=[],n.externalModel=[],n.selectedItems=[],n.preselectedSearchItems=[],n.clickedValueModel="",n.removedValueModel="",n.itemsRemoved=function(e){n.removedValueModel=e},n.user_options=function(){var e=document.getElementById("user-options-menu");if("block"==e.style.display)e.style.display="none";else{var t=k.name;null==t?n.show_anonymous_menu():n.show_user_menu()}},n.show_anonymous_menu=function(){var e=document.getElementById("user-options-menu"),t="<div id='auth_options'><div class='nonauth-link' ng-click='show_login_modal()'>Iniciar sesión</div>";t+="<div class='nonauth-link' ng-click='show_sign_up_modal()'>Registrarse</div></div>",e.innerHTML=t,i(e)(n),e.style.height="120px",e.style.width="150px",e.style.display="block"},n.show_user_menu=function(){var e=document.getElementById("user-options-menu"),t=k.name+"<div id='auth_options'><div class='user-logged-link' ng-click='show_edit_profile_modal()'>Mi perfil</div>";t+="<div class='user-logged-link' ng-click='list_offline_reports_menu()'>Reportes pendientes</div>",t+="<div class='user-logged-link' ng-click='sign_out()'>Cerrar sesión</div></div>",e.innerHTML=t,i(e)(n),e.style.height="160px",e.style.width="200px",e.style.display="block"},n.create_field_array=function(e,n,t){var o=new Array;return o.name=e,o.type=n,o.value=t,o},n.sign_in=function(e,t){if(x.isOnline()){document.getElementById("spinner-inside-modal").style.display="block";var o=new Array;o.push(n.create_field_array("Email","email",e)),o.push(n.create_field_array("Contraseña","notNull",t)),B.check_fields(o,"error_container")?b.sign_in(t,e).then(function(o){B.http_response_is_successful(o,"error_container")?(k.save_user_data(o.data.name,e,t,o.data.identity_document,o.data.phone,o.data.picture_url),C.saveUser(o.data.name,e,t,o.data.identity_document,o.data.phone,o.data.picture_url),document.getElementById("spinner-inside-modal").style.display="none",n.close_login_modal(),n.set_user_picture(1)):document.getElementById("spinner-inside-modal").style.display="none"},function(e){document.getElementById("spinner-inside-modal").style.display="none",B.show_error_message("error_container",e.statusText)}):document.getElementById("spinner-inside-modal").style.display="none"}else $.show_alert("Sin conexión a internet","Para iniciar sesión debe estar conectado a internet")},n.sign_in_ajax=function(e,t){b.sign_in(t,e).then(function(o){return B.http_response_is_successful_ajax(o)?(k.save_user_data(o.data.name,e,t,o.data.identity_document,o.data.phone,o.data.picture_url),C.saveUser(o.data.name,e,t,o.data.identity_document,o.data.phone,o.data.picture_url),n.set_user_picture(1),1):0},function(e){return 0})},n.sign_out=function(){k.erase_user_data(),C.eraseUser(),document.getElementById("spinner").style.display="none",n.set_user_picture(0),document.getElementById("user-options-menu").style.display="none"},n.check_user_logged=function(){return!1},n.set_offline_user=function(){},n.set_user_picture=function(e){},n.search_street=function(){n.hide_special_divs(),document.getElementById("search-textbox").parentNode.click()},n.find_me=function(){n.set_active_option("button-find-me"),n.hide_special_divs();var e={timeout:3e3,enableHighAccuracy:!0};r.getCurrentPosition(e).then(function(e){var t=18,o=L.icon({iconUrl:"./img/me.svg",iconSize:[29,34],iconAnchor:[8,8],popupAnchor:[0,-8]});d.getMap().then(function(a){null!=n.now_marker&&a.removeLayer(n.now_marker),n.now_marker=L.marker([e.coords.latitude,e.coords.longitude],{icon:o}).addTo(a),v.centerMapOnCoords(e.coords.latitude,e.coords.longitude,t)})},function(e){})}}]),pmb_im.controllers.controller("PMBCtrl",["$scope","$state","leafletData","PMBService","ContainerService","locationAPI","MapService","_","Loader","LocationsService",function(e,n,t,o,a,r,i,l,c,u){e.reportButton={text:"Reportar",state:"unConfirmed"},e.$on("$ionicView.afterEnter",function(){document.getElementById("spinner").style.display="none";t.getMap();""!=u.initial_lat?i.centerMapOnCoords(u.initial_lat,u.initial_lng,18):i.centerMapOnCoords(-34.901113,-56.164531,16)}),e.searchMode="calle.lugar",e.location={calle:null,esquina:null,lugar:null};var s={tipo:null,pathParams:[]};e.$on("$stateChangeSuccess",function(){e.ionAutocompleteElement=angular.element(document.getElementsByClassName("ion-autocomplete")),e.ionAutocompleteElement.bind("touchend click focus",e.onClick)}),e.initReport=function(){var n,o=L.icon({iconUrl:"img/pin@x2.png",iconSize:[70,110],iconAnchor:[-18,55]});"unConfirmed"==e.reportButton.state&&(e.reportButton.text="Confirmar",e.reportButton.state="about2Confirm",t.getMap().then(function(t){n=new L.marker(t.getCenter(),{icon:o,clickable:!1}).addTo(t),ReportService._new(),ReportService.current.setLatLng(t.getCenter()),e.ionAutocompleteElement=angular.element(document.getElementsByClassName("ion-autocomplete")),e.ionAutocompleteElement.bind("touchend click focus",e.onClick)}))},e.isNumeric=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},e.searchLocation=function(n){var t;if(n&&n.length>=2){if("calle.lugar"==e.searchMode)t=r.searchLocationByStr(n);else{if(e.isNumeric(n.trim())){var o=[],a={descTipo:"NUMERO",nombre:n,codigo:n};return o[0]=a,o}t=r.searchEsquinaByStr({calle:e.selectedItem.codigo,esquina:n})}return t}return[]},e.onClick=function(){e.ionAutocompleteElement.controller("ionAutocomplete").showModal()},e.itemsClicked=function(n){if(e.clickedValueModel=n,e.selectedItem=n.item,e.ionAutocompleteElementSearch=angular.element(document.getElementsByClassName("ion-autocomplete-search")),"esquina.numero"==e.searchMode){s.pathParams=[],e.location.esquina=e.selectedItem,s.pathParams.push(e.location.calle.codigo),s.pathParams.push(e.location.esquina.codigo);var t="";e.isNumeric(e.selectedItem.nombre)?s.tipo="DIRECCION":(s.tipo="ESQUINA",t="esquina"),r.getLocationGeom(s).then(function(n){i.goToPlace(angular.extend({nombre:e.location.calle.nombre+" "+t+" "+e.selectedItem.nombre,geom:n.geoJSON},n),e),e.searchMode="calle.lugar",e.ionAutocompleteElementSearch.attr("placeholder","Buscar calle"),e.externalModel=[]})}else e.location.calle=e.selectedItem,e.searchMode="esquina.numero",e.ionAutocompleteElementSearch.attr("placeholder","Esquina o número"),e.ionAutocompleteElement.controller("ionAutocomplete").showModal(),e.preselectedSearchItems=[]},e.itemsCanceled=function(n){var t=parseInt(n.searchQuery);Number.isInteger(t)&&(s.tipo="DIRECCION",s.pathParams.push(e.location.calle.codigo),s.pathParams.push(t),r.getLocationGeom(s).then(function(n){i.goToPlace(angular.extend({nombre:e.selectedItem.nombre+" "+t},n),e),e.searchMode="calle.lugar"},function(n){c.showAlert("Error","No existe esa direccion").then(function(n){e.ionAutocompleteElement.controller("ionAutocomplete").showModal()})}))}}]),pmb_im.services.factory("AuthService",["$http","$cordovaFileTransfer","ConfigService",function(e,n,t){var o=t.baseURL+"/auth/ajax/";return{sign_in:function(n,t){return e.get(o+"sign_in",{params:{password_sign_in:n,email:t}})},sign_out:function(n,t){return e.get(o+"sign_out",{params:{password_sign_in:n,email:t}})},create_user:function(n,t,a,r,i){return e.get(o+"create_user",{params:{form_email:n,name:t,password_register:a,identity_document:r,phone:i}})},change_password:function(n,t,a,r,i){return e.get(o+"create_user",{params:{login_email:n,name:t,password_register:a,identity_document:r,phone:i}})},edit_user:function(t,a,r,i,l,c,u){if(null!=u&&""!=u){var s={fileKey:"photo",params:{email:t,password_sign_in:a,name:r,new_email:i,identity_document:l,phone:c}},m=!0;return n.upload(o+"edit_user",u,s,m)}return e.get(o+"edit_user",{params:{email:t,password_sign_in:a,name:r,new_email:i,identity_document:l,phone:c}})}}}]),pmb_im.services.factory("CategoriesService",["$http","LocationsService","ConfigService","DBService",function(e,n,t,o){var a=t.baseURL+"/report/new/ajax";return{all:function(){return e.get(a,{params:{lat:n.new_report_lat,lon:n.new_report_lng,format:"json"}})},getCachedCategories:function(){return o.getCategories()}}}]),pmb_im.services.factory("ConfigService",["$http",function(e){var n={};return n.baseURL="http://dondereciclo.development.datauy.org",n}]),pmb_im.services.factory("ConnectivityService",["$cordovaNetwork",function(e){return{isOnline:function(){return ionic.Platform.isWebView()?e.isOnline():navigator.onLine},isOffline:function(){return ionic.Platform.isWebView()?!e.isOnline():!navigator.onLine}}}]),pmb_im.services.factory("ContactService",["$http","ConfigService",function(e,n){var t=n.baseURL+"/datauy/contact/";return{send_contact:function(n,o,a,r){return e.get(t+n+"/"+o+"/"+a+"/"+r,{params:{}})}}}]),pmb_im.services.factory("ContainerService",["$http","leafletData","ConfigService",function(e,n,t){function o(e){angular.extend(this,e)}var a=t.baseURL+"/report/ajax/";return o.getById=function(n){var t=a+n;return e.get(t).then(function(e){return e})},o._default=function(){var e={lat:0,lon:0,title:null,detail:null,may_show_name:1,category:null,phone:null,pc:"",file:null,name:null,email:null,submit_sign_in:1,password_sign_in:null,remember_me:1};return new o(e)},o._all=[],o.current={},o._new=function(){return o._default()},o.build=function(e){return new o(e)},o.prototype.setLatLng=function(e,n){this.lat=e,this.lon=n},o}]),pmb_im.services.factory("DBService",["$q",function(e){function n(e,n,t,o,r,i){var l={_id:"user-logged",name:e,email:n,password:t,identity_document:o,phone:r,picture_url:i};a().then(function(e){return l._rev=e._rev,f.put(l)})["catch"](function(e){return f.put(l)})}function t(){var e={_id:"done-walkthrough",status:"done"};return f.put(e)}function o(){return f.get("done-walkthrough")}function a(){return f.get("user-logged")}function r(){f.get("user-logged").then(function(e){return f.remove(e)})}function i(){return f=new PouchDB("pmb_local_db")}function l(e){var n=new Date,t="report_"+n.getFullYear()+(n.getMonth()+1)+n.getDate()+n.getMilliseconds();return e._id=t,f.put(e)}function c(e){return f.put(e)}function u(){return f.get("categories-list")}function s(e){u().then(function(n){return e._rev=n._rev,f.put(e)})["catch"](function(n){return e._id="categories-list",f.put(e)})}function m(e){return f.get(e)}function d(){return f.allDocs({include_docs:!0,attachments:!1,startkey:"report_",endkey:"report_￿"})}function p(e){f.get(e).then(function(e){return f.remove(e)})}function _(e){return f.remove(e)}var f;return{initDB:i,saveUser:n,getUser:a,eraseUser:r,saveReport:l,getReport:m,getAllReports:d,updateReport:c,deleteReport:p,deleteGivenReport:_,getCategories:u,saveCategories:s,getDoneWalkthrough:o,saveDoneWalkthrough:t}}]),pmb_im.services.factory("ErrorService",["$http","$ionicPopup","ValidationService",function(e,n,t){return{http_response_is_successful:function(e,n){var t=document.getElementById(n);return 0==e.data.result?(t.innerHTML="<h3>"+e.data.message+"</h3>",t.style.display="block",!1):(t.style.display="none",!0)},http_response_is_successful_ajax:function(e){return 0!=e.data.result},http_response_is_successful_popup:function(e){if(0==e.data.result){var t=n.alert({title:"Error",template:e.data.message});return t.then(function(e){return!1}),!1}return!0},http_data_response_is_successful:function(e,n){var t=document.getElementById(n);return 0==e.result?(t.innerHTML="<h3>"+e.message+"</h3>",t.style.display="block",!1):(t.style.display="none",!0)},http_data_response_is_successful_ajax:function(e){return 0!=e.result},show_error_message:function(e,n){var t=document.getElementById(e);return t.innerHTML="<h3>"+n+"</h3>",t.style.display="block",!1},show_error_message_popup:function(e){var t=n.alert({title:"Error",template:e});return t.then(function(e){return!1}),!1},check_fields:function(e,n){var o="";if(e.forEach(function(e){"notNull"==e.type&&(t.validate_not_empty(e.value)||(o=o+'<h3>- El campo "'+e.name+'" no puede estar vacío.</h3>')),"email"==e.type&&(t.validate_email(e.value)||(o=o+'<h3>- El campo "'+e.name+'" no es una dirección de correo válida.</h3>')),"iddoc_uy"==e.type&&(t.validate_iddoc_uy(e.value)||(o=o+'<h3>- El campo "'+e.name+'" no es una cédula uruguaya válida.</h3>')),"two_words"==e.type&&(t.validate_two_words(e.value)||(o=o+'<h3>- El campo "'+e.name+'" debe contener al menos dos palabras.</h3>'))}),""==o)return!0;var a=document.getElementById(n);return a.innerHTML=o,a.style.display="block",!1},check_field:function(e,n,o){var a=!0;return"notNull"==n&&(t.validate_not_empty(e.value)||(a=!1,o.innerHTML="Debes completar<br/>el campo "+e.name)),"email"==n&&(t.validate_email(e.value)||(a=!1,o.innerHTML="El campo "+e.name+"<br/>no es un email válido")),"iddoc_uy"==n&&(t.validate_iddoc_uy(e.value)||(a=!1)),"two_words"==n&&(t.validate_two_words(e.value)||(a=!1)),"textarea"==n&&(t.validate_not_empty(e.innerHTML)||(a=!1,o.innerHTML="Debes completar<br/>el campo "+e.name)),"select"==n&&(t.validate_not_minusone(e[e.selectedIndex].value)||(a=!1,o.innerHTML="Debes elegir valor<br/>para el campo "+e.name)),a?e.style.borderColor="#979797":e.style.borderColor="red",a}}}]),pmb_im.services.factory("FaqService",["$http","ConfigService",function(e,n){var t=n.baseURL+"/faq";return{all:function(){return e.get(t,{params:{ajax:"1"}})}}}]),pmb_im.services.factory("Loader",["$ionicLoading","$timeout","$ionicPopup",function(e,n,t){var o={showLoading:function(n){n=n||"Loading...",e.show({template:n})},hideLoading:function(){e.hide()},toggleLoadingWithMessage:function(e,t){var o=this;o.showLoading(e),n(function(){o.hideLoading()},t||3e3)},confirmPopup:function(e,n){var o=t.confirm({title:e,template:n});return o},showAlert:function(e,n){var o=t.alert({title:e,template:n});return o}};return o}]),pmb_im.services.factory("LocationsService",[function(){var e={};return e.initial_lat="",e.initial_lng="",e.new_report_lat="",e.new_report_lng="",e.save_initial_position=function(n){e.initial_lat=n.coords.latitude,e.initial_lng=n.coords.longitude},e.save_new_report_position=function(n,t){e.new_report_lat=n,e.new_report_lng=t},e.savedLocations=[],e}]),pmb_im.services.factory("MapService",["leafletData","$compile",function(e,n){proj4.defs("EPSG:32721","+proj=utm +zone=21 +south +ellps=WGS84 +datum=WGS84 +units=m +no_defs");var t={};return t.goToPlace=function(n,t){var o={properties:{nombre:n.nombre},crs:{type:"name",properties:{name:"urn:ogc:def:crs:EPSG::32721"}}};o=angular.extend(o,n.geom),e.getMap().then(function(e){var n;L.Proj.geoJson(o,{pointToLayer:function(e,t){return n=t,L.marker(t)}});e.setView(n,18)})},t.centerMapOnCoords=function(n,t,o){e.getMap().then(function(e){e.setView(new L.LatLng(n,t),o)})},t}]),pmb_im.services.factory("NewsService",["$http","ConfigService",function(e,n){var t=n.baseURL+"/datauy/news";return{all:function(){return e.get(t,{params:{}})}}}]),pmb_im.services.factory("PMBService",["$http","leafletData","$cordovaFileTransfer","ConfigService",function(e,n,t,o){var a=o.baseURL,r={report:function(n){if(n.file){var o={fileKey:"photo",fileName:"image.jpeg",chunkedMode:!1,mimeType:"image/jpeg",params:n};o.headers={Connection:"Close"};var r=!0;return t.upload(a+"/report/new/mobile",n.file,o,r)}return e.get(a+"/report/new/mobile",{params:n})},subscribe:function(n,t){return e.get(a+"/alert/subscribe_ajax",{params:{rznvy:n,id:t,type:"updates"}})},abuse:function(n,t,o,r,i){return e.get(a+"/contact/submit_ajax",{params:{em:n,id:t,name:o,subject:r,message:i}})},hide:function(n){var t="/report/delete_ajax/"+n;return e.get(a+t,{params:{}})},comment:function(n,t,o,r,i,l,c){return e.get(a+"/report/update_ajax",{params:{submit_update:1,id:n,may_show_name:i,add_alert:l,fixed:c,update:t,name:o,form_rznvy:r}})}};return r}]),pmb_im.services.factory("PopUpService",["$ionicPopup","ValidationService",function(e,n){return{show_alert:function(n,t){var o=e.alert({title:n,template:t});return o.then(function(e){return!0}),!0},confirmPopup:function(n,t){var o=e.confirm({title:n,template:t});return o},askForOneValuePopUp:function(t,o,a,r,i){$scope=t;var l=e.show({template:r+': <input type="text" id="one_value_popup"><div id="error_container_inside"></div>',title:o,subTitle:a,scope:$scope,buttons:[{text:"Cancelar"},{text:"<b>Enviar</b>",type:"button-positive",onTap:function(e){var t="",o=document.getElementById("one_value_popup").value;if("notNull"==i&&(n.validate_not_empty(o)||(t=t+'<h3>- El campo "'+r+'" no puede estar vacío.</h3>')),"email"==i&&(n.validate_email(o)||(t=t+'<h3>- El campo "'+r+'" no es una dirección de correo válida.</h3>')),"iddoc_uy"==i&&(n.validate_iddoc_uy(o)||(t=t+'<h3>- El campo "'+r+'" no es una cédula uruguaya válida.</h3>')),"two_words"==i&&(n.validate_two_words(o)||(t=t+'<h3>- El campo "'+r+'" debe contener al menos dos palabras.</h3>')),""==t)return o;var a=document.getElementById("error_container_inside");a.innerHTML=t,a.style.display="block",e.preventDefault()}}]});return l}}}]),pmb_im.services.factory("locationAPI",["$http","$q","ApiImEndpoint","ApiDataEndpoint",function(e,n,t,o){var a="ubicacionesRestProd",r={};return r.searchLocationByStr=function(n){return e.get(t.url+"/"+a+"/calles",{method:"GET",params:{nombre:n}})},r.searchEsquinaByStr=function(n){return e.get(t.url+"/"+a+"/cruces/"+n.calle+"/",{params:{nombre:n.esquina}})},r.getLocationGeom=function(n){for(var o=t.url+"/"+a+r.getParamPathByTipo(n.tipo),i=0;i<n.pathParams.length;i++)o+="/"+n.pathParams[i];return e.get(o).then(function(e){return e.data})},r.getParamPathByTipo=function(e){var n={ESQUINA:"/esquina",DIRECCION:"/direccion"};return n[e]},r}]),pmb_im.services.factory("_",[function(){return window._}]),pmb_im.services.factory("UserService",["$http",function(e){var n={};return n.name=null,n.email=null,n.password=null,n.identity_document=null,n.phone="",n.picture_url="url(./img/icon-user-anonymous.png)",n.save_user_data=function(e,t,o,a,r,i){n.name=e,n.email=t,n.password=o,n.identity_document=a,n.phone=r,n.picture_url=i},n.erase_user_data=function(){n.name=null,n.email=null,n.password=null,n.identity_document=null,n.phone=null,n.picture_url=null},n.get_user_data=function(){},n.add_photo=function(e){n.picture_url=e},n.isLogged=function(){return null!=n.name&&""!=n.name},n}]),pmb_im.services.factory("ValidationService",["$http","$ionicPopup",function(e,n){return{validate_not_minusone:function(e){return e!=-1},validate_not_empty:function(e){return null!=e&&"undefined"!=e&&""!=e},validate_two_words:function(e){if(null!=e&&"undefined"!=e&&""!=e){var n=e.split(" ").filter(function(e){return""!==e});return n.length>1}return!1},validate_email:function(e){if(null!=e&&"undefined"!=e&&""!=e){var n=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return n.test(e)}return!1},validate_iddoc_uy:function(e){if(null!=e&&"undefined"!=e&&""!=e){e=e.replace(/\D/g,"");var n=e[e.length-1],t=0,o=0;if(e.length<=6)for(o=e.length;o<7;o++)e="0"+e;for(o=0;o<7;o++)t+=parseInt("2987634"[o])*parseInt(e[o])%10;var a;return a=t%10===0?0:10-t%10,n==a}return!1}}}]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImNvbnRyb2xsZXJzL2F1dG9jb21wbHRlLmN0cmwuanMiLCJjb250cm9sbGVycy9pbnRyby5jdHJsLmpzIiwiY29udHJvbGxlcnMvbWFwLmN0cmwuanMiLCJjb250cm9sbGVycy9wbWIuY3RybC5qcyIsInNlcnZpY2VzL2F1dGguc2VydmljZXMuanMiLCJzZXJ2aWNlcy9jYXRlZ29yaWVzLnNlcnZpY2UuanMiLCJzZXJ2aWNlcy9jb25maWcuc2VydmljZXMuanMiLCJzZXJ2aWNlcy9jb25uZWN0aXZpdHkuc2VydmljZXMuanMiLCJzZXJ2aWNlcy9jb250YWN0LnNlcnZpY2VzLmpzIiwic2VydmljZXMvY29udGFpbmVyLnNlcnZpY2UuanMiLCJzZXJ2aWNlcy9kYi5zZXJ2aWNlcy5qcyIsInNlcnZpY2VzL2Vycm9yLnNlcnZpY2VzLmpzIiwic2VydmljZXMvZmFxLnNlcnZpY2UuanMiLCJzZXJ2aWNlcy9sb2FkZXIuc2VydmljZXMuanMiLCJzZXJ2aWNlcy9sb2NhdGlvbnNTZXJ2aWNlLmpzIiwic2VydmljZXMvbWFwLnNlcnZpY2VzLmpzIiwic2VydmljZXMvbmV3cy5zZXJ2aWNlLmpzIiwic2VydmljZXMvcG1iLnNlcnZpY2UuanMiLCJzZXJ2aWNlcy9wb3B1cC5zZXJ2aWNlcy5qcyIsInNlcnZpY2VzL3ViaWNhY2lvbmVzLnNlcnZpY2VzLmpzIiwic2VydmljZXMvdW5kZXJzY29yZS5zZXJ2aWNlLmpzIiwic2VydmljZXMvdXNlci5zZXJ2aWNlcy5qcyIsInNlcnZpY2VzL3ZhbGlkYXRpb24uc2VydmljZXMuanMiXSwibmFtZXMiOlsicG1iX2ltIiwiY29udHJvbGxlcnMiLCJhbmd1bGFyIiwibW9kdWxlIiwic2VydmljZXMiLCJhcHAiLCJjb25zdGFudCIsInVybCIsInJ1biIsIiRpb25pY1BsYXRmb3JtIiwiJHJvb3RTY29wZSIsIiRjb3Jkb3ZhS2V5Ym9hcmQiLCJWRVJTSU9OIiwid2luZG93IiwicmVhZHkiLCJjb3Jkb3ZhIiwicGx1Z2lucyIsIktleWJvYXJkIiwiaGlkZUtleWJvYXJkQWNjZXNzb3J5QmFyIiwiaW9uaWMiLCJQbGF0Zm9ybSIsImlzRnVsbFNjcmVlbiIsIlN0YXR1c0JhciIsInN0eWxlRGVmYXVsdCIsImNvbmZpZyIsIiRzdGF0ZVByb3ZpZGVyIiwiJHVybFJvdXRlclByb3ZpZGVyIiwiJGNvbXBpbGVQcm92aWRlciIsIiRpb25pY0NvbmZpZ1Byb3ZpZGVyIiwiZGVidWdJbmZvRW5hYmxlZCIsInN0YXRlIiwiY2FjaGUiLCJhYnN0cmFjdCIsInRlbXBsYXRlVXJsIiwiY29udHJvbGxlciIsInZpZXdzIiwibWVudUNvbnRlbnQiLCJvdGhlcndpc2UiLCIkc2NvcGUiLCJsZWFmbGV0RGF0YSIsImxvY2F0aW9uQVBJIiwiaW9uQXV0b2NvbXBsZXRlRWxlbWVudCIsImVsZW1lbnQiLCJkb2N1bWVudCIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJiaW5kIiwib25DbGljayIsInNob3dNb2RhbCIsInNlYXJjaExvY2F0aW9uIiwicXVlcnkiLCJzZWFyY2hMb2NhdGlvbkJ5U3RyIiwiJHN0YXRlIiwiJGNvcmRvdmFHZW9sb2NhdGlvbiIsIiRzdGF0ZVBhcmFtcyIsIiRpb25pY1BvcHVwIiwiTG9jYXRpb25zU2VydmljZSIsIkRCU2VydmljZSIsImRiIiwiaW5pdERCIiwiaW5mbyIsInRoZW4iLCJjb25zb2xlIiwibG9nIiwiZ2VvbG9jYXRlIiwibG9jYXRlZCIsInBvc09wdGlvbnMiLCJkZXZpY2UiLCJ0aW1lb3V0IiwiZW5hYmxlSGlnaEFjY3VyYWN5IiwibWF4aW11bUFnZSIsImdldEN1cnJlbnRQb3NpdGlvbiIsInBvc2l0aW9uIiwic2F2ZV9pbml0aWFsX3Bvc2l0aW9uIiwiZ28iLCJlcnIiLCIkb24iLCIkc2NlIiwiXyIsIiRjb3Jkb3ZhRmlsZSIsIiRjb21waWxlIiwiJGlvbmljTW9kYWwiLCJDb25maWdTZXJ2aWNlIiwiQ29udGFjdFNlcnZpY2UiLCJQTUJTZXJ2aWNlIiwiQ29udGFpbmVyU2VydmljZSIsIk1hcFNlcnZpY2UiLCJGYXFTZXJ2aWNlIiwiQ2F0ZWdvcmllc1NlcnZpY2UiLCJBdXRoU2VydmljZSIsIlVzZXJTZXJ2aWNlIiwiJHRpbWVvdXQiLCIkbG9jYXRpb24iLCJFcnJvclNlcnZpY2UiLCIkaW9uaWNTbGlkZUJveERlbGVnYXRlIiwiJGlvbmljU2Nyb2xsRGVsZWdhdGUiLCJQb3BVcFNlcnZpY2UiLCJDb25uZWN0aXZpdHlTZXJ2aWNlIiwiJGNvcmRvdmFJbkFwcEJyb3dzZXIiLCIkaW50ZXJ2YWwiLCJOZXdzU2VydmljZSIsImZlYXR1cmVSZXBvcnRzIiwiYmFzZVVSTCIsInVzZXJfY2FjaGVkX2ltYWdlIiwicmVwb3J0X2RldGFpbF9pZCIsIm9uZV92YWx1ZV9wb3B1cCIsImFidXNlX25hbWUiLCJhYnVzZV9lbWFpbCIsImFidXNlX3N1YmplY3QiLCJhYnVzZV9tZXNzYWdlIiwiYWN0dWFsU2xpZGVySW5kZXgiLCJzZXRfbmV0d29ya19ldmVudHMiLCJmaW5kX21lIiwid2Fsa3Rocm91Z2giLCJvbkhhcmR3YXJlQmFja0J1dHRvbiIsImUiLCJzdG9wUHJvcGFnYXRpb24iLCJoaWRlX3NwZWNpYWxfZGl2cyIsIm9wZW5XZWJzaXRlIiwib3B0aW9ucyIsImxvY2F0aW9uIiwiY2xlYXJjYWNoZSIsInRvb2xiYXIiLCJvcGVuIiwiZXZlbnQiLCJjcmVhdGVfb25saW5lX21hcCIsImFkZFBpbnNMYXllciIsIm1hcCIsImNlbnRlciIsImxhdCIsImxuZyIsInpvb20iLCJkZWZhdWx0cyIsInRpbGVMYXllciIsIm1pblpvb20iLCJtYXhab29tIiwiem9vbUNvbnRyb2xQb3NpdGlvbiIsIm1hcmtlcnMiLCJldmVudHMiLCJlbmFibGUiLCJsb2dpYyIsImNsaWNrT25NZW51SWNvbiIsImxpbmVzbWVudSIsImdldEVsZW1lbnRCeUlkIiwiZXhwYW5kZWRfbWVudSIsInRvZ2dsZUNsYXNzT25FbGVtZW50IiwiY2xhc3NOYW1lIiwiY2xhc3NTdHJpbmciLCJuYW1lSW5kZXgiLCJpbmRleE9mIiwic3Vic3RyIiwibGVuZ3RoIiwibmV4dCIsImN1cnJlbnRJbmRleCIsInByZXZpb3VzIiwic2Nyb2xsTWUiLCJhbmNob3JfaWQiLCJoYXNoIiwiaGFuZGxlIiwiJGdldEJ5SGFuZGxlIiwiYW5jaG9yU2Nyb2xsIiwiZ29UbyIsImlkIiwic2V0X2FjdGl2ZV9vcHRpb24iLCJidXR0b25pZCIsImNvbnRhaW5lcl9kZXRhaWxzIiwibmF2YmFjayIsIm5hdmlnYXRpb25fbWVudSIsImFkZE1hcENvbnRyb2xzIiwic3RhcnRSZXBvcnRGcm9tQ3Jvc3NoYWlycyIsImpzb25MYXllciIsIm9uRWFjaEZlYXR1cmUiLCJmZWF0dXJlIiwibGF5ZXIiLCJwcm9wZXJ0aWVzIiwib24iLCJzZWxlY3RlZF9jb250YWluZXIiLCJidWlsZCIsInRhcmdldCIsInNldExhdExuZyIsImdlb21ldHJ5IiwiY29vcmRpbmF0ZXMiLCJjb250YWluZXJEZXRhaWxzIiwiYmFja01lbnUiLCJtZW51IiwiZ29Ub0NlbnRlciIsImxvbiIsImwiLCJMIiwiTGF5ZXJKU09OIiwibG9jQXNHZW9KU09OIiwibWluU2hpZnQiLCJwcmVjaXNpb24iLCJnZXRNYXAiLCJyZW1vdmVMYXllciIsImFkZExheWVyIiwibGFzdE1hcmtlckxheWVyIiwicmVwb3J0cyIsImRhdGEiLCJmZWF0dXJlcyIsImVhY2hMYXllciIsIl9sYXllciIsImljb24iLCJwaW5fdXJsIiwibWFya2VySWNvbiIsImljb25VcmwiLCJpY29uU2l6ZSIsImljb25BbmNob3IiLCJwb3B1cEFuY2hvciIsInNldEljb24iLCJ1bmRlZmluZWQiLCJHSUQiLCJsb25nVG8iLCJsYXRUbyIsImxhdEZyb20iLCJjb29yZHMiLCJsYXRpdHVkZSIsImxvbmdGcm9tIiwibG9uZ2l0dWRlIiwiZ2V0Um9hZCIsImNlbnRlck1hcE9uQ29vcmRzIiwibGFzdFJvYWQiLCJuYXZfYmFjayIsInNwbGljZVdheXBvaW50cyIsInJlbW92ZUNvbnRyb2wiLCJ3YWxrdGhyb3VnaF9tb2RhbCIsImRvbmVXYWxrdGhyb3VnaCIsImdldERvbmVXYWxrdGhyb3VnaCIsImRvYyIsInN0YXR1cyIsIm9wZW5XYWxrVGhyb3VnaE1vZGFsIiwid2Fsa3Rocm91Z2hGcm9tTWVudSIsImNsb3NlTWFpbk1lbnUiLCJmcm9tVGVtcGxhdGVVcmwiLCJzY29wZSIsImhhcmR3YXJlQmFja0J1dHRvbkNsb3NlIiwiYW5pbWF0aW9uIiwibW9kYWwiLCJzaG93IiwiZmluaXNoV2Fsa3Rocm91Z2giLCJoaWRlIiwicmVtb3ZlIiwic2F2ZURvbmVXYWxrdGhyb3VnaCIsInN1YmplY3QiLCJ0b2dnbGVHcm91cCIsImdyb3VwIiwiaXNHcm91cFNob3duIiwic2hvd25Hcm91cCIsIm9wZW5Qcm9ncmFtYXMiLCJtYWluX21lbnVfbW9kYWwiLCJpdGVtX21vZGFsIiwiY2xpY2tUaXBvUmVzaWR1byIsIm9wZW5DbGFzaWZpY2FyIiwib3BlbkFib3V0UHJveWVjdCIsIm5ld3MiLCJnb3RvTGluayIsIm9wZW5OZXdzIiwic2hvd0RpdiIsImFsbCIsInJlc3BvbnNlIiwiaXRlbXMiLCJoaWRlRGl2IiwiZGl2SWQiLCJkaXYiLCJjbGFzc0xpc3QiLCJkaXZDbGFzcyIsIm9wZW5Db250YWN0Iiwib3BlbkNvbnRhY3RTdWNjZXNzIiwic2VuZF9jb250YWN0X3JlcXVlc3QiLCJuYW1lIiwiZW1haWwiLCJtZXNzYWdlIiwiZXJyb3JMYWJlbCIsImNoZWNrX2ZpZWxkIiwic2VuZF9jb250YWN0IiwidmFsdWUiLCJzZWxlY3RlZEluZGV4IiwiaHR0cF9kYXRhX3Jlc3BvbnNlX2lzX3N1Y2Nlc3NmdWxfYWpheCIsImVycm9yQ29udGFpbmVyIiwib3Blbk1haW5NZW51RnJvbUl0ZW0iLCJvcGVuTWFpbk1lbnUiLCJMYXRGcm9tIiwiTG9uZ0Zyb20iLCJjbG9zZVBvcHVwIiwibm93X21hcmtlciIsIm1hcmtlciIsImFkZFRvIiwiUm91dGluZyIsImNvbnRyb2wiLCJ3YXlwb2ludHMiLCJsYXRMbmciLCJsYW5ndWFnZSIsInJvdXRlciIsIm1hcGJveCIsImNyZWF0ZU1hcmtlciIsImkiLCJzdGFydCIsIm4iLCJsaW5lT3B0aW9ucyIsInN0eWxlcyIsImNvbG9yIiwib3BhY2l0eSIsIndlaWdodCIsImZpdFNlbGVjdGVkUm91dGVzIiwibW9kZWwiLCJleHRlcm5hbE1vZGVsIiwic2VsZWN0ZWRJdGVtcyIsInByZXNlbGVjdGVkU2VhcmNoSXRlbXMiLCJjbGlja2VkVmFsdWVNb2RlbCIsInJlbW92ZWRWYWx1ZU1vZGVsIiwiaXRlbXNSZW1vdmVkIiwiY2FsbGJhY2siLCJ1c2VyX29wdGlvbnMiLCJzdHlsZSIsImRpc3BsYXkiLCJzaG93X2Fub255bW91c19tZW51Iiwic2hvd191c2VyX21lbnUiLCJodG1sIiwiaW5uZXJIVE1MIiwiaGVpZ2h0Iiwid2lkdGgiLCJjcmVhdGVfZmllbGRfYXJyYXkiLCJ0eXBlIiwiZmllbGQiLCJBcnJheSIsInNpZ25faW4iLCJwYXNzd29yZCIsImlzT25saW5lIiwiZmllbGRzIiwicHVzaCIsImNoZWNrX2ZpZWxkcyIsInJlc3AiLCJodHRwX3Jlc3BvbnNlX2lzX3N1Y2Nlc3NmdWwiLCJzYXZlX3VzZXJfZGF0YSIsImlkZW50aXR5X2RvY3VtZW50IiwicGhvbmUiLCJwaWN0dXJlX3VybCIsInNhdmVVc2VyIiwiY2xvc2VfbG9naW5fbW9kYWwiLCJzZXRfdXNlcl9waWN0dXJlIiwic2hvd19lcnJvcl9tZXNzYWdlIiwic3RhdHVzVGV4dCIsInNob3dfYWxlcnQiLCJzaWduX2luX2FqYXgiLCJodHRwX3Jlc3BvbnNlX2lzX3N1Y2Nlc3NmdWxfYWpheCIsInNpZ25fb3V0IiwiZXJhc2VfdXNlcl9kYXRhIiwiZXJhc2VVc2VyIiwiY2hlY2tfdXNlcl9sb2dnZWQiLCJzZXRfb2ZmbGluZV91c2VyIiwiaGFzUGhvdG8iLCJzZWFyY2hfc3RyZWV0IiwicGFyZW50Tm9kZSIsImNsaWNrIiwiTG9hZGVyIiwicmVwb3J0QnV0dG9uIiwidGV4dCIsImluaXRpYWxfbGF0IiwiaW5pdGlhbF9sbmciLCJzZWFyY2hNb2RlIiwiY2FsbGUiLCJlc3F1aW5hIiwibHVnYXIiLCJsb2NhdGlvbkdlb21QYXJhbXMiLCJ0aXBvIiwicGF0aFBhcmFtcyIsImluaXRSZXBvcnQiLCJfcGluIiwiX3Bpbkljb24iLCJnZXRDZW50ZXIiLCJjbGlja2FibGUiLCJSZXBvcnRTZXJ2aWNlIiwiX25ldyIsImN1cnJlbnQiLCJpc051bWVyaWMiLCJpc05hTiIsInBhcnNlRmxvYXQiLCJpc0Zpbml0ZSIsInByb21pc2VTZWFyY2giLCJ0cmltIiwiaXRlbSIsImRlc2NUaXBvIiwibm9tYnJlIiwiY29kaWdvIiwic2VhcmNoRXNxdWluYUJ5U3RyIiwic2VsZWN0ZWRJdGVtIiwiaXRlbXNDbGlja2VkIiwiaW9uQXV0b2NvbXBsZXRlRWxlbWVudFNlYXJjaCIsInN0cl90aXBvIiwiZ2V0TG9jYXRpb25HZW9tIiwicmVzdWx0IiwiZ29Ub1BsYWNlIiwiZXh0ZW5kIiwiZ2VvbSIsImdlb0pTT04iLCJhdHRyIiwiaXRlbXNDYW5jZWxlZCIsIl9pdGVtIiwibnVtUHVlcnRhIiwicGFyc2VJbnQiLCJzZWFyY2hRdWVyeSIsIk51bWJlciIsImlzSW50ZWdlciIsImVycm9yIiwic2hvd0FsZXJ0IiwicmVzIiwiZmFjdG9yeSIsIiRodHRwIiwiJGNvcmRvdmFGaWxlVHJhbnNmZXIiLCJnZXQiLCJwYXJhbXMiLCJwYXNzd29yZF9zaWduX2luIiwiY3JlYXRlX3VzZXIiLCJmdWxsbmFtZSIsImlkX2RvYyIsInVzZXJfcGhvbmUiLCJmb3JtX2VtYWlsIiwicGFzc3dvcmRfcmVnaXN0ZXIiLCJjaGFuZ2VfcGFzc3dvcmQiLCJsb2dpbl9lbWFpbCIsImVkaXRfdXNlciIsIm5ld19lbWFpbCIsInVzZXJfcGljdHVyZV91cmwiLCJmaWxlS2V5IiwidHJ1c3RBbGxIb3N0cyIsInVwbG9hZCIsIm5ld19yZXBvcnRfbGF0IiwibmV3X3JlcG9ydF9sbmciLCJmb3JtYXQiLCJnZXRDYWNoZWRDYXRlZ29yaWVzIiwiZ2V0Q2F0ZWdvcmllcyIsIkNvbmZpZ09iaiIsIiRjb3Jkb3ZhTmV0d29yayIsImlzV2ViVmlldyIsIm5hdmlnYXRvciIsIm9uTGluZSIsImlzT2ZmbGluZSIsIkNvbnRhaW5lciIsIl9kYXRhIiwidGhpcyIsImdldEJ5SWQiLCJfZGVmYXVsdCIsInRpdGxlIiwiZGV0YWlsIiwibWF5X3Nob3dfbmFtZSIsImNhdGVnb3J5IiwicGMiLCJmaWxlIiwic3VibWl0X3NpZ25faW4iLCJyZW1lbWJlcl9tZSIsIl9hbGwiLCJwcm90b3R5cGUiLCIkcSIsInVzZXJfbmFtZSIsInVzZXJfZW1haWwiLCJ1c2VyX3Bhc3N3b3JkIiwidXNlcl9pZF9kb2MiLCJ1c2VyIiwiX2lkIiwiZ2V0VXNlciIsIl9yZXYiLCJfZGIiLCJwdXQiLCJQb3VjaERCIiwic2F2ZVJlcG9ydCIsInJlcG9ydCIsImRhdGUiLCJEYXRlIiwibmV3X3JlcG9ydF9pZCIsImdldEZ1bGxZZWFyIiwiZ2V0TW9udGgiLCJnZXREYXRlIiwiZ2V0TWlsbGlzZWNvbmRzIiwidXBkYXRlUmVwb3J0Iiwic2F2ZUNhdGVnb3JpZXMiLCJjYXRlZ29yaWVzIiwiZ2V0UmVwb3J0IiwicmVwb3J0SWQiLCJnZXRBbGxSZXBvcnRzIiwiYWxsRG9jcyIsImluY2x1ZGVfZG9jcyIsImF0dGFjaG1lbnRzIiwic3RhcnRrZXkiLCJlbmRrZXkiLCJkZWxldGVSZXBvcnQiLCJyZXBvcnRfaWQiLCJkZWxldGVHaXZlblJlcG9ydCIsIlZhbGlkYXRpb25TZXJ2aWNlIiwianNvblJlc3VsdCIsImVycm9yQ29udGFpbmVySWQiLCJlcnJvckRpdiIsImh0dHBfcmVzcG9uc2VfaXNfc3VjY2Vzc2Z1bF9wb3B1cCIsImFsZXJ0UG9wdXAiLCJhbGVydCIsInRlbXBsYXRlIiwiaHR0cF9kYXRhX3Jlc3BvbnNlX2lzX3N1Y2Nlc3NmdWwiLCJzaG93X2Vycm9yX21lc3NhZ2VfcG9wdXAiLCJlcnJvcnMiLCJmb3JFYWNoIiwidmFsaWRhdGVfbm90X2VtcHR5IiwidmFsaWRhdGVfZW1haWwiLCJ2YWxpZGF0ZV9pZGRvY191eSIsInZhbGlkYXRlX3R3b193b3JkcyIsImxhYmVsIiwib2siLCJ2YWxpZGF0ZV9ub3RfbWludXNvbmUiLCJib3JkZXJDb2xvciIsImFqYXgiLCIkaW9uaWNMb2FkaW5nIiwiTE9BREVSQVBJIiwic2hvd0xvYWRpbmciLCJoaWRlTG9hZGluZyIsInRvZ2dsZUxvYWRpbmdXaXRoTWVzc2FnZSIsInNlbGYiLCJjb25maXJtUG9wdXAiLCJjb25maXJtIiwiX3RpdGxlIiwiX3RlbXBsYXRlIiwibG9jYXRpb25zT2JqIiwic2F2ZV9uZXdfcmVwb3J0X3Bvc2l0aW9uIiwic2F2ZWRMb2NhdGlvbnMiLCJwcm9qNCIsImRlZnMiLCJtYXBTZXJ2aWNlIiwiX3BsYWNlIiwiX2dlb0pzb24iLCJjcnMiLCJfbGF0bG5nIiwiUHJvaiIsImdlb0pzb24iLCJwb2ludFRvTGF5ZXIiLCJsYXRsbmciLCJzZXRWaWV3IiwiTGF0TG5nIiwiYmFzZSIsImZvcm0iLCJmaWxlTmFtZSIsImNodW5rZWRNb2RlIiwibWltZVR5cGUiLCJoZWFkZXJzIiwiQ29ubmVjdGlvbiIsInN1YnNjcmliZSIsInJ6bnZ5IiwiYWJ1c2UiLCJlbSIsImRlbGV0ZVVSTCIsImNvbW1lbnQiLCJhZGRfYWxlcnQiLCJmaXhlZCIsInN1Ym1pdF91cGRhdGUiLCJ1cGRhdGUiLCJmb3JtX3J6bnZ5IiwiYWxlcnRfdGl0bGUiLCJhbGVydF9tZXNzYWdlIiwiYXNrRm9yT25lVmFsdWVQb3BVcCIsImZpZWxkX25hbWUiLCJ2YWxpZGF0aW9uVHlwZSIsIm15UG9wdXAiLCJzdWJUaXRsZSIsImJ1dHRvbnMiLCJvblRhcCIsInByZXZlbnREZWZhdWx0IiwiQXBpSW1FbmRwb2ludCIsIkFwaURhdGFFbmRwb2ludCIsInJlc3RQcmVmZml4IiwiX2xvY2F0aW9uIiwibWV0aG9kIiwiZ2V0UGFyYW1QYXRoQnlUaXBvIiwiX3RpcG8iLCJyZXN0R2VvRGF0YVNlcnZpY2VQYXRoIiwiRVNRVUlOQSIsIkRJUkVDQ0lPTiIsIlVzZXJPYmoiLCJnZXRfdXNlcl9kYXRhIiwiYWRkX3Bob3RvIiwiaXNMb2dnZWQiLCJ2YWx1ZXMiLCJzcGxpdCIsImZpbHRl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eEQsT0FBSUgsR0FBT3phLE9BQVMsRUFRcEIsT0FBTyxHQUliNlYsZUFBZ0IsU0FBVWpPLEdBQ3RCLEdBQVUsTUFBUEEsR0FBc0IsYUFBUEEsR0FBNkIsSUFBUEEsRUFBVSxDQUNoRCxHQUFJaVQsR0FBSyx3SkFDVCxPQUFPQSxHQUFHQyxLQUFLbFQsR0FFZixPQUFPLEdBSWJrTyxrQkFBbUIsU0FBVWxPLEdBQzNCLEdBQVUsTUFBUEEsR0FBc0IsYUFBUEEsR0FBNkIsSUFBUEEsRUFBVSxDQUM5Q0EsRUFBUUEsRUFBTW1ULFFBQVEsTUFBTyxHQUM3QixJQUFJQyxHQUFNcFQsRUFBTUEsRUFBTTVILE9BQVMsR0FDM0JpYixFQUFJLEVBQU9qUyxFQUFJLENBQ25CLElBQUdwQixFQUFNNUgsUUFBVSxFQUNqQixJQUFJZ0osRUFBSXBCLEVBQU01SCxPQUFRZ0osRUFBSSxFQUFHQSxJQUMzQnBCLEVBQVEsSUFBTUEsQ0FHbEIsS0FBSW9CLEVBQUksRUFBR0EsRUFBSSxFQUFHQSxJQUNoQmlTLEdBQU16TCxTQUFTLFVBQVV4RyxJQUFNd0csU0FBUzVILEVBQU1vQixJQUFPLEVBRXZELElBQUkrRixFQU1KLE9BSkVBLEdBRENrTSxFQUFFLEtBQU8sRUFDRCxFQUVBLEdBQUtBLEVBQUksR0FFakJELEdBQU9qTSxFQU1aLE9BQU8iLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gSW9uaWMgU3RhcnRlciBBcHBcblxuLy8gYW5ndWxhci5tb2R1bGUgaXMgYSBnbG9iYWwgcGxhY2UgZm9yIGNyZWF0aW5nLCByZWdpc3RlcmluZyBhbmQgcmV0cmlldmluZyBBbmd1bGFyIG1vZHVsZXNcbi8vICdwbWJfaW0nIGlzIHRoZSBuYW1lIG9mIHRoaXMgYW5ndWxhciBtb2R1bGUgZXhhbXBsZSAoYWxzbyBzZXQgaW4gYSA8Ym9keT4gYXR0cmlidXRlIGluIGluZGV4Lmh0bWwpXG4vLyB0aGUgMm5kIHBhcmFtZXRlciBpcyBhbiBhcnJheSBvZiAncmVxdWlyZXMnXG4vLyAnc3RhcnRlci5zZXJ2aWNlcycgaXMgZm91bmQgaW4gc2VydmljZXMuanNcbi8vICdzdGFydGVyLmNvbnRyb2xsZXJzJyBpcyBmb3VuZCBpbiBjb250cm9sbGVycy5qc1xudmFyIHBtYl9pbSA9IHtcbiAgY29udHJvbGxlcnM6IGFuZ3VsYXIubW9kdWxlKCdwbWJfaW0uY29udHJvbGxlcnMnLCBbXSksXG4gIHNlcnZpY2VzOiBhbmd1bGFyLm1vZHVsZSgncG1iX2ltLnNlcnZpY2VzJywgW10pXG59O1xuXG5wbWJfaW0uYXBwID0gYW5ndWxhci5tb2R1bGUoJ3BtYl9pbScsIFsnaW9uaWMnLCdpb25pYy53aXphcmQnLCdpb24tYXV0b2NvbXBsZXRlJywnbGVhZmxldC1kaXJlY3RpdmUnLCAncG1iX2ltLmNvbnRyb2xsZXJzJywgJ3BtYl9pbS5zZXJ2aWNlcycsICduZ0NvcmRvdmEnLCAnaW9uaWMtY2FjaGUtc3JjJ10pXG5cbi5jb25zdGFudCgnQXBpSW1FbmRwb2ludCcsIHtcbiAgdXJsOiAnaHR0cDovL3d3dy5tb250ZXZpZGVvLmd1Yi51eSdcbn0pXG5cbi5jb25zdGFudCgnQXBpRGF0YUVuZHBvaW50Jywge1xuICB1cmw6ICcvZGF0YSdcbn0pXG5cblxuLnJ1bihmdW5jdGlvbigkaW9uaWNQbGF0Zm9ybSwgJHJvb3RTY29wZSwgJGNvcmRvdmFLZXlib2FyZCkge1xuICAkcm9vdFNjb3BlLlZFUlNJT04gPSB3aW5kb3cuVkVSU0lPTjtcbiAgJGlvbmljUGxhdGZvcm0ucmVhZHkoZnVuY3Rpb24oKSB7XG4gICAgLy8gSGlkZSB0aGUgYWNjZXNzb3J5IGJhciBieSBkZWZhdWx0IChyZW1vdmUgdGhpcyB0byBzaG93IHRoZSBhY2Nlc3NvcnkgYmFyIGFib3ZlIHRoZSBrZXlib2FyZFxuICAgIC8vIGZvciBmb3JtIGlucHV0cylcbiAgICBpZiAod2luZG93LmNvcmRvdmEgJiYgd2luZG93LmNvcmRvdmEucGx1Z2lucy5LZXlib2FyZCkge1xuICAgICAgY29yZG92YS5wbHVnaW5zLktleWJvYXJkLmhpZGVLZXlib2FyZEFjY2Vzc29yeUJhcih0cnVlKTtcbiAgICAgIC8vY29yZG92YS5wbHVnaW5zLktleWJvYXJkLmRpc2FibGVTY3JvbGwoZmFsc2UpO1xuICAgIH1cbiAgICAvLyRjb3Jkb3ZhS2V5Ym9hcmQuaGlkZUFjY2Vzc29yeUJhcih0cnVlKVxuICAgIC8vJGNvcmRvdmFLZXlib2FyZC5kaXNhYmxlU2Nyb2xsKGZhbHNlKVxuICAgIGlvbmljLlBsYXRmb3JtLmlzRnVsbFNjcmVlbiA9IGZhbHNlO1xuICAgIGlmICh3aW5kb3cuU3RhdHVzQmFyKSB7XG4gICAgICAvLyBvcmcuYXBhY2hlLmNvcmRvdmEuc3RhdHVzYmFyIHJlcXVpcmVkXG4gICAgICBTdGF0dXNCYXIuc3R5bGVEZWZhdWx0KCk7XG4gICAgfVxuICB9KTtcbn0pXG5cbi5jb25maWcoZnVuY3Rpb24oJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlciwgJGNvbXBpbGVQcm92aWRlciwgJGlvbmljQ29uZmlnUHJvdmlkZXIpIHtcbiAgJGNvbXBpbGVQcm92aWRlci5kZWJ1Z0luZm9FbmFibGVkKGZhbHNlKTtcbiAgLy8kaW9uaWNDb25maWdQcm92aWRlci5zY3JvbGxpbmcuanNTY3JvbGxpbmcodHJ1ZSk7XG5cbiAgLy8gSW9uaWMgdXNlcyBBbmd1bGFyVUkgUm91dGVyIHdoaWNoIHVzZXMgdGhlIGNvbmNlcHQgb2Ygc3RhdGVzXG4gIC8vIExlYXJuIG1vcmUgaGVyZTogaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXItdWkvdWktcm91dGVyXG4gIC8vIFNldCB1cCB0aGUgdmFyaW91cyBzdGF0ZXMgd2hpY2ggdGhlIGFwcCBjYW4gYmUgaW4uXG4gIC8vIEVhY2ggc3RhdGUncyBjb250cm9sbGVyIGNhbiBiZSBmb3VuZCBpbiBjb250cm9sbGVycy5qc1xuICAkc3RhdGVQcm92aWRlclxuXG4uc3RhdGUoJ2FwcCcsIHtcbiAgICBjYWNoZTogZmFsc2UsXG4gICAgdXJsOiBcIi9hcHBcIixcbiAgICBhYnN0cmFjdDogdHJ1ZSxcbiAgICB0ZW1wbGF0ZVVybDogXCJ0ZW1wbGF0ZXMvbWVudS5odG1sXCIsXG4gICAgY29udHJvbGxlcjogJ01hcENvbnRyb2xsZXInXG4gIH0pXG5cbi5zdGF0ZSgnYXBwLm1hcCcsIHtcbiAgICBjYWNoZTogZmFsc2UsXG4gICAgdXJsOiBcIi9tYXAvXCIsXG4gICAgdmlld3M6IHtcbiAgICAgICdtZW51Q29udGVudCcgOntcbiAgICAgICAgdGVtcGxhdGVVcmw6IFwidGVtcGxhdGVzL21hcC5odG1sXCIsXG4gICAgICAgIGNvbnRyb2xsZXIgOiBcIlBNQkN0cmxcIlxuICAgICAgfVxuICAgIH1cbiAgfSlcblxuLnN0YXRlKCdhcHAuaW50cm8nLCB7XG4gIGNhY2hlOiBmYWxzZSxcbiAgdXJsOiBcIi9pbnRyb1wiLFxuICB2aWV3czoge1xuICAgICdtZW51Q29udGVudCcgOntcbiAgICAgIHRlbXBsYXRlVXJsOiBcInRlbXBsYXRlcy9pbnRyby5odG1sXCIsXG4gICAgICBjb250cm9sbGVyIDogXCJJbnRyb0N0cmxcIlxuICAgIH1cbiAgfVxufSlcblxuLy8gaWYgbm9uZSBvZiB0aGUgYWJvdmUgc3RhdGVzIGFyZSBtYXRjaGVkLCB1c2UgdGhpcyBhcyB0aGUgZmFsbGJhY2tcbiR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoJy9hcHAvaW50cm8nKTtcblxufSk7XG4iLCJwbWJfaW0uY29udHJvbGxlcnMuY29udHJvbGxlcignQXV0b0NvbXBsZXRlQ3RybCcsIFsnJHNjb3BlJywgJ2xlYWZsZXREYXRhJywgJ2xvY2F0aW9uQVBJJywgZnVuY3Rpb24oJHNjb3BlLCBsZWFmbGV0RGF0YSwgbG9jYXRpb25BUEkpIHtcblxuXG4gICRzY29wZS5pb25BdXRvY29tcGxldGVFbGVtZW50ID0gYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJpb24tYXV0b2NvbXBsZXRlXCIpKTtcbiAgJHNjb3BlLmlvbkF1dG9jb21wbGV0ZUVsZW1lbnQuYmluZCgndG91Y2hlbmQgY2xpY2sgZm9jdXMnLCAkc2NvcGUub25DbGljayk7XG5cbiAgJHNjb3BlLm9uQ2xpY2sgPSBmdW5jdGlvbigpIHtcblxuICAgICRzY29wZS5pb25BdXRvY29tcGxldGVFbGVtZW50LmNvbnRyb2xsZXIoJ2lvbkF1dG9jb21wbGV0ZScpLnNob3dNb2RhbCgpO1xuXG5cbiAgfTtcblxuXG5cbiAgJHNjb3BlLnNlYXJjaExvY2F0aW9uID0gZnVuY3Rpb24ocXVlcnkpIHtcbiAgICBpZiAocXVlcnkpIHtcbiAgICAgIC8vY29uc29sZS5sb2coXCJxdWVyeT0gXCIgKyBxdWVyeSk7XG4gICAgICByZXR1cm4gbG9jYXRpb25BUEkuc2VhcmNoTG9jYXRpb25CeVN0cihxdWVyeSk7XG5cbiAgICB9XG4gIH07XG5cblxufV0pO1xuIiwicG1iX2ltLmNvbnRyb2xsZXJzLmNvbnRyb2xsZXIoJ0ludHJvQ3RybCcsIFsnJHNjb3BlJywgJyRzdGF0ZScsXG4gICckY29yZG92YUdlb2xvY2F0aW9uJyxcbiAgJyRzdGF0ZVBhcmFtcycsXG4gICckaW9uaWNQbGF0Zm9ybScsXG4gICckaW9uaWNQb3B1cCcsXG4gICdMb2NhdGlvbnNTZXJ2aWNlJyxcbiAgJ0RCU2VydmljZScsXG4gIGZ1bmN0aW9uKCRzY29wZSwgJHN0YXRlLCAkY29yZG92YUdlb2xvY2F0aW9uLCAkc3RhdGVQYXJhbXMsICRpb25pY1BsYXRmb3JtLCAkaW9uaWNQb3B1cCwgTG9jYXRpb25zU2VydmljZSwgREJTZXJ2aWNlKSB7XG5cbiAgdmFyIGRiID0gREJTZXJ2aWNlLmluaXREQigpO1xuICBkYi5pbmZvKCkudGhlbihjb25zb2xlLmxvZy5iaW5kKGNvbnNvbGUpKTtcblxuICAkc2NvcGUuZ2VvbG9jYXRlID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgbG9jYXRlZCA9IGZhbHNlO1xuICAgICAgLypzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgIGlmKCFsb2NhdGVkKXtcbiAgICAgICAgICAkc3RhdGUuZ28oXCJhcHAubWFwXCIpO1xuICAgICAgICB9XG4gICAgICB9LCA0MDAwKTsqL1xuICAgICAgaW9uaWMuUGxhdGZvcm0ucmVhZHkoZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBkZXZpY2UgPSBpb25pYy5QbGF0Zm9ybS5kZXZpY2UoKTtcbiAgICAgICAgLy9hbGVydChkZXZpY2UucGxhdGZvcm0pO1xuICAgICAgICB2YXIgcG9zT3B0aW9ucyA9IHt0aW1lb3V0OiAzNTAwLCBlbmFibGVIaWdoQWNjdXJhY3k6IHRydWUsIG1heGltdW1BZ2U6NjAwMDB9O1xuICAgICAgICAkY29yZG92YUdlb2xvY2F0aW9uXG4gICAgICAgICAgLmdldEN1cnJlbnRQb3NpdGlvbihwb3NPcHRpb25zKVxuICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChwb3NpdGlvbikge1xuICAgICAgICAgICAgLy9hbGVydChcInNhbGlvIHBvciBlbCB0cnVlXCIpO1xuICAgICAgICAgICAgbG9jYXRlZCA9IHRydWU7XG4gICAgICAgICAgICBMb2NhdGlvbnNTZXJ2aWNlLnNhdmVfaW5pdGlhbF9wb3NpdGlvbihwb3NpdGlvbik7XG4gICAgICAgICAgICAkc3RhdGUuZ28oXCJhcHAubWFwXCIpO1xuICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgLy8gZXJyb3JcbiAgICAgICAgICAgIC8vYWxlcnQoXCJzYWxpbyBwb3IgZWwgZXJyb3JcIik7XG4gICAgICAgICAgICAkc3RhdGUuZ28oXCJhcHAubWFwXCIpO1xuICAgICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICB9O1xuXG4gICAkc2NvcGUuJG9uKCckaW9uaWNWaWV3LmVudGVyJywgZnVuY3Rpb24oKXsgLy9UaGlzIGlzIGZpcmVkIHR3aWNlIGluIGEgcm93XG4gICAgICAgJHNjb3BlLmdlb2xvY2F0ZSgpO1xuICAgfSk7XG5cbiAgfVxuXSk7XG4iLCJwbWJfaW0uY29udHJvbGxlcnMuY29udHJvbGxlcignTWFwQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRzY2UnLCAnXycsXG4gICckY29yZG92YUZpbGUnLFxuICAnJGNvcmRvdmFHZW9sb2NhdGlvbicsXG4gICckY29tcGlsZScsXG4gICckc3RhdGUnLFxuICAnJHN0YXRlUGFyYW1zJyxcbiAgJyRpb25pY01vZGFsJyxcbiAgJyRpb25pY1BvcHVwJyxcbiAgJ2xlYWZsZXREYXRhJyxcbiAgJ0NvbmZpZ1NlcnZpY2UnLFxuICAnQ29udGFjdFNlcnZpY2UnLFxuICAnUE1CU2VydmljZScsXG4gICdMb2NhdGlvbnNTZXJ2aWNlJyxcbiAgJ0NvbnRhaW5lclNlcnZpY2UnLFxuICAnTWFwU2VydmljZScsXG4gICdGYXFTZXJ2aWNlJyxcbiAgJ0NhdGVnb3JpZXNTZXJ2aWNlJyxcbiAgJ0F1dGhTZXJ2aWNlJyxcbiAgJ1VzZXJTZXJ2aWNlJyxcbiAgJ0RCU2VydmljZScsXG4gICckdGltZW91dCcsXG4gICckbG9jYXRpb24nLFxuICAnRXJyb3JTZXJ2aWNlJyxcbiAgJyRpb25pY1NsaWRlQm94RGVsZWdhdGUnLFxuICAnJGlvbmljU2Nyb2xsRGVsZWdhdGUnLFxuICAnUG9wVXBTZXJ2aWNlJyxcbiAgJyRpb25pY1BsYXRmb3JtJyxcbiAgJ0Nvbm5lY3Rpdml0eVNlcnZpY2UnLFxuICAnJGNvcmRvdmFJbkFwcEJyb3dzZXInLFxuICAnJGludGVydmFsJyxcbiAgJyRjb3Jkb3ZhS2V5Ym9hcmQnLFxuICAnTmV3c1NlcnZpY2UnLFxuICBmdW5jdGlvbihcbiAgICAkc2NvcGUsXG4gICAgJHNjZSxcbiAgICBfLFxuICAgICRjb3Jkb3ZhRmlsZSxcbiAgICAkY29yZG92YUdlb2xvY2F0aW9uLFxuICAgICRjb21waWxlLFxuICAgICRzdGF0ZSxcbiAgICAkc3RhdGVQYXJhbXMsXG4gICAgJGlvbmljTW9kYWwsXG4gICAgJGlvbmljUG9wdXAsXG4gICAgbGVhZmxldERhdGEsXG4gICAgQ29uZmlnU2VydmljZSxcbiAgICBDb250YWN0U2VydmljZSxcbiAgICBQTUJTZXJ2aWNlLFxuICAgIExvY2F0aW9uc1NlcnZpY2UsXG4gICAgQ29udGFpbmVyU2VydmljZSxcbiAgICBNYXBTZXJ2aWNlLFxuICAgIEZhcVNlcnZpY2UsXG4gICAgQ2F0ZWdvcmllc1NlcnZpY2UsXG4gICAgQXV0aFNlcnZpY2UsXG4gICAgVXNlclNlcnZpY2UsXG4gICAgREJTZXJ2aWNlLFxuICAgICR0aW1lb3V0LFxuICAgICRsb2NhdGlvbixcbiAgICBFcnJvclNlcnZpY2UsXG4gICAgJGlvbmljU2xpZGVCb3hEZWxlZ2F0ZSxcbiAgICAkaW9uaWNTY3JvbGxEZWxlZ2F0ZSxcbiAgICBQb3BVcFNlcnZpY2UsXG4gICAgJGlvbmljUGxhdGZvcm0sXG4gICAgQ29ubmVjdGl2aXR5U2VydmljZSxcbiAgICAkY29yZG92YUluQXBwQnJvd3NlcixcbiAgICAkaW50ZXJ2YWwsXG4gICAgJGNvcmRvdmFLZXlib2FyZCxcbiAgICBOZXdzU2VydmljZVxuICApIHtcblxuICAgICAgLyoqXG4gICAgICogT25jZSBzdGF0ZSBsb2FkZWQsIGdldCBwdXQgbWFwIG9uIHNjb3BlLlxuICAgICAqL1xuICAgICRzY29wZS5mZWF0dXJlUmVwb3J0cyA9IHt9O1xuICAgICRzY29wZS5iYXNlVVJMID0gQ29uZmlnU2VydmljZS5iYXNlVVJMO1xuICAgICRzY29wZS51c2VyX2NhY2hlZF9pbWFnZSA9IFwiXCI7XG4gICAgJHNjb3BlLnJlcG9ydF9kZXRhaWxfaWQgPSBudWxsO1xuICAgICRzY29wZS5vbmVfdmFsdWVfcG9wdXAgPSBudWxsO1xuICAgICRzY29wZS5hYnVzZV9uYW1lID0gbnVsbDtcbiAgICAkc2NvcGUuYWJ1c2VfZW1haWwgPSBudWxsO1xuICAgICRzY29wZS5hYnVzZV9zdWJqZWN0ID0gbnVsbDtcbiAgICAkc2NvcGUuYWJ1c2VfbWVzc2FnZSA9IG51bGw7XG5cbiAgICAkc2NvcGUuYWN0dWFsU2xpZGVySW5kZXg9MDtcblxuICAgICRzY29wZS4kb24oXCIkaW9uaWNWaWV3LmJlZm9yZUVudGVyXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgREJTZXJ2aWNlLmluaXREQigpO1xuICAgICAgJHNjb3BlLnNldF9uZXR3b3JrX2V2ZW50cygpO1xuICAgICAgJHNjb3BlLmZpbmRfbWUoKTtcbiAgICAgICRzY29wZS53YWxrdGhyb3VnaCgpO1xuICAgIH0pO1xuXG4gICAgJGlvbmljUGxhdGZvcm0ub25IYXJkd2FyZUJhY2tCdXR0b24oZnVuY3Rpb24oKSB7XG4gICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAkc2NvcGUuaGlkZV9zcGVjaWFsX2RpdnM7XG4gICAgfSk7XG5cbiAgICAkc2NvcGUub3BlbldlYnNpdGUgPSBmdW5jdGlvbih1cmwpIHtcbiAgICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgIGxvY2F0aW9uOiAnbm8nLFxuICAgICAgICAgICAgICAgIGNsZWFyY2FjaGU6ICd5ZXMnLFxuICAgICAgICAgICAgICAgIHRvb2xiYXI6ICdubydcbiAgICAgICAgICAgIH07XG5cbiAgICAgJGNvcmRvdmFJbkFwcEJyb3dzZXIub3Blbih1cmwsICdfYmxhbmsnLCBvcHRpb25zKVxuICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAvLyBzdWNjZXNzXG4gICAgICAgICAgfSlcbiAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIC8vIGVycm9yXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgICRzY29wZS5zZXRfbmV0d29ya19ldmVudHMgPSBmdW5jdGlvbigpIHtcbiAgICAgICRzY29wZS5jcmVhdGVfb25saW5lX21hcCgpO1xuICAgICAgJHNjb3BlLmFkZFBpbnNMYXllcigpO1xuICAgICAgJHNjb3BlLm1hcC5jZW50ZXIgPSB7XG4gICAgICAgICAgbGF0OiAtMzQuOTAxMTEzLFxuICAgICAgICAgIGxuZzogLTU2LjE2NDUzMSxcbiAgICAgICAgICB6b29tOiAxOFxuICAgICAgICB9O1xuICAgIH07XG5cbiAgICAkc2NvcGUuY3JlYXRlX29ubGluZV9tYXAgPSBmdW5jdGlvbigpe1xuICAgICAgaWYoJHNjb3BlLm1hcCE9bnVsbCl7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgICRzY29wZS5tYXAgPSB7XG4gICAgICAgIGRlZmF1bHRzOiB7XG4gICAgICAgICAgdGlsZUxheWVyOiAnaHR0cHM6Ly97c30udGlsZS5vcGVuc3RyZWV0bWFwLm9yZy97en0ve3h9L3t5fS5wbmcnLFxuICAgICAgICAgIG1pblpvb206IDEwLFxuICAgICAgICAgIG1heFpvb206IDE4LFxuICAgICAgICAgIHpvb21Db250cm9sUG9zaXRpb246ICd0b3BsZWZ0JyxcbiAgICAgICAgfSxcbiAgICAgICAgbWFya2Vyczoge30sXG4gICAgICAgIGV2ZW50czoge1xuICAgICAgICAgIG1hcDoge1xuICAgICAgICAgICAgZW5hYmxlOiBbJ2NvbnRleHQnXSxcbiAgICAgICAgICAgIGxvZ2ljOiAnZW1pdCdcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfTtcblxuICAgICRzY29wZS5jbGlja09uTWVudUljb24gPSBmdW5jdGlvbigpe1xuICAgICAgdmFyIGxpbmVzbWVudSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibmF2LWljb24tbGluZXNcIik7XG4gICAgICB2YXIgZXhwYW5kZWRfbWVudSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZXhwYW5kZWRfbWVudVwiKTtcbiAgICAgICRzY29wZS50b2dnbGVDbGFzc09uRWxlbWVudChsaW5lc21lbnUsXCJvcGVuXCIpO1xuICAgICAgJHNjb3BlLnRvZ2dsZUNsYXNzT25FbGVtZW50KGV4cGFuZGVkX21lbnUsXCJvcGVuXCIpO1xuICAgIH07XG5cblxuICAgIHZhciBMb2NhdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIExvY2F0aW9uKSkgcmV0dXJuIG5ldyBMb2NhdGlvbigpO1xuICAgICAgdGhpcy5sYXQgPSBcIlwiO1xuICAgICAgdGhpcy5sbmcgPSBcIlwiO1xuICAgICAgdGhpcy5uYW1lID0gXCJcIjtcbiAgICB9O1xuXG4gICRzY29wZS50b2dnbGVDbGFzc09uRWxlbWVudCA9IGZ1bmN0aW9uIChlbGVtZW50LCBjbGFzc05hbWUpe1xuICAgIGlmICghZWxlbWVudCB8fCAhY2xhc3NOYW1lKXtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgY2xhc3NTdHJpbmcgPSBlbGVtZW50LmNsYXNzTmFtZSwgbmFtZUluZGV4ID0gY2xhc3NTdHJpbmcuaW5kZXhPZihjbGFzc05hbWUpO1xuICAgIGlmIChuYW1lSW5kZXggPT0gLTEpIHtcbiAgICAgICAgY2xhc3NTdHJpbmcgKz0gJyAnICsgY2xhc3NOYW1lO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY2xhc3NTdHJpbmcgPSBjbGFzc1N0cmluZy5zdWJzdHIoMCwgbmFtZUluZGV4KSArIGNsYXNzU3RyaW5nLnN1YnN0cihuYW1lSW5kZXgrY2xhc3NOYW1lLmxlbmd0aCk7XG4gICAgfVxuICAgIGVsZW1lbnQuY2xhc3NOYW1lID0gY2xhc3NTdHJpbmc7XG4gIH07XG5cbiAgJHNjb3BlLm5leHQgPSBmdW5jdGlvbigpIHtcbiAgICAkaW9uaWNTbGlkZUJveERlbGVnYXRlLm5leHQoKTtcbiAgICAkc2NvcGUuYWN0dWFsU2xpZGVySW5kZXggPSAkaW9uaWNTbGlkZUJveERlbGVnYXRlLmN1cnJlbnRJbmRleCgpO1xuICB9O1xuXG4gICRzY29wZS5wcmV2aW91cyA9IGZ1bmN0aW9uKCkge1xuICAgICRpb25pY1NsaWRlQm94RGVsZWdhdGUucHJldmlvdXMoKTtcbiAgICAkc2NvcGUuYWN0dWFsU2xpZGVySW5kZXggPSAkaW9uaWNTbGlkZUJveERlbGVnYXRlLmN1cnJlbnRJbmRleCgpO1xuICB9O1xuXG5cbiAgICAkc2NvcGUuc2Nyb2xsTWUgPSBmdW5jdGlvbihhbmNob3JfaWQpe1xuICAgICAgJGxvY2F0aW9uLmhhc2goYW5jaG9yX2lkKTtcbiAgICAgIHZhciBoYW5kbGUgID0gJGlvbmljU2Nyb2xsRGVsZWdhdGUuJGdldEJ5SGFuZGxlKCdjb250ZW50Jyk7XG4gICAgICBoYW5kbGUuYW5jaG9yU2Nyb2xsKCk7XG4gICAgfVxuXG4gICAgJHNjb3BlLmdvVG8gPSBmdW5jdGlvbihpZCl7XG4gICAgICAgICAkbG9jYXRpb24uaGFzaCgnaXRlbScraWQpO1xuICAgICAgICAgJGlvbmljU2Nyb2xsRGVsZWdhdGUuYW5jaG9yU2Nyb2xsKCk7XG4gICAgfVxuXG4gICAgJHNjb3BlLnNldF9hY3RpdmVfb3B0aW9uID0gZnVuY3Rpb24oYnV0dG9uaWQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAkc2NvcGUuaGlkZV9zcGVjaWFsX2RpdnMgPSBmdW5jdGlvbigpe1xuICAgICAgdmFyIGNvbnRhaW5lcl9kZXRhaWxzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb250YWluZXJfZGV0YWlsc1wiKTtcbiAgICAgIGlmKGNvbnRhaW5lcl9kZXRhaWxzKXtcbiAgICAgICAgY29udGFpbmVyX2RldGFpbHMuY2xhc3NOYW1lID0gXCJcIjtcbiAgICAgIH1cbiAgICAgIHZhciBuYXZiYWNrID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJuYXZpZ2F0aW9uX2JhY2tcIik7XG4gICAgICBpZihuYXZiYWNrKXtcbiAgICAgICAgbmF2YmFjay5jbGFzc05hbWUgPSBcImhpZGRlblwiO1xuICAgICAgfVxuICAgICAgdmFyIG5hdmlnYXRpb25fbWVudSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibmF2aWdhdGlvbl9tZW51XCIpO1xuICAgICAgaWYobmF2aWdhdGlvbl9tZW51KXtcbiAgICAgICAgbmF2aWdhdGlvbl9tZW51LmNsYXNzTmFtZSA9IFwiXCI7XG4gICAgICB9XG4gICAgfVxuXG5cbiAgICAkc2NvcGUuYWRkTWFwQ29udHJvbHMgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgJHNjb3BlLnN0YXJ0UmVwb3J0RnJvbUNyb3NzaGFpcnMgPSBmdW5jdGlvbigpe1xuICAgIH1cblxuICAgICRzY29wZS5hZGRQaW5zTGF5ZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmKCRzY29wZS5qc29uTGF5ZXIhPW51bGwpe1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICB2YXIgYmFzZVVSTCA9IENvbmZpZ1NlcnZpY2UuYmFzZVVSTDtcbiAgICAgICAgb25FYWNoRmVhdHVyZSA9IGZ1bmN0aW9uKGZlYXR1cmUsIGxheWVyKSB7XG4gICAgICAgICAgdmFyIGh0bWwsIHJlcG9ydElkLCBkZXNjcmlwY2lvbjtcbiAgICAgICAgICBpZiAoZmVhdHVyZS5wcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICBsYXllci5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLnNlbGVjdGVkX2NvbnRhaW5lciA9IENvbnRhaW5lclNlcnZpY2UuYnVpbGQoZS50YXJnZXQuZmVhdHVyZS5wcm9wZXJ0aWVzKTtcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2VsZWN0ZWRfY29udGFpbmVyLnNldExhdExuZyhlLnRhcmdldC5mZWF0dXJlLmdlb21ldHJ5LmNvb3JkaW5hdGVzWzFdLGUudGFyZ2V0LmZlYXR1cmUuZ2VvbWV0cnkuY29vcmRpbmF0ZXNbMF0pO1xuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJHNjb3BlLnNlbGVjdGVkX2NvbnRhaW5lcik7XG4gICAgICAgICAgICAgICAgdmFyIGNvbnRhaW5lckRldGFpbHMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbnRhaW5lcl9kZXRhaWxzXCIpO1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lckRldGFpbHMuY2xhc3NOYW1lID0gXCJvcGVuXCI7XG4gICAgICAgICAgICAgICAgdmFyIGJhY2tNZW51ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJuYXZpZ2F0aW9uX2JhY2tcIik7XG4gICAgICAgICAgICAgICAgYmFja01lbnUuY2xhc3NOYW1lPVwiXCI7XG4gICAgICAgICAgICAgICAgdmFyIG1lbnUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm5hdmlnYXRpb25fbWVudVwiKTtcbiAgICAgICAgICAgICAgICBtZW51LmNsYXNzTmFtZSA9IFwiaGlkZGVuXCI7XG4gICAgICAgICAgICAgICAgJHNjb3BlLmdvVG9DZW50ZXIoJHNjb3BlLnNlbGVjdGVkX2NvbnRhaW5lci5sb24sJHNjb3BlLnNlbGVjdGVkX2NvbnRhaW5lci5sYXQpO1xuXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsID0gbmV3IEwuTGF5ZXJKU09OKHtcbiAgICAgICAgICB1cmw6IGJhc2VVUkwgKyBcIi9kYXRhdXkvZ2V0X2NvbnRhaW5lcnNfanNvbi9cIiArIFwie2Jib3h9XCIsXG4gICAgICAgICAgbG9jQXNHZW9KU09OOiB0cnVlLFxuICAgICAgICAgIG1pblNoaWZ0OiA1LFxuICAgICAgICAgIC8vdXBkYXRlT3V0Qm91bmRzOiBmYWxzZSxcbiAgICAgICAgICBwcmVjaXNpb246IDEwLFxuICAgICAgICAgIG9uRWFjaEZlYXR1cmU6IG9uRWFjaEZlYXR1cmVcbiAgICAgICAgfSk7XG5cblxuICAgICAgbGVhZmxldERhdGEuZ2V0TWFwKCkudGhlbihmdW5jdGlvbihtYXApIHtcbiAgICAgICAgaWYoJHNjb3BlLmpzb25MYXllciE9bnVsbCl7XG4gICAgICAgICAgbWFwLnJlbW92ZUxheWVyKCRzY29wZS5qc29uTGF5ZXIpO1xuICAgICAgICB9XG4gICAgICAgICRzY29wZS5qc29uTGF5ZXIgPSBsO1xuICAgICAgICBtYXAuYWRkTGF5ZXIobCk7XG4gICAgICB9KTtcblxuICAgICAgJHNjb3BlLmxhc3RNYXJrZXJMYXllciA9IG51bGw7XG5cblxuICAgICAgbC5vbignZGF0YWxvYWRlZCcsIGZ1bmN0aW9uKGUpIHsgLy9zaG93IGxvYWRlZCBkYXRhIVxuICAgICAgICAkc2NvcGUucmVwb3J0cyA9IGUuZGF0YS5mZWF0dXJlcztcbiAgICAgIH0pO1xuXG5cbiAgICAgIGwub24oJ2xheWVyYWRkJywgZnVuY3Rpb24oZSkge1xuICAgICAgICBlLmxheWVyLmVhY2hMYXllcihmdW5jdGlvbihfbGF5ZXIpIHtcbiAgICAgICAgICB2YXIgaWNvbiA9IFwiL2ltZy9waW4tY29udGFpbmVyLnN2Z1wiO1xuICAgICAgICAgIGlmKF9sYXllci5mZWF0dXJlLnByb3BlcnRpZXMucGluX3VybCl7XG4gICAgICAgICAgICBpY29uID0gX2xheWVyLmZlYXR1cmUucHJvcGVydGllcy5waW5fdXJsO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgbWFya2VySWNvbiA9IEwuaWNvbih7XG4gICAgICAgICAgICBpY29uVXJsOiBiYXNlVVJMICsgaWNvbixcbiAgICAgICAgICAgIGljb25TaXplOiBbMjksIDM0XSxcbiAgICAgICAgICAgIGljb25BbmNob3I6IFs4LCA4XSxcbiAgICAgICAgICAgIHBvcHVwQW5jaG9yOiBbMCwgLThdXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgX2xheWVyLnNldEljb24obWFya2VySWNvbik7XG4gICAgICAgICAgaWYgKCRzY29wZS5mZWF0dXJlUmVwb3J0c1tfbGF5ZXIuZmVhdHVyZS5wcm9wZXJ0aWVzLkdJRF0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgJHNjb3BlLmZlYXR1cmVSZXBvcnRzW19sYXllci5mZWF0dXJlLnByb3BlcnRpZXMuR0lEXSA9IF9sYXllcjtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgJHNjb3BlLmdvVG9DZW50ZXIgPSBmdW5jdGlvbihsb25nVG8sbGF0VG8pe1xuICAgICAgdmFyIHBvc09wdGlvbnMgPSB7dGltZW91dDogMzAwMCwgZW5hYmxlSGlnaEFjY3VyYWN5OiB0cnVlfTtcbiAgICAgICAgJGNvcmRvdmFHZW9sb2NhdGlvblxuICAgICAgICAgIC5nZXRDdXJyZW50UG9zaXRpb24ocG9zT3B0aW9ucylcbiAgICAgICAgICAudGhlbihmdW5jdGlvbiAocG9zaXRpb24pIHtcbiAgICAgICAgICAgICAgICB2YXIgbGF0RnJvbSAgPSBwb3NpdGlvbi5jb29yZHMubGF0aXR1ZGU7XG4gICAgICAgICAgICAgICAgdmFyIGxvbmdGcm9tID0gcG9zaXRpb24uY29vcmRzLmxvbmdpdHVkZTtcbiAgICAgICAgICAgICAgICAkc2NvcGUuZ2V0Um9hZChsYXRGcm9tLGxvbmdGcm9tLGxhdFRvLGxvbmdUbyk7XG4gICAgICAgICAgICAgICAgLy8kc2NvcGUubWFwLm1hcmtlcnMubm93Lm9wZW5Qb3B1cCgpO1xuICAgICAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgICAgICAvL01vdmUgYSBsaXR0bGUgdGhlIG1hcCBjZW50ZXIgYmVjYXVzZSB0aGUgbWFwIHZpZXcgaXMgc21hbGxlciAocmVwb3J0IGxpc3QgaXMgZGlzcGxheWVkKVxuICAgICAgICAgICAgICAgIGxhdFRvID0gbGF0VG8gLSAwLjAwMDY7XG4gICAgICAgICAgICAgICAgTWFwU2VydmljZS5jZW50ZXJNYXBPbkNvb3JkcyhsYXRUbyxsb25nVG8sMTcpO1xuICAgICAgICAgICAgICAgIC8vRXJyb3JTZXJ2aWNlLnNob3dfZXJyb3JfbWVzc2FnZV9wb3B1cChcIk5vIGhlbW9zIHBvZGlkbyBnZW9sb2NhbGl6YXJsby4gwr9UYWwgdmV6IG9sdmlkw7MgaGFiaWxpdGFyIGxvcyBzZXJ2aWNpb3MgZGUgbG9jYWxpemFjacOzbiBlbiBzdSBkaXNwb3NpdGl2bz9cIilcbiAgICAgICAgICAgICAgfSk7XG4gICAgfTtcblxuICAgICRzY29wZS5sYXN0Um9hZCA9IG51bGw7XG5cbiAgICAkc2NvcGUubmF2X2JhY2sgPSBmdW5jdGlvbigpe1xuICAgICAgJHNjb3BlLmhpZGVfc3BlY2lhbF9kaXZzKCk7XG4gICAgICBpZigkc2NvcGUubGFzdFJvYWQhPW51bGwpe1xuICAgICAgICAkc2NvcGUubGFzdFJvYWQuc3BsaWNlV2F5cG9pbnRzKDAsIDIpO1xuICAgICAgICBsZWFmbGV0RGF0YS5nZXRNYXAoKS50aGVuKGZ1bmN0aW9uKG1hcCkge1xuICAgICAgICAgIG1hcC5yZW1vdmVDb250cm9sKCRzY29wZS5sYXN0Um9hZClcbiAgICAgICAgICAkc2NvcGUubGFzdFJvYWQ9bnVsbDtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgJHNjb3BlLndhbGt0aHJvdWdoID0gZnVuY3Rpb24oKXtcbiAgICAgIGlmKCRzY29wZS53YWxrdGhyb3VnaF9tb2RhbCE9bnVsbCl7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciBkb25lV2Fsa3Rocm91Z2ggPSBEQlNlcnZpY2UuZ2V0RG9uZVdhbGt0aHJvdWdoKCk7XG4gICAgICBkb25lV2Fsa3Rocm91Z2gudGhlbihmdW5jdGlvbiAoZG9jKSB7XG4gICAgICAgIGlmKGRvYy5zdGF0dXMhPW51bGwgJiYgZG9jLnN0YXR1cz09XCJkb25lXCIpe1xuICAgICAgICAgIC8vWWEgbG8gdmnDsyB1bmEgdmV6XG4gICAgICAgICAgLy8kc2NvcGUub3BlbldhbGtUaHJvdWdoTW9kYWwoKTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgJHNjb3BlLm9wZW5XYWxrVGhyb3VnaE1vZGFsKCk7XG4gICAgICAgIH1cbiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgJHNjb3BlLm9wZW5XYWxrVGhyb3VnaE1vZGFsKCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAkc2NvcGUud2Fsa3Rocm91Z2hGcm9tTWVudSA9IGZ1bmN0aW9uKCl7XG4gICAgICAkc2NvcGUuY2xvc2VNYWluTWVudSgpO1xuICAgICAgJHNjb3BlLm9wZW5XYWxrVGhyb3VnaE1vZGFsKCk7XG4gICAgfVxuXG4gICAgJHNjb3BlLm9wZW5XYWxrVGhyb3VnaE1vZGFsID0gZnVuY3Rpb24oKXtcbiAgICAgICRpb25pY01vZGFsLmZyb21UZW1wbGF0ZVVybCgndGVtcGxhdGVzL3dhbGt0aHJvdWdoLmh0bWwnLCB7XG4gICAgICAgIHNjb3BlOiAkc2NvcGUsXG4gICAgICAgIGhhcmR3YXJlQmFja0J1dHRvbkNsb3NlOiBmYWxzZSxcbiAgICAgICAgYW5pbWF0aW9uOiAnc2xpZGUtaW4tdXAnLFxuICAgICAgICAvL2ZvY3VzRmlyc3RJbnB1dDogdHJ1ZVxuICAgICAgfSkudGhlbihmdW5jdGlvbihtb2RhbCkge1xuICAgICAgICAgICRzY29wZS53YWxrdGhyb3VnaF9tb2RhbCA9IG1vZGFsO1xuICAgICAgICAgICRzY29wZS53YWxrdGhyb3VnaF9tb2RhbC5zaG93KCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAkc2NvcGUuZmluaXNoV2Fsa3Rocm91Z2ggPSBmdW5jdGlvbigpe1xuICAgICAgJHNjb3BlLndhbGt0aHJvdWdoX21vZGFsLmhpZGUoKTtcbiAgICAgICRzY29wZS53YWxrdGhyb3VnaF9tb2RhbC5yZW1vdmUoKTtcbiAgICAgIERCU2VydmljZS5zYXZlRG9uZVdhbGt0aHJvdWdoKCk7XG4gICAgfVxuXG4gICAgJHNjb3BlLnN1YmplY3QgPSBcIkZlZWRiYWNrXCI7XG5cbiAgICAkc2NvcGUudG9nZ2xlR3JvdXAgPSBmdW5jdGlvbihncm91cCkge1xuICAgICAgaWYgKCRzY29wZS5pc0dyb3VwU2hvd24oZ3JvdXApKSB7XG4gICAgICAgICRzY29wZS5zaG93bkdyb3VwID0gbnVsbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICRzY29wZS5zaG93bkdyb3VwID0gZ3JvdXA7XG4gICAgICB9XG4gICAgfTtcblxuICAgICRzY29wZS5pc0dyb3VwU2hvd24gPSBmdW5jdGlvbihncm91cCkge1xuICAgICAgcmV0dXJuICRzY29wZS5zaG93bkdyb3VwID09PSBncm91cDtcbiAgICB9O1xuXG4gICAgJHNjb3BlLm9wZW5Qcm9ncmFtYXMgPSBmdW5jdGlvbigpe1xuICAgICAgJHNjb3BlLm1haW5fbWVudV9tb2RhbC5oaWRlKCk7XG4gICAgICAkc2NvcGUubWFpbl9tZW51X21vZGFsLnJlbW92ZSgpO1xuICAgICAgJGlvbmljTW9kYWwuZnJvbVRlbXBsYXRlVXJsKCd0ZW1wbGF0ZXMvcHJvZ3JhbWFzLmh0bWwnLCB7XG4gICAgICAgIHNjb3BlOiAkc2NvcGUsXG4gICAgICAgIGhhcmR3YXJlQmFja0J1dHRvbkNsb3NlOiB0cnVlLFxuICAgICAgICBhbmltYXRpb246ICdub25lJyxcbiAgICAgICAgLy9mb2N1c0ZpcnN0SW5wdXQ6IHRydWVcbiAgICAgIH0pLnRoZW4oZnVuY3Rpb24obW9kYWwpIHtcbiAgICAgICAgICAkc2NvcGUuaXRlbV9tb2RhbCA9IG1vZGFsO1xuICAgICAgICAgICRzY29wZS5pdGVtX21vZGFsLnNob3coKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgICRzY29wZS5jbGlja1RpcG9SZXNpZHVvID0gZnVuY3Rpb24oaWQpe1xuICAgICAgJHNjb3BlLnNjcm9sbE1lKGlkKTtcbiAgICB9XG5cbiAgICAkc2NvcGUub3BlbkNsYXNpZmljYXIgPSBmdW5jdGlvbigpe1xuICAgICAgJHNjb3BlLm1haW5fbWVudV9tb2RhbC5oaWRlKCk7XG4gICAgICAkc2NvcGUubWFpbl9tZW51X21vZGFsLnJlbW92ZSgpO1xuICAgICAgJGlvbmljTW9kYWwuZnJvbVRlbXBsYXRlVXJsKCd0ZW1wbGF0ZXMvY2xhc2lmaWNhci5odG1sJywge1xuICAgICAgICBzY29wZTogJHNjb3BlLFxuICAgICAgICBoYXJkd2FyZUJhY2tCdXR0b25DbG9zZTogdHJ1ZSxcbiAgICAgICAgYW5pbWF0aW9uOiAnbm9uZScsXG4gICAgICAgIC8vZm9jdXNGaXJzdElucHV0OiB0cnVlXG4gICAgICB9KS50aGVuKGZ1bmN0aW9uKG1vZGFsKSB7XG4gICAgICAgICAgJHNjb3BlLml0ZW1fbW9kYWwgPSBtb2RhbDtcbiAgICAgICAgICAkc2NvcGUuaXRlbV9tb2RhbC5zaG93KCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAkc2NvcGUub3BlbkFib3V0UHJveWVjdCA9IGZ1bmN0aW9uKCl7XG4gICAgICAkc2NvcGUubWFpbl9tZW51X21vZGFsLmhpZGUoKTtcbiAgICAgICRzY29wZS5tYWluX21lbnVfbW9kYWwucmVtb3ZlKCk7XG4gICAgICAkaW9uaWNNb2RhbC5mcm9tVGVtcGxhdGVVcmwoJ3RlbXBsYXRlcy9zb2JyZV9wcm95ZWN0by5odG1sJywge1xuICAgICAgICBzY29wZTogJHNjb3BlLFxuICAgICAgICBoYXJkd2FyZUJhY2tCdXR0b25DbG9zZTogdHJ1ZSxcbiAgICAgICAgYW5pbWF0aW9uOiAnbm9uZScsXG4gICAgICAgIC8vZm9jdXNGaXJzdElucHV0OiB0cnVlXG4gICAgICB9KS50aGVuKGZ1bmN0aW9uKG1vZGFsKSB7XG4gICAgICAgICAgJHNjb3BlLml0ZW1fbW9kYWwgPSBtb2RhbDtcbiAgICAgICAgICAkc2NvcGUuaXRlbV9tb2RhbC5zaG93KCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAkc2NvcGUubmV3cyA9IG51bGw7XG5cbiAgICAkc2NvcGUuZ290b0xpbmsgPSBmdW5jdGlvbiAodXJsKSB7XG4gICAgICB3aW5kb3cub3Blbih1cmwsJ19zeXN0ZW0nKTtcbiAgICB9XG5cbiAgICAkc2NvcGUub3Blbk5ld3MgPSBmdW5jdGlvbigpe1xuICAgICAgJHNjb3BlLnNob3dEaXYoXCJtZW51LXNwaW5uZXJcIik7XG4gICAgICBOZXdzU2VydmljZS5hbGwoKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAkc2NvcGUubmV3cyA9IHJlc3BvbnNlLmRhdGEuaXRlbXM7XG4gICAgICAgIGlmKCRzY29wZS5pdGVtX21vZGFsIT1udWxsKXtcbiAgICAgICAgICAkc2NvcGUuaXRlbV9tb2RhbC5oaWRlKCk7XG4gICAgICAgICAgJHNjb3BlLml0ZW1fbW9kYWwucmVtb3ZlKCk7XG4gICAgICAgIH1cbiAgICAgICAgJHNjb3BlLmhpZGVEaXYoXCJtZW51LXNwaW5uZXJcIik7XG4gICAgICAgICRzY29wZS5tYWluX21lbnVfbW9kYWwuaGlkZSgpO1xuICAgICAgICAkc2NvcGUubWFpbl9tZW51X21vZGFsLnJlbW92ZSgpO1xuICAgICAgICAkaW9uaWNNb2RhbC5mcm9tVGVtcGxhdGVVcmwoJ3RlbXBsYXRlcy9uZXdzLmh0bWwnLCB7XG4gICAgICAgICAgc2NvcGU6ICRzY29wZSxcbiAgICAgICAgICBoYXJkd2FyZUJhY2tCdXR0b25DbG9zZTogdHJ1ZSxcbiAgICAgICAgICBhbmltYXRpb246ICdub25lJyxcbiAgICAgICAgICAvL2ZvY3VzRmlyc3RJbnB1dDogdHJ1ZVxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKG1vZGFsKSB7XG4gICAgICAgICAgICAkc2NvcGUuaXRlbV9tb2RhbCA9IG1vZGFsO1xuICAgICAgICAgICAgJHNjb3BlLml0ZW1fbW9kYWwuc2hvdygpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgICRzY29wZS5zaG93RGl2ID0gZnVuY3Rpb24oZGl2SWQpe1xuICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGRpdklkKTtcbiAgICAgIGRpdi5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpO1xuICAgIH1cblxuICAgICRzY29wZS5oaWRlRGl2ID0gZnVuY3Rpb24oZGl2SWQsIGRpdkNsYXNzKXtcbiAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChkaXZJZCk7XG4gICAgICBkaXYuY2xhc3NOYW1lID0gZGl2LmNsYXNzTmFtZSArIFwiIGhpZGRlblwiO1xuICAgIH1cblxuICAgICRzY29wZS5vcGVuQ29udGFjdCA9IGZ1bmN0aW9uKCl7XG4gICAgICAkc2NvcGUuc3ViamVjdCA9IFwiRmVlZGJhY2tcIjtcbiAgICAgIGlmKCRzY29wZS5pdGVtX21vZGFsIT1udWxsKXtcbiAgICAgICAgJHNjb3BlLml0ZW1fbW9kYWwuaGlkZSgpO1xuICAgICAgICAkc2NvcGUuaXRlbV9tb2RhbC5yZW1vdmUoKTtcbiAgICAgIH1cbiAgICAgICRzY29wZS5tYWluX21lbnVfbW9kYWwuaGlkZSgpO1xuICAgICAgJHNjb3BlLm1haW5fbWVudV9tb2RhbC5yZW1vdmUoKTtcbiAgICAgICRpb25pY01vZGFsLmZyb21UZW1wbGF0ZVVybCgndGVtcGxhdGVzL2NvbnRhY3QuaHRtbCcsIHtcbiAgICAgICAgc2NvcGU6ICRzY29wZSxcbiAgICAgICAgaGFyZHdhcmVCYWNrQnV0dG9uQ2xvc2U6IHRydWUsXG4gICAgICAgIGFuaW1hdGlvbjogJ25vbmUnLFxuICAgICAgICAvL2ZvY3VzRmlyc3RJbnB1dDogdHJ1ZVxuICAgICAgfSkudGhlbihmdW5jdGlvbihtb2RhbCkge1xuICAgICAgICAgICRzY29wZS5pdGVtX21vZGFsID0gbW9kYWw7XG4gICAgICAgICAgJHNjb3BlLml0ZW1fbW9kYWwuc2hvdygpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgJHNjb3BlLm9wZW5Db250YWN0U3VjY2VzcyA9IGZ1bmN0aW9uKCl7XG4gICAgICAkc2NvcGUuaXRlbV9tb2RhbC5oaWRlKCk7XG4gICAgICAkc2NvcGUuaXRlbV9tb2RhbC5yZW1vdmUoKTtcbiAgICAgICRpb25pY01vZGFsLmZyb21UZW1wbGF0ZVVybCgndGVtcGxhdGVzL2NvbnRhY3Rfc3VjY2Vzcy5odG1sJywge1xuICAgICAgICBzY29wZTogJHNjb3BlLFxuICAgICAgICBoYXJkd2FyZUJhY2tCdXR0b25DbG9zZTogdHJ1ZSxcbiAgICAgICAgYW5pbWF0aW9uOiAnbm9uZScsXG4gICAgICB9KS50aGVuKGZ1bmN0aW9uKG1vZGFsKSB7XG4gICAgICAgICAgJHNjb3BlLml0ZW1fbW9kYWwgPSBtb2RhbDtcbiAgICAgICAgICAkc2NvcGUuaXRlbV9tb2RhbC5zaG93KCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAkc2NvcGUuc2VuZF9jb250YWN0X3JlcXVlc3QgPSBmdW5jdGlvbigpe1xuICAgICAgdmFyIG5hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbnRhY3Rfbm9tYnJlXCIpO1xuICAgICAgdmFyIGVtYWlsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb250YWN0X2VtYWlsXCIpO1xuICAgICAgdmFyIHN1YmplY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbnRhY3Rfc2VsZWN0XCIpO1xuICAgICAgdmFyIG1lc3NhZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbnRhY3RfbWVuc2FqZVwiKTtcbiAgICAgIHZhciBlcnJvckxhYmVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb250YWN0X2Vycm9yX2xhYmVsXCIpO1xuICAgICAgaWYoRXJyb3JTZXJ2aWNlLmNoZWNrX2ZpZWxkKG5hbWUsXCJub3ROdWxsXCIsZXJyb3JMYWJlbCkmJlxuICAgICAgICBFcnJvclNlcnZpY2UuY2hlY2tfZmllbGQoZW1haWwsXCJub3ROdWxsXCIsZXJyb3JMYWJlbCkmJlxuICAgICAgICBFcnJvclNlcnZpY2UuY2hlY2tfZmllbGQoZW1haWwsXCJlbWFpbFwiLGVycm9yTGFiZWwpJiZcbiAgICAgICAgRXJyb3JTZXJ2aWNlLmNoZWNrX2ZpZWxkKHN1YmplY3QsXCJzZWxlY3RcIixlcnJvckxhYmVsKSYmXG4gICAgICAgIEVycm9yU2VydmljZS5jaGVja19maWVsZChtZXNzYWdlLFwibm90TnVsbFwiLGVycm9yTGFiZWwpKXtcbiAgICAgICAgQ29udGFjdFNlcnZpY2Uuc2VuZF9jb250YWN0KG5hbWUudmFsdWUsZW1haWwudmFsdWUsc3ViamVjdFtzdWJqZWN0LnNlbGVjdGVkSW5kZXhdLnZhbHVlLG1lc3NhZ2UudmFsdWUpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgaWYoRXJyb3JTZXJ2aWNlLmh0dHBfZGF0YV9yZXNwb25zZV9pc19zdWNjZXNzZnVsX2FqYXgocmVzcG9uc2UpKXtcbiAgICAgICAgICAgICRzY29wZS5vcGVuQ29udGFjdFN1Y2Nlc3MoKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgIH1lbHNle1xuICAgICAgICB2YXIgZXJyb3JDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbnRhY3RfZXJyb3JcIik7XG4gICAgICAgIGVycm9yQ29udGFpbmVyLmNsYXNzTmFtZSA9IFwiY29udGFjdF9lcnJvclwiO1xuICAgICAgfVxuICAgIH1cblxuICAgICRzY29wZS5vcGVuTWFpbk1lbnVGcm9tSXRlbSA9IGZ1bmN0aW9uKCl7XG4gICAgICAkc2NvcGUuaXRlbV9tb2RhbC5oaWRlKCk7XG4gICAgICAkc2NvcGUuaXRlbV9tb2RhbC5yZW1vdmUoKTtcbiAgICAgICRpb25pY01vZGFsLmZyb21UZW1wbGF0ZVVybCgndGVtcGxhdGVzL21haW5fbWVudS5odG1sJywge1xuICAgICAgICBzY29wZTogJHNjb3BlLFxuICAgICAgICBoYXJkd2FyZUJhY2tCdXR0b25DbG9zZTogdHJ1ZSxcbiAgICAgICAgYW5pbWF0aW9uOiAnbm9uZScsXG4gICAgICAgIC8vZm9jdXNGaXJzdElucHV0OiB0cnVlXG4gICAgICB9KS50aGVuKGZ1bmN0aW9uKG1vZGFsKSB7XG4gICAgICAgICAgJHNjb3BlLm1haW5fbWVudV9tb2RhbCA9IG1vZGFsO1xuICAgICAgICAgICRzY29wZS5tYWluX21lbnVfbW9kYWwuc2hvdygpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgJHNjb3BlLm9wZW5NYWluTWVudSA9IGZ1bmN0aW9uKCl7XG4gICAgICAkaW9uaWNNb2RhbC5mcm9tVGVtcGxhdGVVcmwoJ3RlbXBsYXRlcy9tYWluX21lbnUuaHRtbCcsIHtcbiAgICAgICAgc2NvcGU6ICRzY29wZSxcbiAgICAgICAgaGFyZHdhcmVCYWNrQnV0dG9uQ2xvc2U6IHRydWUsXG4gICAgICAgIGFuaW1hdGlvbjogJ25vbmUnLFxuICAgICAgICAvL2ZvY3VzRmlyc3RJbnB1dDogdHJ1ZVxuICAgICAgfSkudGhlbihmdW5jdGlvbihtb2RhbCkge1xuICAgICAgICAgICRzY29wZS5tYWluX21lbnVfbW9kYWwgPSBtb2RhbDtcbiAgICAgICAgICAkc2NvcGUubWFpbl9tZW51X21vZGFsLnNob3coKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgICRzY29wZS5jbG9zZU1haW5NZW51ID0gZnVuY3Rpb24oKXtcbiAgICAgICRzY29wZS5tYWluX21lbnVfbW9kYWwuaGlkZSgpO1xuICAgICAgJHNjb3BlLm1haW5fbWVudV9tb2RhbC5yZW1vdmUoKTtcbiAgICB9XG5cbiAgICAkc2NvcGUuZ2V0Um9hZCA9IGZ1bmN0aW9uKExhdEZyb20sTG9uZ0Zyb20sbGF0VG8sbG9uZ1RvKXtcbiAgICAgIGxlYWZsZXREYXRhLmdldE1hcCgpLnRoZW4oZnVuY3Rpb24obWFwKSB7XG4gICAgICAgIG1hcC5jbG9zZVBvcHVwKCk7XG4gICAgICAgIHZhciBtYXJrZXJJY29uID0gTC5pY29uKHtcbiAgICAgICAgICBpY29uVXJsOiBcIi4vaW1nL21lLnN2Z1wiLFxuICAgICAgICAgIGljb25TaXplOiBbMjksIDM0XSxcbiAgICAgICAgICBpY29uQW5jaG9yOiBbOCwgOF0sXG4gICAgICAgICAgcG9wdXBBbmNob3I6IFswLCAtOF1cbiAgICAgICAgfSk7XG4gICAgICAgIGlmKCRzY29wZS5ub3dfbWFya2VyIT1udWxsKXtcbiAgICAgICAgICBtYXAucmVtb3ZlTGF5ZXIoJHNjb3BlLm5vd19tYXJrZXIpO1xuICAgICAgICB9XG4gICAgICAgICRzY29wZS5ub3dfbWFya2VyID0gTC5tYXJrZXIoW0xhdEZyb20sIExvbmdGcm9tXSwge2ljb246IG1hcmtlckljb259KS5hZGRUbyhtYXApO1xuICAgICAgICBpZigkc2NvcGUubGFzdFJvYWQhPW51bGwpe1xuICAgICAgICAgICRzY29wZS5sYXN0Um9hZC5zcGxpY2VXYXlwb2ludHMoMCwgMik7XG4gICAgICAgICAgbWFwLnJlbW92ZUNvbnRyb2woJHNjb3BlLmxhc3RSb2FkKVxuICAgICAgICAgICRzY29wZS5sYXN0Um9hZD1udWxsO1xuICAgICAgICB9XG4gICAgICAgICRzY29wZS5sYXN0Um9hZCA9IEwuUm91dGluZy5jb250cm9sKHtcbiAgICAgICAgICB3YXlwb2ludHM6IFtcbiAgICAgICAgICAgIEwubGF0TG5nKExhdEZyb20sTG9uZ0Zyb20pLFxuICAgICAgICAgICAgTC5sYXRMbmcobGF0VG8sbG9uZ1RvKVxuICAgICAgICAgIF0sXG4gICAgICAgICAgbGFuZ3VhZ2U6XCJlc1wiLFxuICAgICAgICAgIHJvdXRlcjogTC5Sb3V0aW5nLm1hcGJveCgncGsuZXlKMUlqb2liR2wwYjNod1pYSmhiRzlqWVNJc0ltRWlPaUpqYWpOaGRIVXpiVE13TVRRd01uRndhR1JpZG1jMmVtWjVJbjAuZEVENEQ0X0xCalJjLXNHYTV6dDVZZycpLFxuICAgICAgICAgIGNyZWF0ZU1hcmtlcjogZnVuY3Rpb24gKGksIHN0YXJ0LCBuKXtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgbGluZU9wdGlvbnM6IHtcbiAgICAgICAgICAgICBzdHlsZXM6IFt7Y29sb3I6ICcjNGM0YzRjJywgb3BhY2l0eTogMSwgd2VpZ2h0OiA1fV1cbiAgICAgICAgICB9LFxuICAgICAgICAgIGZpdFNlbGVjdGVkUm91dGVzOiBmYWxzZVxuICAgICAgICB9KS5hZGRUbyhtYXApO1xuICAgICAgICAvL01vdmUgYSBsaXR0bGUgdGhlIG1hcCBjZW50ZXIgYmVjYXVzZSB0aGUgbWFwIHZpZXcgaXMgc21hbGxlciAocmVwb3J0IGxpc3QgaXMgZGlzcGxheWVkKVxuICAgICAgICBsYXRUbyA9IGxhdFRvIC0gMC4wMDA4O1xuICAgICAgICBNYXBTZXJ2aWNlLmNlbnRlck1hcE9uQ29vcmRzKGxhdFRvLGxvbmdUbywxNyk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBTdWdnZXN0aW9uXG4gICAgJHNjb3BlLm1vZGVsID0gW107XG4gICAgJHNjb3BlLmV4dGVybmFsTW9kZWwgPSBbXTtcbiAgICAkc2NvcGUuc2VsZWN0ZWRJdGVtcyA9IFtdO1xuICAgICRzY29wZS5wcmVzZWxlY3RlZFNlYXJjaEl0ZW1zID0gW107XG4gICAgJHNjb3BlLmNsaWNrZWRWYWx1ZU1vZGVsID0gXCJcIjtcbiAgICAkc2NvcGUucmVtb3ZlZFZhbHVlTW9kZWwgPSBcIlwiO1xuXG4gICAgJHNjb3BlLml0ZW1zUmVtb3ZlZCA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgICAkc2NvcGUucmVtb3ZlZFZhbHVlTW9kZWwgPSBjYWxsYmFjaztcbiAgICB9O1xuXG4gICAgJHNjb3BlLnVzZXJfb3B0aW9ucyA9IGZ1bmN0aW9uKCl7XG4gICAgICB2YXIgbWVudSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidXNlci1vcHRpb25zLW1lbnVcIik7XG4gICAgICBpZihtZW51LnN0eWxlLmRpc3BsYXk9PVwiYmxvY2tcIil7XG4gICAgICAgIG1lbnUuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgfWVsc2V7XG4gICAgICAgIHZhciBuYW1lID0gVXNlclNlcnZpY2UubmFtZTtcbiAgICAgICAgaWYobmFtZT09bnVsbCl7XG4gICAgICAgICAgLy9ObyBlc3RhIGxvZ3VlYWRvXG4gICAgICAgICAgJHNjb3BlLnNob3dfYW5vbnltb3VzX21lbnUoKTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgLy9Fc3TDoSBsb2d1ZWFkb1xuICAgICAgICAgICRzY29wZS5zaG93X3VzZXJfbWVudSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgJHNjb3BlLnNob3dfYW5vbnltb3VzX21lbnUgPSBmdW5jdGlvbigpe1xuICAgICAgdmFyIG1lbnUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInVzZXItb3B0aW9ucy1tZW51XCIpO1xuICAgICAgdmFyIGh0bWwgPSBcIjxkaXYgaWQ9J2F1dGhfb3B0aW9ucyc+PGRpdiBjbGFzcz0nbm9uYXV0aC1saW5rJyBuZy1jbGljaz0nc2hvd19sb2dpbl9tb2RhbCgpJz5JbmljaWFyIHNlc2nDs248L2Rpdj5cIjtcbiAgICAgIGh0bWwgPSBodG1sICsgXCI8ZGl2IGNsYXNzPSdub25hdXRoLWxpbmsnIG5nLWNsaWNrPSdzaG93X3NpZ25fdXBfbW9kYWwoKSc+UmVnaXN0cmFyc2U8L2Rpdj48L2Rpdj5cIjtcbiAgICAgIG1lbnUuaW5uZXJIVE1MID0gaHRtbDtcbiAgICAgICRjb21waWxlKG1lbnUpKCRzY29wZSk7IC8vPC0tLS0gcmVjb21waWxhdGlvblxuICAgICAgbWVudS5zdHlsZS5oZWlnaHQgPSAnMTIwcHgnO1xuICAgICAgbWVudS5zdHlsZS53aWR0aCA9ICcxNTBweCc7XG4gICAgICBtZW51LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgfVxuXG4gICAgJHNjb3BlLnNob3dfdXNlcl9tZW51ID0gZnVuY3Rpb24oKXtcbiAgICAgIHZhciBtZW51ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ1c2VyLW9wdGlvbnMtbWVudVwiKTtcbiAgICAgIHZhciBodG1sID0gVXNlclNlcnZpY2UubmFtZSArIFwiPGRpdiBpZD0nYXV0aF9vcHRpb25zJz48ZGl2IGNsYXNzPSd1c2VyLWxvZ2dlZC1saW5rJyBuZy1jbGljaz0nc2hvd19lZGl0X3Byb2ZpbGVfbW9kYWwoKSc+TWkgcGVyZmlsPC9kaXY+XCI7XG4gICAgICBodG1sID0gaHRtbCArIFwiPGRpdiBjbGFzcz0ndXNlci1sb2dnZWQtbGluaycgbmctY2xpY2s9J2xpc3Rfb2ZmbGluZV9yZXBvcnRzX21lbnUoKSc+UmVwb3J0ZXMgcGVuZGllbnRlczwvZGl2PlwiO1xuICAgICAgaHRtbCA9IGh0bWwgKyBcIjxkaXYgY2xhc3M9J3VzZXItbG9nZ2VkLWxpbmsnIG5nLWNsaWNrPSdzaWduX291dCgpJz5DZXJyYXIgc2VzacOzbjwvZGl2PjwvZGl2PlwiO1xuICAgICAgbWVudS5pbm5lckhUTUwgPSBodG1sO1xuICAgICAgJGNvbXBpbGUobWVudSkoJHNjb3BlKTsgLy88LS0tLSByZWNvbXBpbGF0aW9uXG4gICAgICBtZW51LnN0eWxlLmhlaWdodCA9ICcxNjBweCc7XG4gICAgICBtZW51LnN0eWxlLndpZHRoID0gJzIwMHB4JztcbiAgICAgIG1lbnUuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICB9O1xuXG4gICAgJHNjb3BlLmNyZWF0ZV9maWVsZF9hcnJheSA9IGZ1bmN0aW9uKG5hbWUsdHlwZSx2YWx1ZSl7XG4gICAgICB2YXIgZmllbGQgPSBuZXcgQXJyYXkoKTtcbiAgICAgIGZpZWxkLm5hbWUgPSBuYW1lO1xuICAgICAgZmllbGQudHlwZSA9IHR5cGU7XG4gICAgICBmaWVsZC52YWx1ZSA9IHZhbHVlO1xuICAgICAgcmV0dXJuIGZpZWxkO1xuICAgIH07XG5cbiAgICAkc2NvcGUuc2lnbl9pbiA9IGZ1bmN0aW9uKGVtYWlsLCBwYXNzd29yZCl7XG4gICAgICBpZihDb25uZWN0aXZpdHlTZXJ2aWNlLmlzT25saW5lKCkpe1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXItaW5zaWRlLW1vZGFsXCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgIHZhciBmaWVsZHMgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgZmllbGRzLnB1c2goJHNjb3BlLmNyZWF0ZV9maWVsZF9hcnJheShcIkVtYWlsXCIsXCJlbWFpbFwiLGVtYWlsKSk7XG4gICAgICAgIGZpZWxkcy5wdXNoKCRzY29wZS5jcmVhdGVfZmllbGRfYXJyYXkoXCJDb250cmFzZcOxYVwiLFwibm90TnVsbFwiLHBhc3N3b3JkKSk7XG4gICAgICAgIGlmKEVycm9yU2VydmljZS5jaGVja19maWVsZHMoZmllbGRzLFwiZXJyb3JfY29udGFpbmVyXCIpKXtcbiAgICAgICAgICBBdXRoU2VydmljZS5zaWduX2luKHBhc3N3b3JkLCBlbWFpbCkudGhlbihmdW5jdGlvbihyZXNwKSB7XG4gICAgICAgICAgICBpZihFcnJvclNlcnZpY2UuaHR0cF9yZXNwb25zZV9pc19zdWNjZXNzZnVsKHJlc3AsXCJlcnJvcl9jb250YWluZXJcIikpe1xuICAgICAgICAgICAgICBVc2VyU2VydmljZS5zYXZlX3VzZXJfZGF0YShyZXNwLmRhdGEubmFtZSwgZW1haWwsIHBhc3N3b3JkLCByZXNwLmRhdGEuaWRlbnRpdHlfZG9jdW1lbnQsIHJlc3AuZGF0YS5waG9uZSwgcmVzcC5kYXRhLnBpY3R1cmVfdXJsKTtcbiAgICAgICAgICAgICAgREJTZXJ2aWNlLnNhdmVVc2VyKHJlc3AuZGF0YS5uYW1lLGVtYWlsLHBhc3N3b3JkLHJlc3AuZGF0YS5pZGVudGl0eV9kb2N1bWVudCxyZXNwLmRhdGEucGhvbmUscmVzcC5kYXRhLnBpY3R1cmVfdXJsKTtcbiAgICAgICAgICAgICAgLy8kc2NvcGUuc2V0X3VzZXJfcGljdHVyZSgxKTtcbiAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyLWluc2lkZS1tb2RhbFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICAgICRzY29wZS5jbG9zZV9sb2dpbl9tb2RhbCgpO1xuICAgICAgICAgICAgICAvLyRzY29wZS5jaGVja191c2VyX2xvZ2dlZCgpO1xuICAgICAgICAgICAgICAkc2NvcGUuc2V0X3VzZXJfcGljdHVyZSgxKTtcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXItaW5zaWRlLW1vZGFsXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCBmdW5jdGlvbihyZXNwKSB7XG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICAvL2FsZXJ0KFwiRXJyb3IgZW4gc2lnbl9pblwiKTtcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lci1pbnNpZGUtbW9kYWxcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgRXJyb3JTZXJ2aWNlLnNob3dfZXJyb3JfbWVzc2FnZShcImVycm9yX2NvbnRhaW5lclwiLHJlc3Auc3RhdHVzVGV4dCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3Bpbm5lci1pbnNpZGUtbW9kYWxcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICB9XG5cbiAgICAgIH1lbHNle1xuICAgICAgICBQb3BVcFNlcnZpY2Uuc2hvd19hbGVydChcIlNpbiBjb25leGnDs24gYSBpbnRlcm5ldFwiLFwiUGFyYSBpbmljaWFyIHNlc2nDs24gZGViZSBlc3RhciBjb25lY3RhZG8gYSBpbnRlcm5ldFwiKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAkc2NvcGUuc2lnbl9pbl9hamF4ID0gZnVuY3Rpb24oZW1haWwsIHBhc3N3b3JkKXtcbiAgICAgIEF1dGhTZXJ2aWNlLnNpZ25faW4ocGFzc3dvcmQsIGVtYWlsKS50aGVuKGZ1bmN0aW9uKHJlc3ApIHtcbiAgICAgICAgaWYoRXJyb3JTZXJ2aWNlLmh0dHBfcmVzcG9uc2VfaXNfc3VjY2Vzc2Z1bF9hamF4KHJlc3ApKXtcbiAgICAgICAgICBVc2VyU2VydmljZS5zYXZlX3VzZXJfZGF0YShyZXNwLmRhdGEubmFtZSwgZW1haWwsIHBhc3N3b3JkLCByZXNwLmRhdGEuaWRlbnRpdHlfZG9jdW1lbnQsIHJlc3AuZGF0YS5waG9uZSwgcmVzcC5kYXRhLnBpY3R1cmVfdXJsKTtcbiAgICAgICAgICBEQlNlcnZpY2Uuc2F2ZVVzZXIocmVzcC5kYXRhLm5hbWUsZW1haWwscGFzc3dvcmQscmVzcC5kYXRhLmlkZW50aXR5X2RvY3VtZW50LHJlc3AuZGF0YS5waG9uZSxyZXNwLmRhdGEucGljdHVyZV91cmwpO1xuICAgICAgICAgICRzY29wZS5zZXRfdXNlcl9waWN0dXJlKDEpO1xuICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuXG4gICAgICB9LCBmdW5jdGlvbihyZXNwKSB7XG4gICAgICAgIC8vY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgLy9FcnJvclNlcnZpY2Uuc2hvd19lcnJvcl9tZXNzYWdlX3BvcHVwKHJlc3Auc3RhdHVzVGV4dCk7XG4gICAgICAgIHJldHVybiAwO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgJHNjb3BlLnNpZ25fb3V0ID0gZnVuY3Rpb24oKXtcbiAgICAgIFVzZXJTZXJ2aWNlLmVyYXNlX3VzZXJfZGF0YSgpO1xuICAgICAgREJTZXJ2aWNlLmVyYXNlVXNlcigpO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzcGlubmVyXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICRzY29wZS5zZXRfdXNlcl9waWN0dXJlKDApO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ1c2VyLW9wdGlvbnMtbWVudVwiKS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiO1xuICAgIH1cblxuXG4gICAgJHNjb3BlLmNoZWNrX3VzZXJfbG9nZ2VkID0gZnVuY3Rpb24oKXtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAkc2NvcGUuc2V0X29mZmxpbmVfdXNlciA9IGZ1bmN0aW9uKCl7XG4gICAgfVxuXG5cblxuICAgICRzY29wZS5zZXRfdXNlcl9waWN0dXJlID0gZnVuY3Rpb24oaGFzUGhvdG8pe1xuICAgIH1cblxuICAgICRzY29wZS5zZWFyY2hfc3RyZWV0ID0gZnVuY3Rpb24oKXtcbiAgICAgICRzY29wZS5oaWRlX3NwZWNpYWxfZGl2cygpO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzZWFyY2gtdGV4dGJveFwiKS5wYXJlbnROb2RlLmNsaWNrKCk7XG4gICAgfVxuXG4gICAgJHNjb3BlLmZpbmRfbWUgPSBmdW5jdGlvbigpe1xuICAgICAgICAkc2NvcGUuc2V0X2FjdGl2ZV9vcHRpb24oXCJidXR0b24tZmluZC1tZVwiKTtcbiAgICAgICAgJHNjb3BlLmhpZGVfc3BlY2lhbF9kaXZzKCk7XG4gICAgICAgIHZhciBwb3NPcHRpb25zID0ge3RpbWVvdXQ6IDMwMDAsIGVuYWJsZUhpZ2hBY2N1cmFjeTogdHJ1ZX07XG4gICAgICAgICRjb3Jkb3ZhR2VvbG9jYXRpb25cbiAgICAgICAgICAuZ2V0Q3VycmVudFBvc2l0aW9uKHBvc09wdGlvbnMpXG4gICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHBvc2l0aW9uKSB7XG4gICAgICAgICAgICAgICAgLyokc2NvcGUubWFwLmNlbnRlci5sYXQgID0gcG9zaXRpb24uY29vcmRzLmxhdGl0dWRlO1xuICAgICAgICAgICAgICAgICRzY29wZS5tYXAuY2VudGVyLmxuZyA9IHBvc2l0aW9uLmNvb3Jkcy5sb25naXR1ZGU7XG4gICAgICAgICAgICAgICAgTG9jYXRpb25zU2VydmljZS5zYXZlX25ld19yZXBvcnRfcG9zaXRpb24ocG9zaXRpb24uY29vcmRzLmxhdGl0dWRlLHBvc2l0aW9uLmNvb3Jkcy5sb25naXR1ZGUpOyovXG4gICAgICAgICAgICAgICAgdmFyIHpvb20gPSAxODtcbiAgICAgICAgICAgICAgICB2YXIgbWFya2VySWNvbiA9IEwuaWNvbih7XG4gICAgICAgICAgICAgICAgICBpY29uVXJsOiBcIi4vaW1nL21lLnN2Z1wiLFxuICAgICAgICAgICAgICAgICAgaWNvblNpemU6IFsyOSwgMzRdLFxuICAgICAgICAgICAgICAgICAgaWNvbkFuY2hvcjogWzgsIDhdLFxuICAgICAgICAgICAgICAgICAgcG9wdXBBbmNob3I6IFswLCAtOF1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGxlYWZsZXREYXRhLmdldE1hcCgpLnRoZW4oZnVuY3Rpb24obWFwKSB7XG4gICAgICAgICAgICAgICAgICBpZigkc2NvcGUubm93X21hcmtlciE9bnVsbCl7XG4gICAgICAgICAgICAgICAgICAgIG1hcC5yZW1vdmVMYXllcigkc2NvcGUubm93X21hcmtlcik7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAkc2NvcGUubm93X21hcmtlciA9IEwubWFya2VyKFtwb3NpdGlvbi5jb29yZHMubGF0aXR1ZGUsIHBvc2l0aW9uLmNvb3Jkcy5sb25naXR1ZGVdLCB7aWNvbjogbWFya2VySWNvbn0pLmFkZFRvKG1hcCk7XG4gICAgICAgICAgICAgICAgICBNYXBTZXJ2aWNlLmNlbnRlck1hcE9uQ29vcmRzKHBvc2l0aW9uLmNvb3Jkcy5sYXRpdHVkZSxwb3NpdGlvbi5jb29yZHMubG9uZ2l0dWRlLHpvb20pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgICAgICAvL0Vycm9yU2VydmljZS5zaG93X2Vycm9yX21lc3NhZ2VfcG9wdXAoXCJObyBoZW1vcyBwb2RpZG8gZ2VvbG9jYWxpemFybG8uIMK/VGFsIHZleiBvbHZpZMOzIGhhYmlsaXRhciBsb3Mgc2VydmljaW9zIGRlIGxvY2FsaXphY2nDs24gZW4gc3UgZGlzcG9zaXRpdm8/XCIpXG4gICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgfTtcblxuICAgICAgdmFyIExvY2F0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICggISh0aGlzIGluc3RhbmNlb2YgTG9jYXRpb24pICkgcmV0dXJuIG5ldyBMb2NhdGlvbigpO1xuICAgICAgICB0aGlzLmxhdCAgPSBcIlwiO1xuICAgICAgICB0aGlzLmxuZyAgPSBcIlwiO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIlwiO1xuICAgICAgfTtcblxuICB9XG5dKTtcbiIsInBtYl9pbS5jb250cm9sbGVycy5jb250cm9sbGVyKCdQTUJDdHJsJyxcblsnJHNjb3BlJyxcbickc3RhdGUnLFxuJ2xlYWZsZXREYXRhJyxcbidQTUJTZXJ2aWNlJyxcbidDb250YWluZXJTZXJ2aWNlJyxcbidsb2NhdGlvbkFQSScsXG4nTWFwU2VydmljZScsXG4nXycsXG4nTG9hZGVyJyxcbidMb2NhdGlvbnNTZXJ2aWNlJyxcbmZ1bmN0aW9uKCRzY29wZSxcbiAgJHN0YXRlLFxuICBsZWFmbGV0RGF0YSxcbiAgUE1CU2VydmljZSxcbiAgQ29udGFpbmVyU2VydmljZSxcbiAgbG9jYXRpb25BUEksXG4gIE1hcFNlcnZpY2UsXG4gIF8sXG4gIExvYWRlcixcbiAgTG9jYXRpb25zU2VydmljZSkge1xuICAkc2NvcGUucmVwb3J0QnV0dG9uID0ge1xuICAgIHRleHQ6IFwiUmVwb3J0YXJcIixcbiAgICBzdGF0ZTogXCJ1bkNvbmZpcm1lZFwiXG4gIH07XG5cbiAgLy8kc2NvcGUuJG9uKCckaW9uaWNWaWV3LmFmdGVyRW50ZXInLCBmdW5jdGlvbigpeyAvL1RoaXMgaXMgZmlyZWQgdHdpY2UgaW4gYSByb3dcbiAgJHNjb3BlLiRvbihcIiRpb25pY1ZpZXcuYWZ0ZXJFbnRlclwiLCBmdW5jdGlvbigpIHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNwaW5uZXJcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIHZhciBtYXAgPSBsZWFmbGV0RGF0YS5nZXRNYXAoKTtcbiAgICBpZihMb2NhdGlvbnNTZXJ2aWNlLmluaXRpYWxfbGF0IT1cIlwiKXtcbiAgICAgIE1hcFNlcnZpY2UuY2VudGVyTWFwT25Db29yZHMoTG9jYXRpb25zU2VydmljZS5pbml0aWFsX2xhdCwgTG9jYXRpb25zU2VydmljZS5pbml0aWFsX2xuZywgMTgpO1xuICAgIH1lbHNle1xuICAgICAgTWFwU2VydmljZS5jZW50ZXJNYXBPbkNvb3JkcygtMzQuOTAxMTEzLCAtNTYuMTY0NTMxLCAxNik7XG4gICAgfVxuICB9KTtcblxuXG4gIC8qKi9cblxuICAkc2NvcGUuc2VhcmNoTW9kZSA9IFwiY2FsbGUubHVnYXJcIjtcbiAgJHNjb3BlLmxvY2F0aW9uID17Y2FsbGU6bnVsbCxlc3F1aW5hOm51bGwsbHVnYXI6bnVsbH07XG5cblxuICAvL0F1dG8gY29tcGxldGVcblxuXG4gIHZhciBsb2NhdGlvbkdlb21QYXJhbXMgPXt0aXBvOm51bGwscGF0aFBhcmFtczpbXX07XG4gICRzY29wZS4kb24oXCIkc3RhdGVDaGFuZ2VTdWNjZXNzXCIsIGZ1bmN0aW9uKCkge1xuICAgICRzY29wZS5pb25BdXRvY29tcGxldGVFbGVtZW50ID0gYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJpb24tYXV0b2NvbXBsZXRlXCIpKTtcbiAgICAvL2NvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KCRzY29wZS5pb25BdXRvY29tcGxldGVFbGVtZW50KSk7XG4gICAgJHNjb3BlLmlvbkF1dG9jb21wbGV0ZUVsZW1lbnQuYmluZCgndG91Y2hlbmQgY2xpY2sgZm9jdXMnLCAkc2NvcGUub25DbGljayk7XG4gIH0pO1xuXG5cbiAgJHNjb3BlLmluaXRSZXBvcnQgPSBmdW5jdGlvbigpIHtcblxuICAgIHZhciBfcGluLCBfcGluSWNvbiA9IEwuaWNvbih7XG4gICAgICBpY29uVXJsOiAnaW1nL3BpbkB4Mi5wbmcnLFxuICAgICAgaWNvblNpemU6IFs3MCwgMTEwXSwgLy8gc2l6ZSBvZiB0aGUgaWNvblxuICAgICAgaWNvbkFuY2hvcjogWy0xOCwgNTVdLCAvLyBwb2ludCBvZiB0aGUgaWNvbiB3aGljaCB3aWxsIGNvcnJlc3BvbmQgdG8gbWFya2VyJ3MgbG9jYXRpb25cbiAgICB9KTtcblxuICAgIGlmICgkc2NvcGUucmVwb3J0QnV0dG9uLnN0YXRlID09IFwidW5Db25maXJtZWRcIikge1xuXG4gICAgICAkc2NvcGUucmVwb3J0QnV0dG9uLnRleHQgPSBcIkNvbmZpcm1hclwiO1xuICAgICAgJHNjb3BlLnJlcG9ydEJ1dHRvbi5zdGF0ZSA9IFwiYWJvdXQyQ29uZmlybVwiO1xuXG5cbiAgICAgIGxlYWZsZXREYXRhLmdldE1hcCgpLnRoZW4oZnVuY3Rpb24obWFwKSB7XG4gICAgICAgIF9waW4gPSBuZXcgTC5tYXJrZXIobWFwLmdldENlbnRlcigpLCB7XG4gICAgICAgICAgaWNvbjogX3Bpbkljb24sXG4gICAgICAgICAgY2xpY2thYmxlOiBmYWxzZVxuICAgICAgICB9KS5hZGRUbyhtYXApO1xuXG4gICAgICAgIFJlcG9ydFNlcnZpY2UuX25ldygpO1xuICAgICAgICBSZXBvcnRTZXJ2aWNlLmN1cnJlbnQuc2V0TGF0TG5nKG1hcC5nZXRDZW50ZXIoKSk7XG4gICAgICAgIC8vY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkoJHNjb3BlLmN1cnJlbnRSZXBvcnQpKTtcblxuICAgICAgICAkc2NvcGUuaW9uQXV0b2NvbXBsZXRlRWxlbWVudCA9IGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiaW9uLWF1dG9jb21wbGV0ZVwiKSk7XG4gICAgICAgICRzY29wZS5pb25BdXRvY29tcGxldGVFbGVtZW50LmJpbmQoJ3RvdWNoZW5kIGNsaWNrIGZvY3VzJywgJHNjb3BlLm9uQ2xpY2spO1xuXG5cbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAvL2NvbnNvbGUubG9nKFwiY3VycmVudFJlcG9ydCA9XCIgKyBKU09OLnN0cmluZ2lmeSgkc2NvcGUuY3VycmVudFJlcG9ydCkpO1xuICAgIH1cblxuICB9O1xuXG4gICRzY29wZS5pc051bWVyaWMgPSBmdW5jdGlvbihuKSB7XG4gICAgcmV0dXJuICFpc05hTihwYXJzZUZsb2F0KG4pKSAmJiBpc0Zpbml0ZShuKTtcbiAgfTtcblxuICAkc2NvcGUuc2VhcmNoTG9jYXRpb24gPSBmdW5jdGlvbihxdWVyeSkge1xuICAgIHZhciBwcm9taXNlU2VhcmNoO1xuICAgIGlmIChxdWVyeSAmJiBxdWVyeS5sZW5ndGg+PTIpIHtcblxuXG4gICAgICBpZiAoJHNjb3BlLnNlYXJjaE1vZGUgPT0gXCJjYWxsZS5sdWdhclwiKSB7XG4gICAgICAgIHByb21pc2VTZWFyY2ggPSBsb2NhdGlvbkFQSS5zZWFyY2hMb2NhdGlvbkJ5U3RyKHF1ZXJ5KTtcblxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy9jb25zb2xlLmxvZyhcImJ1c2NhbmRvIGNhbGxlL1wiKyRzY29wZS5zZWxlY3RlZEl0ZW0uY29kaWdvK1wiZXNxdWluYSA9IFwiICsgcXVlcnkpO1xuICAgICAgICBpZigkc2NvcGUuaXNOdW1lcmljKHF1ZXJ5LnRyaW0oKSkpe1xuICAgICAgICAgIHZhciBpdGVtcyA9IFtdO1xuICAgICAgICAgIHZhciBpdGVtID0ge1wiZGVzY1RpcG9cIjpcIk5VTUVST1wiLFwibm9tYnJlXCI6cXVlcnksXCJjb2RpZ29cIjpxdWVyeX07XG4gICAgICAgICAgaXRlbXNbMF0gPSBpdGVtO1xuICAgICAgICAgIHJldHVybiBpdGVtcztcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgcHJvbWlzZVNlYXJjaCA9IGxvY2F0aW9uQVBJLnNlYXJjaEVzcXVpbmFCeVN0cih7XG4gICAgICAgICAgICBjYWxsZTogJHNjb3BlLnNlbGVjdGVkSXRlbS5jb2RpZ28sXG4gICAgICAgICAgICBlc3F1aW5hOiBxdWVyeVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcHJvbWlzZVNlYXJjaDtcbiAgICB9ZWxzZXtcbiAgICAgICAgICByZXR1cm4gW107XG4gICAgfVxuICB9O1xuXG4gICRzY29wZS5vbkNsaWNrID0gZnVuY3Rpb24oKSB7XG5cbiAgICAkc2NvcGUuaW9uQXV0b2NvbXBsZXRlRWxlbWVudC5jb250cm9sbGVyKCdpb25BdXRvY29tcGxldGUnKS5zaG93TW9kYWwoKTtcblxuICB9O1xuXG4gICRzY29wZS5pdGVtc0NsaWNrZWQgPSBmdW5jdGlvbihjYWxsYmFjaykge1xuXG4gICAgJHNjb3BlLmNsaWNrZWRWYWx1ZU1vZGVsID0gY2FsbGJhY2s7XG4gICAgLy8kc2NvcGUuc2VsZWN0ZWRJdGVtID0gY2FsbGJhY2suc2VsZWN0ZWRJdGVtc1swXTtcbiAgICAkc2NvcGUuc2VsZWN0ZWRJdGVtID0gY2FsbGJhY2suaXRlbTtcbiAgICAkc2NvcGUuaW9uQXV0b2NvbXBsZXRlRWxlbWVudFNlYXJjaCA9IGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiaW9uLWF1dG9jb21wbGV0ZS1zZWFyY2hcIikpO1xuICAgIGlmICgkc2NvcGUuc2VhcmNoTW9kZSA9PSBcImVzcXVpbmEubnVtZXJvXCIpIHtcbiAgICAgIGxvY2F0aW9uR2VvbVBhcmFtcy5wYXRoUGFyYW1zID0gW107XG4gICAgICAkc2NvcGUubG9jYXRpb24uZXNxdWluYT0gJHNjb3BlLnNlbGVjdGVkSXRlbTtcbiAgICAgIGxvY2F0aW9uR2VvbVBhcmFtcy5wYXRoUGFyYW1zLnB1c2goJHNjb3BlLmxvY2F0aW9uLmNhbGxlLmNvZGlnbyk7XG4gICAgICBsb2NhdGlvbkdlb21QYXJhbXMucGF0aFBhcmFtcy5wdXNoKCRzY29wZS5sb2NhdGlvbi5lc3F1aW5hLmNvZGlnbyk7XG4gICAgICB2YXIgc3RyX3RpcG8gPSBcIlwiO1xuICAgICAgaWYoJHNjb3BlLmlzTnVtZXJpYygkc2NvcGUuc2VsZWN0ZWRJdGVtLm5vbWJyZSkpe1xuICAgICAgICAvL1NlbGVjY2lvbsOzIHVuIG7Dum1lcm8gZGUgcHVlcnRhXG4gICAgICAgIGxvY2F0aW9uR2VvbVBhcmFtcy50aXBvPVwiRElSRUNDSU9OXCI7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgLy9zZWxlY2Npb25vIHVuYSBlc3F1aW5hXG4gICAgICAgIGxvY2F0aW9uR2VvbVBhcmFtcy50aXBvPVwiRVNRVUlOQVwiOy8vJHNjb3BlLnNlbGVjdGVkSXRlbS5kZXNjVGlwbztcbiAgICAgICAgc3RyX3RpcG8gPSBcImVzcXVpbmFcIjtcbiAgICAgIH1cbiAgICAgIGxvY2F0aW9uQVBJLmdldExvY2F0aW9uR2VvbShsb2NhdGlvbkdlb21QYXJhbXMpLnRoZW4oZnVuY3Rpb24ocmVzdWx0KXtcbiAgICAgICAgLy9jb25zb2xlLmxvZyhyZXN1bHQuZ2VvSlNPTik7XG4gICAgICAgIE1hcFNlcnZpY2UuZ29Ub1BsYWNlKGFuZ3VsYXIuZXh0ZW5kKHtub21icmU6ICRzY29wZS5sb2NhdGlvbi5jYWxsZS5ub21icmUgKyBcIiBcIiArIHN0cl90aXBvICsgXCIgXCIgKyAkc2NvcGUuc2VsZWN0ZWRJdGVtLm5vbWJyZSwgZ2VvbTogcmVzdWx0Lmdlb0pTT059LHJlc3VsdCksJHNjb3BlKTtcbiAgICAgICAgJHNjb3BlLnNlYXJjaE1vZGUgPSBcImNhbGxlLmx1Z2FyXCI7XG4gICAgICAgICRzY29wZS5pb25BdXRvY29tcGxldGVFbGVtZW50U2VhcmNoLmF0dHIoXCJwbGFjZWhvbGRlclwiLCBcIkJ1c2NhciBjYWxsZVwiKTtcbiAgICAgICAgJHNjb3BlLmV4dGVybmFsTW9kZWwgPSBbXTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAkc2NvcGUubG9jYXRpb24uY2FsbGU9ICRzY29wZS5zZWxlY3RlZEl0ZW07XG4gICAgICAkc2NvcGUuc2VhcmNoTW9kZSA9IFwiZXNxdWluYS5udW1lcm9cIjtcbiAgICAgICRzY29wZS5pb25BdXRvY29tcGxldGVFbGVtZW50U2VhcmNoLmF0dHIoXCJwbGFjZWhvbGRlclwiLCBcIkVzcXVpbmEgbyBuw7ptZXJvXCIpO1xuICAgICAgJHNjb3BlLmlvbkF1dG9jb21wbGV0ZUVsZW1lbnQuY29udHJvbGxlcignaW9uQXV0b2NvbXBsZXRlJykuc2hvd01vZGFsKCk7XG4gICAgICAkc2NvcGUucHJlc2VsZWN0ZWRTZWFyY2hJdGVtcyA9IFtdO1xuICAgIH1cblxuICB9O1xuXG4gICRzY29wZS5pdGVtc0NhbmNlbGVkPSBmdW5jdGlvbihfaXRlbSl7XG4gICAgdmFyIG51bVB1ZXJ0YSA9IHBhcnNlSW50KF9pdGVtLnNlYXJjaFF1ZXJ5KTtcbiAgICBpZihOdW1iZXIuaXNJbnRlZ2VyKG51bVB1ZXJ0YSkpe1xuICAgICAgLy9jb25zb2xlLmxvZyhcIklTIG51bWJlclwiKTtcbiAgICAgIGxvY2F0aW9uR2VvbVBhcmFtcy50aXBvPVwiRElSRUNDSU9OXCI7Ly8kc2NvcGUuc2VsZWN0ZWRJdGVtLmRlc2NUaXBvO1xuICAgICAgbG9jYXRpb25HZW9tUGFyYW1zLnBhdGhQYXJhbXMucHVzaCgkc2NvcGUubG9jYXRpb24uY2FsbGUuY29kaWdvKTtcbiAgICAgIGxvY2F0aW9uR2VvbVBhcmFtcy5wYXRoUGFyYW1zLnB1c2gobnVtUHVlcnRhKTtcbiAgICAgIGxvY2F0aW9uQVBJLmdldExvY2F0aW9uR2VvbShsb2NhdGlvbkdlb21QYXJhbXMpLnRoZW4oZnVuY3Rpb24ocmVzdWx0KXtcbiAgICAgIE1hcFNlcnZpY2UuZ29Ub1BsYWNlKGFuZ3VsYXIuZXh0ZW5kKHtub21icmU6JHNjb3BlLnNlbGVjdGVkSXRlbS5ub21icmUgKyBcIiBcIiArIG51bVB1ZXJ0YSB9LHJlc3VsdCksJHNjb3BlKTtcbiAgICAgICRzY29wZS5zZWFyY2hNb2RlID0gXCJjYWxsZS5sdWdhclwiO1xuXG4gICAgfSxmdW5jdGlvbihlcnJvcil7XG4gICAgICAvL2NvbnNvbGUubG9nKFwiRXJyb3Igb2J0ZW5pZW5kbyBsYSBkaXJlY2Npb24gXCIrIEpTT04uc3RyaW5naWZ5KGVycm9yKSk7XG4gICAgICBMb2FkZXIuc2hvd0FsZXJ0KFwiRXJyb3JcIixcIk5vIGV4aXN0ZSBlc2EgZGlyZWNjaW9uXCIpLnRoZW4oZnVuY3Rpb24ocmVzKXtcbiAgICAgICAgICAkc2NvcGUuaW9uQXV0b2NvbXBsZXRlRWxlbWVudC5jb250cm9sbGVyKCdpb25BdXRvY29tcGxldGUnKS5zaG93TW9kYWwoKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICB9O1xufV0pO1xuIiwicG1iX2ltLnNlcnZpY2VzLmZhY3RvcnkoJ0F1dGhTZXJ2aWNlJywgWyckaHR0cCcsICckY29yZG92YUZpbGVUcmFuc2ZlcicsICdDb25maWdTZXJ2aWNlJywgZnVuY3Rpb24oJGh0dHAsICRjb3Jkb3ZhRmlsZVRyYW5zZmVyLCBDb25maWdTZXJ2aWNlKSB7XG5cbiAgdmFyIGJhc2VVUkwgPSBDb25maWdTZXJ2aWNlLmJhc2VVUkwgKyBcIi9hdXRoL2FqYXgvXCI7XG5cbiAgcmV0dXJuIHtcbiAgICBzaWduX2luOiBmdW5jdGlvbiAocGFzc3dvcmQsIGVtYWlsKSB7XG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KGJhc2VVUkwgKyBcInNpZ25faW5cIiwgeyBwYXJhbXM6IHsgcGFzc3dvcmRfc2lnbl9pbjogcGFzc3dvcmQsIGVtYWlsOiBlbWFpbCB9IH0pO1xuICAgIH0sXG5cbiAgICBzaWduX291dDogZnVuY3Rpb24gKHBhc3N3b3JkLCBlbWFpbCkge1xuICAgICAgcmV0dXJuICRodHRwLmdldChiYXNlVVJMICsgXCJzaWduX291dFwiLCB7IHBhcmFtczogeyBwYXNzd29yZF9zaWduX2luOiBwYXNzd29yZCwgZW1haWw6IGVtYWlsIH0gfSk7XG4gICAgfSxcblxuICAgIGNyZWF0ZV91c2VyOiBmdW5jdGlvbiAoZW1haWwsZnVsbG5hbWUscGFzc3dvcmQsIGlkX2RvYywgdXNlcl9waG9uZSkge1xuICAgICAgcmV0dXJuICRodHRwLmdldChiYXNlVVJMICsgXCJjcmVhdGVfdXNlclwiLCB7IHBhcmFtczogeyBmb3JtX2VtYWlsOiBlbWFpbCwgbmFtZTogZnVsbG5hbWUsIHBhc3N3b3JkX3JlZ2lzdGVyOiBwYXNzd29yZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkZW50aXR5X2RvY3VtZW50OiBpZF9kb2MsIHBob25lOiB1c2VyX3Bob25lIH0gfSk7XG4gICAgfSxcblxuICAgIGNoYW5nZV9wYXNzd29yZDogZnVuY3Rpb24gKGVtYWlsLGZ1bGxuYW1lLHBhc3N3b3JkLCBpZF9kb2MsIHVzZXJfcGhvbmUpIHtcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoYmFzZVVSTCArIFwiY3JlYXRlX3VzZXJcIiwgeyBwYXJhbXM6IHsgbG9naW5fZW1haWw6IGVtYWlsLCBuYW1lOiBmdWxsbmFtZSwgcGFzc3dvcmRfcmVnaXN0ZXI6IHBhc3N3b3JkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWRlbnRpdHlfZG9jdW1lbnQ6IGlkX2RvYywgcGhvbmU6IHVzZXJfcGhvbmUgfSB9KTtcbiAgICB9LFxuXG4gICAgZWRpdF91c2VyOiBmdW5jdGlvbiAoZW1haWwscGFzc3dvcmQsIGZ1bGxuYW1lLCBuZXdfZW1haWwsIGlkX2RvYywgdXNlcl9waG9uZSwgdXNlcl9waWN0dXJlX3VybCkge1xuICAgICAgaWYgKHVzZXJfcGljdHVyZV91cmwhPW51bGwgJiYgdXNlcl9waWN0dXJlX3VybCE9XCJcIikge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgICAgIGZpbGVLZXk6IFwicGhvdG9cIixcbiAgICAgICAgIC8vZmlsZU5hbWU6IGZpbGVuYW1lLFxuICAgICAgICAgLy9jaHVua2VkTW9kZTogZmFsc2UsXG4gICAgICAgICAvL21pbWVUeXBlOiBcImltYWdlL2pwZ1wiLFxuICAgICAgICAgcGFyYW1zIDogeyAgZW1haWw6IGVtYWlsLFxuICAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmRfc2lnbl9pbjogcGFzc3dvcmQsXG4gICAgICAgICAgICAgICAgICAgICBuYW1lOiBmdWxsbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgIG5ld19lbWFpbDogbmV3X2VtYWlsLFxuICAgICAgICAgICAgICAgICAgICAgaWRlbnRpdHlfZG9jdW1lbnQ6IGlkX2RvYyxcbiAgICAgICAgICAgICAgICAgICAgIHBob25lOiB1c2VyX3Bob25lXG4gICAgICAgICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB2YXIgdHJ1c3RBbGxIb3N0cyA9IHRydWU7XG4gICAgICAgIHJldHVybiAkY29yZG92YUZpbGVUcmFuc2Zlci51cGxvYWQoYmFzZVVSTCArIFwiZWRpdF91c2VyXCIsIHVzZXJfcGljdHVyZV91cmwsIG9wdGlvbnMsIHRydXN0QWxsSG9zdHMpO1xuICAgICAgfWVsc2V7XG4gICAgICAgIHJldHVybiAkaHR0cC5nZXQoYmFzZVVSTCArIFwiZWRpdF91c2VyXCIsIHsgcGFyYW1zOiB7IGVtYWlsOiBlbWFpbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkX3NpZ25faW46IHBhc3N3b3JkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogZnVsbG5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdfZW1haWw6IG5ld19lbWFpbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkZW50aXR5X2RvY3VtZW50OiBpZF9kb2MsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaG9uZTogdXNlcl9waG9uZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICB9O1xufV0pO1xuIiwicG1iX2ltLnNlcnZpY2VzLmZhY3RvcnkoJ0NhdGVnb3JpZXNTZXJ2aWNlJywgWyckaHR0cCcsJ0xvY2F0aW9uc1NlcnZpY2UnLCAnQ29uZmlnU2VydmljZScsICdEQlNlcnZpY2UnLCBmdW5jdGlvbigkaHR0cCxMb2NhdGlvbnNTZXJ2aWNlLCBDb25maWdTZXJ2aWNlLCBEQlNlcnZpY2UpIHtcblxuICB2YXIgYmFzZVVSTCA9IENvbmZpZ1NlcnZpY2UuYmFzZVVSTCArIFwiL3JlcG9ydC9uZXcvYWpheFwiO1xuXG4gIHJldHVybiB7XG4gICAgYWxsOiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KGJhc2VVUkwsIHsgcGFyYW1zOiB7IGxhdDogTG9jYXRpb25zU2VydmljZS5uZXdfcmVwb3J0X2xhdCwgbG9uOiBMb2NhdGlvbnNTZXJ2aWNlLm5ld19yZXBvcnRfbG5nLCBmb3JtYXQ6IFwianNvblwiIH0gfSlcbiAgICB9LFxuXG4gICAgZ2V0Q2FjaGVkQ2F0ZWdvcmllczogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIERCU2VydmljZS5nZXRDYXRlZ29yaWVzKCk7XG4gICAgfVxuICB9O1xufV0pO1xuIiwicG1iX2ltLnNlcnZpY2VzLmZhY3RvcnkoJ0NvbmZpZ1NlcnZpY2UnLCBbJyRodHRwJywgZnVuY3Rpb24oJGh0dHApIHtcblxuICB2YXIgQ29uZmlnT2JqID0ge307XG4gIENvbmZpZ09iai5iYXNlVVJMID0gXCJodHRwOi8vZG9uZGVyZWNpY2xvLmRldmVsb3BtZW50LmRhdGF1eS5vcmdcIjtcblxuICByZXR1cm4gQ29uZmlnT2JqO1xuXG59XSk7XG4iLCJwbWJfaW0uc2VydmljZXMuZmFjdG9yeSgnQ29ubmVjdGl2aXR5U2VydmljZScsIFsnJGNvcmRvdmFOZXR3b3JrJywgZnVuY3Rpb24oJGNvcmRvdmFOZXR3b3JrKXtcblxuICByZXR1cm4ge1xuICAgIGlzT25saW5lOiBmdW5jdGlvbigpe1xuICAgICAgaWYoaW9uaWMuUGxhdGZvcm0uaXNXZWJWaWV3KCkpe1xuICAgICAgICByZXR1cm4gJGNvcmRvdmFOZXR3b3JrLmlzT25saW5lKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbmF2aWdhdG9yLm9uTGluZTtcbiAgICAgICAgLy9yZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfSxcbiAgICBpc09mZmxpbmU6IGZ1bmN0aW9uKCl7XG4gICAgICBpZihpb25pYy5QbGF0Zm9ybS5pc1dlYlZpZXcoKSl7XG4gICAgICAgIHJldHVybiAhJGNvcmRvdmFOZXR3b3JrLmlzT25saW5lKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gIW5hdmlnYXRvci5vbkxpbmU7XG4gICAgICB9XG4gICAgfVxuICB9XG59XSlcbiIsInBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdDb250YWN0U2VydmljZScsIFsnJGh0dHAnLCAnQ29uZmlnU2VydmljZScsIGZ1bmN0aW9uKCRodHRwLCBDb25maWdTZXJ2aWNlKSB7XG5cbiAgdmFyIGJhc2VVUkwgPSBDb25maWdTZXJ2aWNlLmJhc2VVUkwgKyBcIi9kYXRhdXkvY29udGFjdC9cIjtcblxuICByZXR1cm4ge1xuICAgIHNlbmRfY29udGFjdDogZnVuY3Rpb24gKG5hbWUsIGVtYWlsLCBzdWJqZWN0LCBtZXNzYWdlKSB7XG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KGJhc2VVUkwgKyBuYW1lICsgXCIvXCIgKyBlbWFpbCArIFwiL1wiICsgc3ViamVjdCArIFwiL1wiICsgbWVzc2FnZSwgeyBwYXJhbXM6IHsgfSB9KTtcbiAgICB9XG5cbiAgfTtcbn1dKTtcbiIsInBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdDb250YWluZXJTZXJ2aWNlJywgWyckaHR0cCcsICdsZWFmbGV0RGF0YScsJ0NvbmZpZ1NlcnZpY2UnLCBmdW5jdGlvbigkaHR0cCwgbGVhZmxldERhdGEsIENvbmZpZ1NlcnZpY2UpIHtcblxuICB2YXIgYmFzZVVSTCA9IENvbmZpZ1NlcnZpY2UuYmFzZVVSTCArIFwiL3JlcG9ydC9hamF4L1wiO1xuXG5cbiAgLyoqXG4gICAqIENvbnN0cnVjdG9yLCB3aXRoIGNsYXNzIG5hbWVcbiAgICovXG4gIGZ1bmN0aW9uIENvbnRhaW5lcihfZGF0YSkge1xuICAgIGFuZ3VsYXIuZXh0ZW5kKHRoaXMsIF9kYXRhKTtcbiAgfVxuXG4gIENvbnRhaW5lci5nZXRCeUlkID0gZnVuY3Rpb24oaWQpe1xuICAgIHZhciB1cmwgPSBiYXNlVVJMICsgaWQ7XG4gICAgcmV0dXJuICRodHRwLmdldCh1cmwpLnRoZW4oZnVuY3Rpb24ocmVzdWx0KXtcbiAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9KTtcbiAgfVxuXG5cbiAgQ29udGFpbmVyLl9kZWZhdWx0ID0gZnVuY3Rpb24oKXtcbiAgICB2YXIgX2RhdGEgPSB7XG4gICAgICBsYXQ6IDAsXG4gICAgICBsb246IDAsXG4gICAgICB0aXRsZTogbnVsbCxcbiAgICAgIGRldGFpbDogbnVsbCxcbiAgICAgIG1heV9zaG93X25hbWU6IDEsXG4gICAgICBjYXRlZ29yeTogbnVsbCxcbiAgICAgIHBob25lOiBudWxsLFxuICAgICAgcGM6ICcnLFxuICAgICAgZmlsZTogbnVsbCxcbiAgICAgIG5hbWU6IG51bGwsXG4gICAgICBlbWFpbDogbnVsbCxcbiAgICAgIHN1Ym1pdF9zaWduX2luOiAxLFxuICAgICAgcGFzc3dvcmRfc2lnbl9pbjogbnVsbCxcbiAgICAgIHJlbWVtYmVyX21lOjFcbiAgICB9O1xuICAgIHJldHVybiBuZXcgQ29udGFpbmVyKF9kYXRhKTtcbiAgfTtcblxuICAgIENvbnRhaW5lci5fYWxsID0gW107XG4gICAgQ29udGFpbmVyLmN1cnJlbnQgPSB7fTtcbiAgICBDb250YWluZXIuX25ldyA9IGZ1bmN0aW9uKCl7XG4gICAgICAvKlJlcG9ydC5jdXJyZW50ID0gUmVwb3J0Ll9kZWZhdWx0KCk7XG4gICAgICByZXR1cm4gUmVwb3J0LmN1cnJlbnQ7Ki9cbiAgICAgIHJldHVybiBDb250YWluZXIuX2RlZmF1bHQoKTtcbiAgICB9O1xuXG5cblxuICAgIC8qKlxuICAgICAqIFN0YXRpYyBtZXRob2QsIGFzc2lnbmVkIHRvIGNsYXNzXG4gICAgICogSW5zdGFuY2UgKCd0aGlzJykgaXMgbm90IGF2YWlsYWJsZSBpbiBzdGF0aWMgY29udGV4dFxuICAgICAqL1xuICAgIENvbnRhaW5lci5idWlsZCA9IGZ1bmN0aW9uKF9kYXRhKSB7XG4gICAgICByZXR1cm4gbmV3IENvbnRhaW5lcihfZGF0YSk7XG4gICAgfTtcblxuICAgIENvbnRhaW5lci5wcm90b3R5cGUuc2V0TGF0TG5nID0gZnVuY3Rpb24gKGxhdCxsbmcpIHtcbiAgICAgIHRoaXMubGF0ID0gbGF0O1xuICAgICAgdGhpcy5sb24gPSBsbmc7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgY29uc3RydWN0b3IgZnVuY3Rpb25cbiAgICAgKi9cbiAgICByZXR1cm4gQ29udGFpbmVyO1xuXG59XSk7XG4iLCJwbWJfaW0uc2VydmljZXMuZmFjdG9yeSgnREJTZXJ2aWNlJywgWyckcScsIGZ1bmN0aW9uKCRxKSB7XG4gICB2YXIgX2RiO1xuXG4gICByZXR1cm4ge1xuICAgICAgIGluaXREQjogaW5pdERCLFxuICAgICAgIHNhdmVVc2VyOiBzYXZlVXNlcixcbiAgICAgICBnZXRVc2VyOiBnZXRVc2VyLFxuICAgICAgIGVyYXNlVXNlcjogZXJhc2VVc2VyLFxuICAgICAgIHNhdmVSZXBvcnQ6IHNhdmVSZXBvcnQsXG4gICAgICAgZ2V0UmVwb3J0OiBnZXRSZXBvcnQsXG4gICAgICAgZ2V0QWxsUmVwb3J0czogZ2V0QWxsUmVwb3J0cyxcbiAgICAgICB1cGRhdGVSZXBvcnQ6IHVwZGF0ZVJlcG9ydCxcbiAgICAgICBkZWxldGVSZXBvcnQ6IGRlbGV0ZVJlcG9ydCxcbiAgICAgICBkZWxldGVHaXZlblJlcG9ydDogZGVsZXRlR2l2ZW5SZXBvcnQsXG4gICAgICAgZ2V0Q2F0ZWdvcmllczogZ2V0Q2F0ZWdvcmllcyxcbiAgICAgICBzYXZlQ2F0ZWdvcmllczogc2F2ZUNhdGVnb3JpZXMsXG4gICAgICAgZ2V0RG9uZVdhbGt0aHJvdWdoOiBnZXREb25lV2Fsa3Rocm91Z2gsXG4gICAgICAgc2F2ZURvbmVXYWxrdGhyb3VnaDogc2F2ZURvbmVXYWxrdGhyb3VnaFxuICAgfTtcblxuICAgZnVuY3Rpb24gc2F2ZVVzZXIodXNlcl9uYW1lLCB1c2VyX2VtYWlsLCB1c2VyX3Bhc3N3b3JkLCB1c2VyX2lkX2RvYywgdXNlcl9waG9uZSwgdXNlcl9waWN0dXJlX3VybCkge1xuICAgICAgICAgdmFyIHVzZXIgPSB7XG4gICAgICAgICAgICBfaWQ6ICd1c2VyLWxvZ2dlZCcsXG4gICAgICAgICAgICBuYW1lOiB1c2VyX25hbWUsXG4gICAgICAgICAgICBlbWFpbDogdXNlcl9lbWFpbCxcbiAgICAgICAgICAgIHBhc3N3b3JkOiB1c2VyX3Bhc3N3b3JkLFxuICAgICAgICAgICAgaWRlbnRpdHlfZG9jdW1lbnQ6IHVzZXJfaWRfZG9jLFxuICAgICAgICAgICAgcGhvbmU6IHVzZXJfcGhvbmUsXG4gICAgICAgICAgICBwaWN0dXJlX3VybDogdXNlcl9waWN0dXJlX3VybFxuICAgICAgICAgfTtcbiAgICAgICAgIGdldFVzZXIoKS50aGVuKGZ1bmN0aW9uIChkb2MpIHtcbiAgICAgICAgICAgdXNlci5fcmV2ID0gZG9jLl9yZXY7XG4gICAgICAgICAgIHJldHVybiBfZGIucHV0KHVzZXIpO1xuICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICByZXR1cm4gX2RiLnB1dCh1c2VyKTtcbiAgICAgICAgIH0pXG4gICB9O1xuXG4gICBmdW5jdGlvbiBzYXZlRG9uZVdhbGt0aHJvdWdoKCkge1xuICAgICAgdmFyIGRvbmVXYWxrdGhyb3VnaCA9IHtcbiAgICAgICAgIF9pZDogJ2RvbmUtd2Fsa3Rocm91Z2gnLFxuICAgICAgICAgc3RhdHVzOiAnZG9uZSdcbiAgICAgIH07XG4gICAgICByZXR1cm4gX2RiLnB1dChkb25lV2Fsa3Rocm91Z2gpO1xuICAgIH07XG5cbiAgZnVuY3Rpb24gZ2V0RG9uZVdhbGt0aHJvdWdoKCkge1xuICAgcmV0dXJuIF9kYi5nZXQoJ2RvbmUtd2Fsa3Rocm91Z2gnKTtcbiAgfTtcblxuICBmdW5jdGlvbiBnZXRVc2VyKCkge1xuICAgICByZXR1cm4gX2RiLmdldCgndXNlci1sb2dnZWQnKTtcbiAgfTtcblxuICBmdW5jdGlvbiBlcmFzZVVzZXIoKSB7XG4gICAgX2RiLmdldCgndXNlci1sb2dnZWQnKS50aGVuKGZ1bmN0aW9uKGRvYykge1xuICAgICAgcmV0dXJuIF9kYi5yZW1vdmUoZG9jKTtcbiAgICB9KTtcbiAgfVxuXG4gICBmdW5jdGlvbiBpbml0REIoKSB7XG4gICAgICAgLy8gQ3JlYXRlcyB0aGUgZGF0YWJhc2Ugb3Igb3BlbnMgaWYgaXQgYWxyZWFkeSBleGlzdHNcbiAgICAgICBfZGIgPSBuZXcgUG91Y2hEQigncG1iX2xvY2FsX2RiJyk7XG4gICAgICAgcmV0dXJuIF9kYjtcbiAgIH07XG5cbiAgIGZ1bmN0aW9uIHNhdmVSZXBvcnQocmVwb3J0KSB7XG4gICAgICAvL25ld19yZXBvcnRfaWQgPSBcInJlcG9ydF9cIiArIHBvdWNoQ29sbGF0ZS50b0luZGV4YWJsZVN0cmluZyhbcmVwb3J0XSk7XG4gICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgICB2YXIgbmV3X3JlcG9ydF9pZCA9IFwicmVwb3J0X1wiICsgZGF0ZS5nZXRGdWxsWWVhcigpICsgKGRhdGUuZ2V0TW9udGgoKSArIDEpICsgZGF0ZS5nZXREYXRlKCkgKyBkYXRlLmdldE1pbGxpc2Vjb25kcygpO1xuICAgICAgcmVwb3J0Ll9pZCA9IG5ld19yZXBvcnRfaWQ7XG4gICAgICByZXR1cm4gX2RiLnB1dChyZXBvcnQpO1xuICAgfTtcblxuICAgZnVuY3Rpb24gdXBkYXRlUmVwb3J0KHJlcG9ydCkge1xuICAgICByZXR1cm4gX2RiLnB1dChyZXBvcnQpO1xuICB9O1xuXG4gICBmdW5jdGlvbiBnZXRDYXRlZ29yaWVzKCkge1xuICAgICByZXR1cm4gX2RiLmdldCgnY2F0ZWdvcmllcy1saXN0Jyk7XG4gICB9O1xuXG4gICBmdW5jdGlvbiBzYXZlQ2F0ZWdvcmllcyhjYXRlZ29yaWVzKSB7XG4gICAgIGdldENhdGVnb3JpZXMoKS50aGVuKGZ1bmN0aW9uIChkb2MpIHtcbiAgICAgICBjYXRlZ29yaWVzLl9yZXYgPSBkb2MuX3JldjtcbiAgICAgICByZXR1cm4gX2RiLnB1dChjYXRlZ29yaWVzKTtcbiAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgIGNhdGVnb3JpZXMuX2lkID0gXCJjYXRlZ29yaWVzLWxpc3RcIjtcbiAgICAgICByZXR1cm4gX2RiLnB1dChjYXRlZ29yaWVzKTtcbiAgICAgfSlcbiAgIH07XG5cbiAgZnVuY3Rpb24gZ2V0UmVwb3J0KHJlcG9ydElkKSB7XG4gICAgIHJldHVybiBfZGIuZ2V0KHJlcG9ydElkKTtcbiAgfTtcblxuICAgZnVuY3Rpb24gZ2V0QWxsUmVwb3J0cygpIHtcbiAgICAgcmV0dXJuIF9kYi5hbGxEb2NzKHtcbiAgICAgIGluY2x1ZGVfZG9jczogdHJ1ZSxcbiAgICAgIGF0dGFjaG1lbnRzOiBmYWxzZSxcbiAgICAgIHN0YXJ0a2V5OiAncmVwb3J0XycsXG4gICAgICBlbmRrZXk6ICdyZXBvcnRfXFx1ZmZmZidcbiAgICAgfSk7LyoudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAvLyBoYW5kbGUgcmVzdWx0XG4gICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICB9KTsqL1xuICB9O1xuXG4gIGZ1bmN0aW9uIGRlbGV0ZVJlcG9ydChyZXBvcnRfaWQpIHtcbiAgICBfZGIuZ2V0KHJlcG9ydF9pZCkudGhlbihmdW5jdGlvbihkb2MpIHtcbiAgICAgIHJldHVybiBfZGIucmVtb3ZlKGRvYyk7XG4gICAgfSk7XG4gIH07XG5cbiAgZnVuY3Rpb24gZGVsZXRlR2l2ZW5SZXBvcnQocmVwb3J0KSB7XG4gICAgcmV0dXJuIF9kYi5yZW1vdmUocmVwb3J0KTtcbiAgfTtcblxufV0pO1xuIiwicG1iX2ltLnNlcnZpY2VzLmZhY3RvcnkoJ0Vycm9yU2VydmljZScsIFsnJGh0dHAnLCckaW9uaWNQb3B1cCcsICdWYWxpZGF0aW9uU2VydmljZScsIGZ1bmN0aW9uKCRodHRwLCRpb25pY1BvcHVwLFZhbGlkYXRpb25TZXJ2aWNlKSB7XG5cbiAgcmV0dXJuIHtcbiAgICBodHRwX3Jlc3BvbnNlX2lzX3N1Y2Nlc3NmdWw6IGZ1bmN0aW9uIChqc29uUmVzdWx0LCBlcnJvckNvbnRhaW5lcklkKSB7XG4gICAgICB2YXIgZXJyb3JEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlcnJvckNvbnRhaW5lcklkKTtcbiAgICAgIGlmKGpzb25SZXN1bHQuZGF0YS5yZXN1bHQ9PTApe1xuICAgICAgICBlcnJvckRpdi5pbm5lckhUTUw9XCI8aDM+XCIgKyBqc29uUmVzdWx0LmRhdGEubWVzc2FnZSArIFwiPC9oMz5cIjtcbiAgICAgICAgZXJyb3JEaXYuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfWVsc2V7XG4gICAgICAgIGVycm9yRGl2LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfSxcblxuICAgIGh0dHBfcmVzcG9uc2VfaXNfc3VjY2Vzc2Z1bF9hamF4OiBmdW5jdGlvbiAoanNvblJlc3VsdCkge1xuICAgICAgaWYoanNvblJlc3VsdC5kYXRhLnJlc3VsdD09MCl7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1lbHNle1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgaHR0cF9yZXNwb25zZV9pc19zdWNjZXNzZnVsX3BvcHVwOiBmdW5jdGlvbiAoanNvblJlc3VsdCkge1xuICAgICAgaWYoanNvblJlc3VsdC5kYXRhLnJlc3VsdD09MCl7XG4gICAgICAgIHZhciBhbGVydFBvcHVwID0gJGlvbmljUG9wdXAuYWxlcnQoe1xuICAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcbiAgICAgICAgIHRlbXBsYXRlOiBqc29uUmVzdWx0LmRhdGEubWVzc2FnZVxuICAgICAgICB9KTtcbiAgICAgICAgYWxlcnRQb3B1cC50aGVuKGZ1bmN0aW9uKHJlcykge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1lbHNle1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgaHR0cF9kYXRhX3Jlc3BvbnNlX2lzX3N1Y2Nlc3NmdWw6IGZ1bmN0aW9uIChkYXRhLCBlcnJvckNvbnRhaW5lcklkKSB7XG4gICAgICB2YXIgZXJyb3JEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlcnJvckNvbnRhaW5lcklkKTtcbiAgICAgIGlmKGRhdGEucmVzdWx0PT0wKXtcbiAgICAgICAgZXJyb3JEaXYuaW5uZXJIVE1MPVwiPGgzPlwiICsgZGF0YS5tZXNzYWdlICsgXCI8L2gzPlwiO1xuICAgICAgICBlcnJvckRpdi5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9ZWxzZXtcbiAgICAgICAgZXJyb3JEaXYuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgaHR0cF9kYXRhX3Jlc3BvbnNlX2lzX3N1Y2Nlc3NmdWxfYWpheDogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgIGlmKGRhdGEucmVzdWx0PT0wKXtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfWVsc2V7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBzaG93X2Vycm9yX21lc3NhZ2U6IGZ1bmN0aW9uIChlcnJvckNvbnRhaW5lcklkLCBtZXNzYWdlKSB7XG4gICAgICAgIHZhciBlcnJvckRpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVycm9yQ29udGFpbmVySWQpO1xuICAgICAgICBlcnJvckRpdi5pbm5lckhUTUw9XCI8aDM+XCIgKyBtZXNzYWdlICsgXCI8L2gzPlwiO1xuICAgICAgICBlcnJvckRpdi5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcblxuICAgIHNob3dfZXJyb3JfbWVzc2FnZV9wb3B1cDogZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgICAgdmFyIGFsZXJ0UG9wdXAgPSAkaW9uaWNQb3B1cC5hbGVydCh7XG4gICAgICAgICB0aXRsZTogXCJFcnJvclwiLFxuICAgICAgICAgdGVtcGxhdGU6IG1lc3NhZ2VcbiAgICAgICAgfSk7XG4gICAgICAgIGFsZXJ0UG9wdXAudGhlbihmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcblxuICAgIGNoZWNrX2ZpZWxkczogZnVuY3Rpb24gKGZpZWxkcywgZXJyb3JDb250YWluZXJJZCkge1xuICAgICAgdmFyIGVycm9ycyA9IFwiXCI7XG4gICAgICBmaWVsZHMuZm9yRWFjaChmdW5jdGlvbihmaWVsZCkge1xuICAgICAgICBpZihmaWVsZC50eXBlPT1cIm5vdE51bGxcIil7XG4gICAgICAgICAgaWYoIVZhbGlkYXRpb25TZXJ2aWNlLnZhbGlkYXRlX25vdF9lbXB0eShmaWVsZC52YWx1ZSkpe1xuICAgICAgICAgICAgZXJyb3JzID0gZXJyb3JzICsgJzxoMz4tIEVsIGNhbXBvIFwiJyArIGZpZWxkLm5hbWUgKyAnXCIgbm8gcHVlZGUgZXN0YXIgdmFjw61vLjwvaDM+JztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYoZmllbGQudHlwZT09XCJlbWFpbFwiKXtcbiAgICAgICAgICBpZighVmFsaWRhdGlvblNlcnZpY2UudmFsaWRhdGVfZW1haWwoZmllbGQudmFsdWUpKXtcbiAgICAgICAgICAgIGVycm9ycyA9IGVycm9ycyArICc8aDM+LSBFbCBjYW1wbyBcIicgKyBmaWVsZC5uYW1lICsgJ1wiIG5vIGVzIHVuYSBkaXJlY2Npw7NuIGRlIGNvcnJlbyB2w6FsaWRhLjwvaDM+JztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYoZmllbGQudHlwZT09XCJpZGRvY191eVwiKXtcbiAgICAgICAgICBpZighVmFsaWRhdGlvblNlcnZpY2UudmFsaWRhdGVfaWRkb2NfdXkoZmllbGQudmFsdWUpKXtcbiAgICAgICAgICAgIGVycm9ycyA9IGVycm9ycyArICc8aDM+LSBFbCBjYW1wbyBcIicgKyBmaWVsZC5uYW1lICsgJ1wiIG5vIGVzIHVuYSBjw6lkdWxhIHVydWd1YXlhIHbDoWxpZGEuPC9oMz4nO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZihmaWVsZC50eXBlPT1cInR3b193b3Jkc1wiKXtcbiAgICAgICAgICBpZighVmFsaWRhdGlvblNlcnZpY2UudmFsaWRhdGVfdHdvX3dvcmRzKGZpZWxkLnZhbHVlKSl7XG4gICAgICAgICAgICBlcnJvcnMgPSBlcnJvcnMgKyAnPGgzPi0gRWwgY2FtcG8gXCInICsgZmllbGQubmFtZSArICdcIiBkZWJlIGNvbnRlbmVyIGFsIG1lbm9zIGRvcyBwYWxhYnJhcy48L2gzPic7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmKGVycm9ycyA9PVwiXCIpe1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1lbHNle1xuICAgICAgICB2YXIgZXJyb3JEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlcnJvckNvbnRhaW5lcklkKTtcbiAgICAgICAgZXJyb3JEaXYuaW5uZXJIVE1MPSBlcnJvcnM7XG4gICAgICAgIGVycm9yRGl2LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgY2hlY2tfZmllbGQ6IGZ1bmN0aW9uIChmaWVsZCwgdHlwZSwgbGFiZWwpIHtcbiAgICAgICAgdmFyIG9rID0gdHJ1ZTtcbiAgICAgICAgaWYodHlwZT09XCJub3ROdWxsXCIpe1xuICAgICAgICAgIGlmKCFWYWxpZGF0aW9uU2VydmljZS52YWxpZGF0ZV9ub3RfZW1wdHkoZmllbGQudmFsdWUpKXtcbiAgICAgICAgICAgIG9rID0gZmFsc2U7XG4gICAgICAgICAgICBsYWJlbC5pbm5lckhUTUw9XCJEZWJlcyBjb21wbGV0YXI8YnIvPmVsIGNhbXBvIFwiK2ZpZWxkLm5hbWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmKHR5cGU9PVwiZW1haWxcIil7XG4gICAgICAgICAgaWYoIVZhbGlkYXRpb25TZXJ2aWNlLnZhbGlkYXRlX2VtYWlsKGZpZWxkLnZhbHVlKSl7XG4gICAgICAgICAgICBvayA9IGZhbHNlO1xuICAgICAgICAgICAgbGFiZWwuaW5uZXJIVE1MPVwiRWwgY2FtcG8gXCIrZmllbGQubmFtZStcIjxici8+bm8gZXMgdW4gZW1haWwgdsOhbGlkb1wiO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZih0eXBlPT1cImlkZG9jX3V5XCIpe1xuICAgICAgICAgIGlmKCFWYWxpZGF0aW9uU2VydmljZS52YWxpZGF0ZV9pZGRvY191eShmaWVsZC52YWx1ZSkpe1xuICAgICAgICAgICAgb2sgPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYodHlwZT09XCJ0d29fd29yZHNcIil7XG4gICAgICAgICAgaWYoIVZhbGlkYXRpb25TZXJ2aWNlLnZhbGlkYXRlX3R3b193b3JkcyhmaWVsZC52YWx1ZSkpe1xuICAgICAgICAgICAgb2sgPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYodHlwZT09XCJ0ZXh0YXJlYVwiKXtcbiAgICAgICAgICBpZighVmFsaWRhdGlvblNlcnZpY2UudmFsaWRhdGVfbm90X2VtcHR5KGZpZWxkLmlubmVySFRNTCkpe1xuICAgICAgICAgICAgb2sgPSBmYWxzZTtcbiAgICAgICAgICAgIGxhYmVsLmlubmVySFRNTD1cIkRlYmVzIGNvbXBsZXRhcjxici8+ZWwgY2FtcG8gXCIrZmllbGQubmFtZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYodHlwZT09XCJzZWxlY3RcIil7XG4gICAgICAgICAgaWYoIVZhbGlkYXRpb25TZXJ2aWNlLnZhbGlkYXRlX25vdF9taW51c29uZShmaWVsZFtmaWVsZC5zZWxlY3RlZEluZGV4XS52YWx1ZSkpe1xuICAgICAgICAgICAgb2sgPSBmYWxzZTtcbiAgICAgICAgICAgIGxhYmVsLmlubmVySFRNTD1cIkRlYmVzIGVsZWdpciB2YWxvcjxici8+cGFyYSBlbCBjYW1wbyBcIitmaWVsZC5uYW1lO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZighb2spe1xuICAgICAgICAgIGZpZWxkLnN0eWxlLmJvcmRlckNvbG9yID0gXCJyZWRcIjtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgZmllbGQuc3R5bGUuYm9yZGVyQ29sb3IgPSBcIiM5Nzk3OTdcIjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2s7XG4gICAgfVxuXG5cbiAgfTtcbn1dKTtcbiIsInBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdGYXFTZXJ2aWNlJywgWyckaHR0cCcsICdDb25maWdTZXJ2aWNlJywgZnVuY3Rpb24oJGh0dHAsIENvbmZpZ1NlcnZpY2UpIHtcblxuICB2YXIgYmFzZVVSTCA9IENvbmZpZ1NlcnZpY2UuYmFzZVVSTCArIFwiL2ZhcVwiO1xuXG4gIHJldHVybiB7XG4gICAgYWxsOiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gJGh0dHAuZ2V0KGJhc2VVUkwsIHsgcGFyYW1zOiB7IGFqYXg6IFwiMVwiIH0gfSk7XG4gICAgfVxuICB9O1xufV0pO1xuIiwicG1iX2ltLnNlcnZpY2VzLmZhY3RvcnkoJ0xvYWRlcicsIFsnJGlvbmljTG9hZGluZycsICckdGltZW91dCcsJyRpb25pY1BvcHVwJyxmdW5jdGlvbigkaW9uaWNMb2FkaW5nLCR0aW1lb3V0LCRpb25pY1BvcHVwKSB7XG5cbiAgdmFyIExPQURFUkFQSSA9IHtcblxuICAgIHNob3dMb2FkaW5nOiBmdW5jdGlvbih0ZXh0KSB7XG4gICAgICB0ZXh0ID0gdGV4dCB8fCAnTG9hZGluZy4uLic7XG4gICAgICAkaW9uaWNMb2FkaW5nLnNob3coe1xuICAgICAgICB0ZW1wbGF0ZTogdGV4dFxuICAgICAgfSk7XG4gICAgfSxcblxuICAgIGhpZGVMb2FkaW5nOiBmdW5jdGlvbigpIHtcbiAgICAgICRpb25pY0xvYWRpbmcuaGlkZSgpO1xuICAgIH0sXG5cbiAgICB0b2dnbGVMb2FkaW5nV2l0aE1lc3NhZ2U6IGZ1bmN0aW9uKHRleHQsIHRpbWVvdXQpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgc2VsZi5zaG93TG9hZGluZyh0ZXh0KTtcblxuICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIHNlbGYuaGlkZUxvYWRpbmcoKTtcbiAgICAgIH0sIHRpbWVvdXQgfHwgMzAwMCk7XG4gICAgfSxcblxuICAgIGNvbmZpcm1Qb3B1cDpmdW5jdGlvbih0aXRsZSx0ZXh0KXtcbiAgICAgIHZhciBjb25maXJtUG9wdXAgPSAkaW9uaWNQb3B1cC5jb25maXJtKHtcbiAgICAgdGl0bGU6IHRpdGxlLFxuICAgICB0ZW1wbGF0ZTogdGV4dFxuICAgfSk7XG4gICByZXR1cm4gY29uZmlybVBvcHVwO1xuIH0sXG5cblxuICAgIHNob3dBbGVydDpmdW5jdGlvbihfdGl0bGUsX3RlbXBsYXRlKSB7XG4gICAgICB2YXIgYWxlcnRQb3B1cCA9ICRpb25pY1BvcHVwLmFsZXJ0KHtcbiAgICAgICAgdGl0bGU6IF90aXRsZSxcbiAgICAgICAgdGVtcGxhdGU6IF90ZW1wbGF0ZVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gYWxlcnRQb3B1cDtcbiB9XG5cbiAgfTtcbiAgcmV0dXJuIExPQURFUkFQSTtcbn1dKTtcbiIsInBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdMb2NhdGlvbnNTZXJ2aWNlJywgWyBmdW5jdGlvbigpIHtcblxuICB2YXIgbG9jYXRpb25zT2JqID0ge307XG4gIGxvY2F0aW9uc09iai5pbml0aWFsX2xhdCA9IFwiXCI7XG4gIGxvY2F0aW9uc09iai5pbml0aWFsX2xuZyA9IFwiXCI7XG4gIGxvY2F0aW9uc09iai5uZXdfcmVwb3J0X2xhdCA9IFwiXCI7XG4gIGxvY2F0aW9uc09iai5uZXdfcmVwb3J0X2xuZyA9IFwiXCI7XG5cbiAgbG9jYXRpb25zT2JqLnNhdmVfaW5pdGlhbF9wb3NpdGlvbiA9IGZ1bmN0aW9uKHBvc2l0aW9uKSB7XG4gICAgbG9jYXRpb25zT2JqLmluaXRpYWxfbGF0ID0gIHBvc2l0aW9uLmNvb3Jkcy5sYXRpdHVkZTtcbiAgICBsb2NhdGlvbnNPYmouaW5pdGlhbF9sbmcgPSAgcG9zaXRpb24uY29vcmRzLmxvbmdpdHVkZTtcbiAgfVxuXG4gIGxvY2F0aW9uc09iai5zYXZlX25ld19yZXBvcnRfcG9zaXRpb24gPSBmdW5jdGlvbihsYXQsbG5nKXtcbiAgICBsb2NhdGlvbnNPYmoubmV3X3JlcG9ydF9sYXQgPSBsYXQ7XG4gICAgbG9jYXRpb25zT2JqLm5ld19yZXBvcnRfbG5nID0gbG5nO1xuICB9XG5cbiAgbG9jYXRpb25zT2JqLnNhdmVkTG9jYXRpb25zID0gW107XG5cbiAgcmV0dXJuIGxvY2F0aW9uc09iajtcblxufV0pO1xuIiwiIC8vcG1iX2ltLnNlcnZpY2VzLmZhY3RvcnkoJ01hcFNlcnZpY2UnLCBbIGZ1bmN0aW9uKCkge1xuIHBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdNYXBTZXJ2aWNlJywgWydsZWFmbGV0RGF0YScsICckY29tcGlsZScsIGZ1bmN0aW9uKGxlYWZsZXREYXRhLCAkY29tcGlsZSkge1xuXG4gICAvL0RlZmluaWNpb24gZGUgbGEgcHJveWVjY2Npb24gVVRNIDIxIHNcbiAgIHByb2o0LmRlZnMoJ0VQU0c6MzI3MjEnLCAnK3Byb2o9dXRtICt6b25lPTIxICtzb3V0aCArZWxscHM9V0dTODQgK2RhdHVtPVdHUzg0ICt1bml0cz1tICtub19kZWZzJyk7XG5cblxuICAgdmFyIG1hcFNlcnZpY2UgPSB7fTtcblxuICAgbWFwU2VydmljZS5nb1RvUGxhY2UgPSBmdW5jdGlvbihfcGxhY2Usc2NvcGUpIHtcblxuICAgICB2YXIgX2dlb0pzb24gPSB7XG4gICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgbm9tYnJlOiBfcGxhY2Uubm9tYnJlXG4gICAgICAgfSxcbiAgICAgICBjcnM6IHtcbiAgICAgICAgIHR5cGU6ICduYW1lJyxcbiAgICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICAgbmFtZTogJ3VybjpvZ2M6ZGVmOmNyczpFUFNHOjozMjcyMSdcbiAgICAgICAgIH1cbiAgICAgICB9XG4gICAgIH07XG4gICAgIF9nZW9Kc29uID0gYW5ndWxhci5leHRlbmQoX2dlb0pzb24sIF9wbGFjZS5nZW9tKTtcbiAgICAgLy9hbGVydChKU09OLnN0cmluZ2lmeShfcGxhY2UuZ2VvbSkpO1xuICAgICBsZWFmbGV0RGF0YS5nZXRNYXAoKS50aGVuKGZ1bmN0aW9uKG1hcCkge1xuICAgICAgIHZhciBfbGF0bG5nO1xuICAgICAgIHZhciBsYXllciA9IEwuUHJvai5nZW9Kc29uKF9nZW9Kc29uLCB7XG4gICAgICAgICAncG9pbnRUb0xheWVyJzogZnVuY3Rpb24oZmVhdHVyZSwgbGF0bG5nKSB7XG4gICAgICAgICAgIF9sYXRsbmcgPSBsYXRsbmc7XG4gICAgICAgICAgIHJldHVybiBMLm1hcmtlcihsYXRsbmcpO1xuICAgICAgICAgfVxuICAgICAgIH0pO1xuICAgICAgIC8qbGF5ZXIuYWRkVG8obWFwKTsqL1xuICAgICAgIC8vIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KGxheWVyKSk7XG5cbiAgICAgICBtYXAuc2V0VmlldyhfbGF0bG5nLCAxOCk7XG4gICAgICAgLy9sYXllci5vcGVuUG9wdXAoKTtcbiAgICAgfSk7XG4gICB9O1xuXG4gICBtYXBTZXJ2aWNlLmNlbnRlck1hcE9uQ29vcmRzID0gZnVuY3Rpb24obGF0LGxuZyx6b29tKSB7XG4gICAgIGxlYWZsZXREYXRhLmdldE1hcCgpLnRoZW4oZnVuY3Rpb24obWFwKSB7XG4gICAgICAgIG1hcC5zZXRWaWV3KG5ldyBMLkxhdExuZyhsYXQsIGxuZyksem9vbSk7XG4gICAgICAgfSk7XG4gICAgIH1cblxuICAgcmV0dXJuIG1hcFNlcnZpY2U7XG5cbiB9XSk7XG4iLCJwbWJfaW0uc2VydmljZXMuZmFjdG9yeSgnTmV3c1NlcnZpY2UnLCBbJyRodHRwJywgJ0NvbmZpZ1NlcnZpY2UnLCBmdW5jdGlvbigkaHR0cCwgQ29uZmlnU2VydmljZSkge1xuXG4gIHZhciBiYXNlVVJMID0gQ29uZmlnU2VydmljZS5iYXNlVVJMICsgXCIvZGF0YXV5L25ld3NcIjtcblxuICByZXR1cm4ge1xuICAgIGFsbDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuICRodHRwLmdldChiYXNlVVJMLCB7IHBhcmFtczoge319KVxuICAgIH1cbiAgfTtcbn1dKTtcbiIsInBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdQTUJTZXJ2aWNlJywgWyckaHR0cCcsICdsZWFmbGV0RGF0YScsICckY29yZG92YUZpbGVUcmFuc2ZlcicsICdDb25maWdTZXJ2aWNlJywgZnVuY3Rpb24oJGh0dHAsIGxlYWZsZXREYXRhLCAkY29yZG92YUZpbGVUcmFuc2ZlcixDb25maWdTZXJ2aWNlKSB7XG5cbiAgdmFyIGJhc2UgPSBDb25maWdTZXJ2aWNlLmJhc2VVUkw7XG5cbiAgdmFyIFBNQlNlcnZpY2UgPSB7XG5cbiAgICByZXBvcnQ6IGZ1bmN0aW9uKGZvcm0pIHtcbiAgICAgIGlmIChmb3JtLmZpbGUpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICAgICBmaWxlS2V5OiBcInBob3RvXCIsXG4gICAgICAgICBmaWxlTmFtZTogXCJpbWFnZS5qcGVnXCIsXG4gICAgICAgICBjaHVua2VkTW9kZTogZmFsc2UsXG4gICAgICAgICBtaW1lVHlwZTogXCJpbWFnZS9qcGVnXCIsXG4gICAgICAgICBwYXJhbXMgOiBmb3JtXG4gICAgICAgIH07XG4gICAgICAgIG9wdGlvbnMuaGVhZGVycyA9IHtcbiAgICAgICAgICBDb25uZWN0aW9uOiBcIkNsb3NlXCJcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHRydXN0QWxsSG9zdHMgPSB0cnVlO1xuICAgICAgICByZXR1cm4gJGNvcmRvdmFGaWxlVHJhbnNmZXIudXBsb2FkKGJhc2UgKyAnL3JlcG9ydC9uZXcvbW9iaWxlJywgZm9ybS5maWxlLCBvcHRpb25zLCB0cnVzdEFsbEhvc3RzKTtcbiAgICAgIH1lbHNle1xuICAgICAgICByZXR1cm4gJGh0dHAuZ2V0KGJhc2UgKyAnL3JlcG9ydC9uZXcvbW9iaWxlJywgeyBwYXJhbXM6IGZvcm0gfSk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIHN1YnNjcmliZTogZnVuY3Rpb24gKGVtYWlsLHJlcG9ydF9pZCkge1xuICAgICAgcmV0dXJuICRodHRwLmdldChiYXNlICsgXCIvYWxlcnQvc3Vic2NyaWJlX2FqYXhcIiwgeyBwYXJhbXM6IHsgcnpudnk6IGVtYWlsLCBpZDogcmVwb3J0X2lkLCB0eXBlOiBcInVwZGF0ZXNcIiB9IH0pO1xuICAgIH0sXG5cbiAgICBhYnVzZTogZnVuY3Rpb24gKGVtYWlsLHJlcG9ydF9pZCwgbmFtZSwgc3ViamVjdCwgbWVzc2FnZSkge1xuICAgICAgcmV0dXJuICRodHRwLmdldChiYXNlICsgXCIvY29udGFjdC9zdWJtaXRfYWpheFwiLCB7IHBhcmFtczogeyBlbTogZW1haWwsIGlkOiByZXBvcnRfaWQsIG5hbWU6IG5hbWUsIHN1YmplY3Q6IHN1YmplY3QsIG1lc3NhZ2U6IG1lc3NhZ2UgfSB9KTtcbiAgICB9LFxuXG4gICAgaGlkZTogZnVuY3Rpb24gKHJlcG9ydF9pZCkge1xuICAgICAgdmFyIGRlbGV0ZVVSTCA9IFwiL3JlcG9ydC9kZWxldGVfYWpheC9cIiArIHJlcG9ydF9pZDtcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoYmFzZSArIGRlbGV0ZVVSTCwgeyBwYXJhbXM6IHt9IH0pO1xuICAgIH0sXG5cbiAgICBjb21tZW50OiBmdW5jdGlvbiAocmVwb3J0X2lkLG1lc3NhZ2UsbmFtZSxlbWFpbCxtYXlfc2hvd19uYW1lLGFkZF9hbGVydCxmaXhlZCkge1xuICAgICAgcmV0dXJuICRodHRwLmdldChiYXNlICsgXCIvcmVwb3J0L3VwZGF0ZV9hamF4XCIsXG4gICAgICB7IHBhcmFtczpcbiAgICAgICAge1xuICAgICAgICAgIHN1Ym1pdF91cGRhdGU6IDEsXG4gICAgICAgICAgaWQ6IHJlcG9ydF9pZCxcbiAgICAgICAgICBtYXlfc2hvd19uYW1lOiBtYXlfc2hvd19uYW1lLFxuICAgICAgICAgIGFkZF9hbGVydDogYWRkX2FsZXJ0LFxuICAgICAgICAgIGZpeGVkOiBmaXhlZCxcbiAgICAgICAgICB1cGRhdGU6IG1lc3NhZ2UsXG4gICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICBmb3JtX3J6bnZ5OiBlbWFpbFxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LFxuXG4gIH07XG4gIHJldHVybiBQTUJTZXJ2aWNlO1xuXG59XSk7XG4iLCJwbWJfaW0uc2VydmljZXMuZmFjdG9yeSgnUG9wVXBTZXJ2aWNlJywgWyckaW9uaWNQb3B1cCcsJ1ZhbGlkYXRpb25TZXJ2aWNlJywgZnVuY3Rpb24oJGlvbmljUG9wdXAsVmFsaWRhdGlvblNlcnZpY2UpIHtcblxuICByZXR1cm4ge1xuICAgIHNob3dfYWxlcnQ6IGZ1bmN0aW9uIChhbGVydF90aXRsZSxhbGVydF9tZXNzYWdlKSB7XG4gICAgICAgIHZhciBhbGVydFBvcHVwID0gJGlvbmljUG9wdXAuYWxlcnQoe1xuICAgICAgICAgdGl0bGU6IGFsZXJ0X3RpdGxlLFxuICAgICAgICAgdGVtcGxhdGU6IGFsZXJ0X21lc3NhZ2VcbiAgICAgICAgfSk7XG4gICAgICAgIGFsZXJ0UG9wdXAudGhlbihmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG5cbiAgIGNvbmZpcm1Qb3B1cDogZnVuY3Rpb24odGl0bGUsdGV4dCl7XG4gICAgIHZhciBjb25maXJtUG9wdXAgPSAkaW9uaWNQb3B1cC5jb25maXJtKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogdGl0bGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6IHRleHRcbiAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgIHJldHVybiBjb25maXJtUG9wdXA7XG4gICB9LFxuXG4gICBhc2tGb3JPbmVWYWx1ZVBvcFVwOiBmdW5jdGlvbihzY29wZSx0aXRsZSx0ZXh0LGZpZWxkX25hbWUsdmFsaWRhdGlvblR5cGUpe1xuICAgICAgJHNjb3BlID0gc2NvcGU7XG4gICAgICB2YXIgbXlQb3B1cCA9ICRpb25pY1BvcHVwLnNob3coe1xuICAgICAgdGVtcGxhdGU6IGZpZWxkX25hbWUgKyAnOiA8aW5wdXQgdHlwZT1cInRleHRcIiBpZD1cIm9uZV92YWx1ZV9wb3B1cFwiPjxkaXYgaWQ9XCJlcnJvcl9jb250YWluZXJfaW5zaWRlXCI+PC9kaXY+JyxcbiAgICAgIHRpdGxlOiB0aXRsZSxcbiAgICAgIHN1YlRpdGxlOiB0ZXh0LFxuICAgICAgc2NvcGU6ICRzY29wZSxcbiAgICAgIGJ1dHRvbnM6IFtcbiAgICAgICAgeyB0ZXh0OiAnQ2FuY2VsYXInIH0sXG4gICAgICAgIHtcbiAgICAgICAgICB0ZXh0OiAnPGI+RW52aWFyPC9iPicsXG4gICAgICAgICAgdHlwZTogJ2J1dHRvbi1wb3NpdGl2ZScsXG4gICAgICAgICAgb25UYXA6IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIHZhciBlcnJvcnMgPSBcIlwiO1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJvbmVfdmFsdWVfcG9wdXBcIikudmFsdWU7XG4gICAgICAgICAgICBpZih2YWxpZGF0aW9uVHlwZT09XCJub3ROdWxsXCIpe1xuICAgICAgICAgICAgICBpZighVmFsaWRhdGlvblNlcnZpY2UudmFsaWRhdGVfbm90X2VtcHR5KHZhbHVlKSl7XG4gICAgICAgICAgICAgICAgZXJyb3JzID0gZXJyb3JzICsgJzxoMz4tIEVsIGNhbXBvIFwiJyArIGZpZWxkX25hbWUgKyAnXCIgbm8gcHVlZGUgZXN0YXIgdmFjw61vLjwvaDM+JztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYodmFsaWRhdGlvblR5cGU9PVwiZW1haWxcIil7XG4gICAgICAgICAgICAgIGlmKCFWYWxpZGF0aW9uU2VydmljZS52YWxpZGF0ZV9lbWFpbCh2YWx1ZSkpe1xuICAgICAgICAgICAgICAgIGVycm9ycyA9IGVycm9ycyArICc8aDM+LSBFbCBjYW1wbyBcIicgKyBmaWVsZF9uYW1lICsgJ1wiIG5vIGVzIHVuYSBkaXJlY2Npw7NuIGRlIGNvcnJlbyB2w6FsaWRhLjwvaDM+JztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYodmFsaWRhdGlvblR5cGU9PVwiaWRkb2NfdXlcIil7XG4gICAgICAgICAgICAgIGlmKCFWYWxpZGF0aW9uU2VydmljZS52YWxpZGF0ZV9pZGRvY191eSh2YWx1ZSkpe1xuICAgICAgICAgICAgICAgIGVycm9ycyA9IGVycm9ycyArICc8aDM+LSBFbCBjYW1wbyBcIicgKyBmaWVsZF9uYW1lICsgJ1wiIG5vIGVzIHVuYSBjw6lkdWxhIHVydWd1YXlhIHbDoWxpZGEuPC9oMz4nO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZih2YWxpZGF0aW9uVHlwZT09XCJ0d29fd29yZHNcIil7XG4gICAgICAgICAgICAgIGlmKCFWYWxpZGF0aW9uU2VydmljZS52YWxpZGF0ZV90d29fd29yZHModmFsdWUpKXtcbiAgICAgICAgICAgICAgICBlcnJvcnMgPSBlcnJvcnMgKyAnPGgzPi0gRWwgY2FtcG8gXCInICsgZmllbGRfbmFtZSArICdcIiBkZWJlIGNvbnRlbmVyIGFsIG1lbm9zIGRvcyBwYWxhYnJhcy48L2gzPic7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKGVycm9ycyE9XCJcIil7XG4gICAgICAgICAgICAgIHZhciBlcnJvckRpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZXJyb3JfY29udGFpbmVyX2luc2lkZVwiKTtcbiAgICAgICAgICAgICAgZXJyb3JEaXYuaW5uZXJIVE1MPSBlcnJvcnM7XG4gICAgICAgICAgICAgIGVycm9yRGl2LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgICAgICAgIC8vZG9uJ3QgYWxsb3cgdGhlIHVzZXIgdG8gY2xvc2UgdW5sZXNzIGhlIGVudGVycyB3aWZpIHBhc3N3b3JkXG4gICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIF1cbiAgICB9KTtcbiAgICByZXR1cm4gbXlQb3B1cDtcbiAgIH1cblxuXG4gIH07XG59XSk7XG4iLCJwbWJfaW0uc2VydmljZXMuZmFjdG9yeSgnbG9jYXRpb25BUEknLCBbJyRodHRwJywgJyRxJywgJ0FwaUltRW5kcG9pbnQnLCAnQXBpRGF0YUVuZHBvaW50JywgZnVuY3Rpb24oJGh0dHAsICRxLCBBcGlJbUVuZHBvaW50LCBBcGlEYXRhRW5kcG9pbnQpIHtcblxuICB2YXIgcmVzdFByZWZmaXggPSBcInViaWNhY2lvbmVzUmVzdFByb2RcIjtcblxuXG4gIHZhciBsb2NhdGlvbkFQSSA9IHt9O1xuXG4gIGxvY2F0aW9uQVBJLnNlYXJjaExvY2F0aW9uQnlTdHIgPSBmdW5jdGlvbihfbG9jYXRpb24pIHtcbiAgICByZXR1cm4gJGh0dHAuZ2V0KEFwaUltRW5kcG9pbnQudXJsICsgJy8nICsgcmVzdFByZWZmaXggKyAnL2NhbGxlcycsIHtcbiAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICBwYXJhbXM6IHtcbiAgICAgICAgbm9tYnJlOiBfbG9jYXRpb25cbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuXG4gIGxvY2F0aW9uQVBJLnNlYXJjaEVzcXVpbmFCeVN0ciA9IGZ1bmN0aW9uKF9sb2NhdGlvbikge1xuICAgIC8vY29uc29sZS5sb2coXCJzZWFyY2hFc3F1aW5hQnlTdHIgPSBcIiArIEpTT04uc3RyaW5naWZ5KF9sb2NhdGlvbikpO1xuICAgIC8vcmV0dXJuICRodHRwLmdldChBcGlJbUVuZHBvaW50LnVybCArICcvJyArIHJlc3RQcmVmZml4ICsgJy9lc3F1aW5hLycgKyBfbG9jYXRpb24uY2FsbGUgKyAnLycgKyBfbG9jYXRpb24uZXNxdWluYSwge1xuICAgICAgcmV0dXJuICRodHRwLmdldChBcGlJbUVuZHBvaW50LnVybCArICcvJyArIHJlc3RQcmVmZml4ICsgJy9jcnVjZXMvJyArIF9sb2NhdGlvbi5jYWxsZSArICcvJyxcbiAgICAgIHtcbiAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgbm9tYnJlOiBfbG9jYXRpb24uZXNxdWluYVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgfTtcblxuICBsb2NhdGlvbkFQSS5nZXRMb2NhdGlvbkdlb20gPSBmdW5jdGlvbihfbG9jYXRpb24pIHtcbiAgICB2YXIgdXJsID0gQXBpSW1FbmRwb2ludC51cmwgKyAnLycgKyByZXN0UHJlZmZpeCArIGxvY2F0aW9uQVBJLmdldFBhcmFtUGF0aEJ5VGlwbyhfbG9jYXRpb24udGlwbyk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBfbG9jYXRpb24ucGF0aFBhcmFtcy5sZW5ndGg7IGkrKykge1xuICAgICAgdXJsICs9ICcvJyArIF9sb2NhdGlvbi5wYXRoUGFyYW1zW2ldO1xuICAgIH1cblxuICAgIHJldHVybiAkaHR0cC5nZXQodXJsKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcbiAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICAgIH0pO1xuXG5cbiAgfTtcblxuICBsb2NhdGlvbkFQSS5nZXRQYXJhbVBhdGhCeVRpcG8gPSBmdW5jdGlvbihfdGlwbykge1xuXG4gICAgdmFyIHJlc3RHZW9EYXRhU2VydmljZVBhdGggPSB7XG4gICAgICAnRVNRVUlOQSc6XCIvZXNxdWluYVwiLFxuICAgICAgJ0RJUkVDQ0lPTic6XCIvZGlyZWNjaW9uXCJcbiAgICB9O1xuXG4gICAgcmV0dXJuIHJlc3RHZW9EYXRhU2VydmljZVBhdGhbX3RpcG9dO1xuXG5cbiAgfTtcblxuICByZXR1cm4gbG9jYXRpb25BUEk7XG5cbn1dKTtcbiIsInBtYl9pbS5zZXJ2aWNlcy5mYWN0b3J5KCdfJywgW2Z1bmN0aW9uKCkge1xuICByZXR1cm4gd2luZG93Ll87IC8vVW5kZXJzY29yZSBtdXN0IGFscmVhZHkgYmUgbG9hZGVkIG9uIHRoZSBwYWdlXG59XSk7XG4iLCJwbWJfaW0uc2VydmljZXMuZmFjdG9yeSgnVXNlclNlcnZpY2UnLCBbJyRodHRwJywgZnVuY3Rpb24oJGh0dHApIHtcblxuICAvL3ZhciBiYXNlVVJMID0gXCJodHRwOi8vcG1idXkuZGV2ZWxvcG1lbnQuZGF0YXV5Lm9yZy9hdXRoL2FqYXgvXCI7XG4gIHZhciBVc2VyT2JqID0ge307XG4gIFVzZXJPYmoubmFtZSA9IG51bGw7XG4gIFVzZXJPYmouZW1haWwgPSBudWxsO1xuICBVc2VyT2JqLnBhc3N3b3JkID0gbnVsbDtcbiAgVXNlck9iai5pZGVudGl0eV9kb2N1bWVudCA9IG51bGw7XG4gIFVzZXJPYmoucGhvbmUgPSAnJztcbiAgVXNlck9iai5waWN0dXJlX3VybCA9IFwidXJsKC4vaW1nL2ljb24tdXNlci1hbm9ueW1vdXMucG5nKVwiO1xuXG5cbiAgVXNlck9iai5zYXZlX3VzZXJfZGF0YSA9IGZ1bmN0aW9uICh1c2VyX25hbWUsIHVzZXJfZW1haWwsIHVzZXJfcGFzc3dvcmQsIHVzZXJfaWRfZG9jLCB1c2VyX3Bob25lLCB1c2VyX3BpY3R1cmVfdXJsKSB7XG4gICAgICBVc2VyT2JqLm5hbWUgPSB1c2VyX25hbWU7XG4gICAgICBVc2VyT2JqLmVtYWlsID0gdXNlcl9lbWFpbDtcbiAgICAgIFVzZXJPYmoucGFzc3dvcmQgPSB1c2VyX3Bhc3N3b3JkO1xuICAgICAgVXNlck9iai5pZGVudGl0eV9kb2N1bWVudCA9IHVzZXJfaWRfZG9jO1xuICAgICAgVXNlck9iai5waG9uZSA9IHVzZXJfcGhvbmU7XG4gICAgICBVc2VyT2JqLnBpY3R1cmVfdXJsID0gdXNlcl9waWN0dXJlX3VybDtcbiAgICAgIC8vU0FWRSBJTiBQT1VDSERCXG4gIH1cblxuICBVc2VyT2JqLmVyYXNlX3VzZXJfZGF0YSA9IGZ1bmN0aW9uICgpIHtcbiAgICBVc2VyT2JqLm5hbWUgPSBudWxsO1xuICAgIFVzZXJPYmouZW1haWwgPSBudWxsO1xuICAgIFVzZXJPYmoucGFzc3dvcmQgPSBudWxsO1xuICAgIFVzZXJPYmouaWRlbnRpdHlfZG9jdW1lbnQgPSBudWxsO1xuICAgIFVzZXJPYmoucGhvbmUgPSBudWxsO1xuICAgIFVzZXJPYmoucGljdHVyZV91cmwgPSBudWxsO1xuICAgIC8vREVMRVRFIElOIFBPVUNIREJcbiAgfVxuXG4gIFVzZXJPYmouZ2V0X3VzZXJfZGF0YSA9IGZ1bmN0aW9uICgpIHtcbiAgICAvL0xFVkFOVEEgREUgUE9VQ0hEQiBMT1MgREFUT1MgREVMIFVTVUFSSU8uIFNJIEhBWSBMT1MgUE9ORSBFTiBMQVMgVkFSSUFCTEVTIERFTCBTRVJWSUNJTy4gU0kgTk8gSEFZIFBPTkUgVE9ETyBOVUxMXG4gIH1cblxuICBVc2VyT2JqLmFkZF9waG90byA9IGZ1bmN0aW9uICh1c2VyX3BpY3R1cmVfdXJsKSB7XG4gICAgVXNlck9iai5waWN0dXJlX3VybCA9IHVzZXJfcGljdHVyZV91cmw7XG4gIH1cblxuICBVc2VyT2JqLmlzTG9nZ2VkID0gZnVuY3Rpb24gKCkge1xuICAgIGlmKFVzZXJPYmoubmFtZSE9bnVsbCAmJiBVc2VyT2JqLm5hbWUhPVwiXCIpe1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfWVsc2V7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cblxuICByZXR1cm4gVXNlck9iajtcblxufV0pO1xuIiwicG1iX2ltLnNlcnZpY2VzLmZhY3RvcnkoJ1ZhbGlkYXRpb25TZXJ2aWNlJywgWyckaHR0cCcsJyRpb25pY1BvcHVwJywgZnVuY3Rpb24oJGh0dHAsJGlvbmljUG9wdXApIHtcblxuICByZXR1cm4ge1xuICAgIHZhbGlkYXRlX25vdF9taW51c29uZTogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmKHZhbHVlPT0tMSl7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICB2YWxpZGF0ZV9ub3RfZW1wdHk6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZih2YWx1ZSE9bnVsbCAmJiB2YWx1ZSE9XCJ1bmRlZmluZWRcIiAmJiB2YWx1ZSE9XCJcIil7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICB2YWxpZGF0ZV90d29fd29yZHM6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZih2YWx1ZSE9bnVsbCAmJiB2YWx1ZSE9XCJ1bmRlZmluZWRcIiAmJiB2YWx1ZSE9XCJcIil7XG4gICAgICAgICAgdmFyIHZhbHVlcyA9IHZhbHVlLnNwbGl0KCcgJykuZmlsdGVyKGZ1bmN0aW9uKHYpe3JldHVybiB2IT09Jyd9KTtcbiAgICAgICAgICBpZiAodmFsdWVzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgLy90d28gb3IgbW9yZSB3b3Jkc1xuICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvL25vdCBlbm91Z2ggd29yZHNcbiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIHZhbGlkYXRlX2VtYWlsOiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYodmFsdWUhPW51bGwgJiYgdmFsdWUhPVwidW5kZWZpbmVkXCIgJiYgdmFsdWUhPVwiXCIpe1xuICAgICAgICAgIHZhciByZSA9IC9eKChbXjw+KClcXFtcXF1cXFxcLiw7Olxcc0BcIl0rKFxcLltePD4oKVxcW1xcXVxcXFwuLDs6XFxzQFwiXSspKil8KFwiLitcIikpQCgoXFxbWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfV0pfCgoW2EtekEtWlxcLTAtOV0rXFwuKStbYS16QS1aXXsyLH0pKSQvO1xuICAgICAgICAgIHJldHVybiByZS50ZXN0KHZhbHVlKTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIHZhbGlkYXRlX2lkZG9jX3V5OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIGlmKHZhbHVlIT1udWxsICYmIHZhbHVlIT1cInVuZGVmaW5lZFwiICYmIHZhbHVlIT1cIlwiKXtcbiAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UoL1xcRC9nLCAnJyk7XG4gICAgICAgICAgdmFyIGRpZyA9IHZhbHVlW3ZhbHVlLmxlbmd0aCAtIDFdO1xuICAgICAgICAgIHZhciBhID0gMDsgdmFyIGkgPSAwO1xuICAgICAgICAgIGlmKHZhbHVlLmxlbmd0aCA8PSA2KXtcbiAgICAgICAgICAgIGZvcihpID0gdmFsdWUubGVuZ3RoOyBpIDwgNzsgaSsrKXtcbiAgICAgICAgICAgICAgdmFsdWUgPSAnMCcgKyB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgZm9yKGkgPSAwOyBpIDwgNzsgaSsrKXtcbiAgICAgICAgICAgIGEgKz0gKHBhcnNlSW50KFwiMjk4NzYzNFwiW2ldKSAqIHBhcnNlSW50KHZhbHVlW2ldKSkgJSAxMDtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIHJlc3VsdDtcbiAgICAgICAgICBpZihhJTEwID09PSAwKXtcbiAgICAgICAgICAgIHJlc3VsdCA9IDA7XG4gICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICByZXN1bHQgPSAxMCAtIGEgJSAxMDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYoZGlnID09IHJlc3VsdCl7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICB9ZWxzZXtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbn1dKTtcbiJdfQ==
